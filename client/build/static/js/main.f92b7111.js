/*! For license information please see main.f92b7111.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},66:(e,t,n)=>{n.d(t,{A:()=>c,O:()=>l});var r=n(43),i=n(216),s=n(291),a=n(579);const o=(0,r.createContext)(void 0);function l(e){let{children:t}=e;const[n,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0),f=(0,i.zy)();(0,r.useEffect)(()=>{h(!0);const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t?(d(!0),l(JSON.parse(t))):(d(!1),l(null)),h(!1)},[f]);const m=async(e,t)=>{try{const n=await s.authApi.login(e,t);localStorage.setItem("token",n.token),d(!0);const r=n.user||n,i={id:r.id||r._id,username:r.username,email:r.email,profilePicture:r.profilePicture||"",isAdmin:r.isAdmin||!1};return l(i),localStorage.setItem("user",JSON.stringify(i)),{user:i,token:n.token}}catch(n){throw n}};return(0,a.jsx)(o.Provider,{value:{user:n,login:m,register:async(e,t,n,r,i)=>{try{await s.authApi.register(e,t,n,r,i),await m(t,n)}catch(a){throw a}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),d(!1)},isAuthenticated:c,isAuthLoading:u},children:t})}function c(){const e=(0,r.useContext)(o);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}},141:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(43),i=n(216),s=n(579);const a=()=>{const{token:e}=(0,i.g)(),[t,n]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Set New Password"}),(0,s.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),c(!0),o("");const r=await fetch("/api/auth/reset-password/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),i=await r.json();o(i.message||"Password reset successful."),c(!1)},className:"space-y-4",children:[(0,s.jsx)("input",{type:"password",placeholder:"New password",value:t,onChange:e=>n(e.target.value),required:!0,className:"border rounded px-3 py-2 w-full"}),(0,s.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded w-full",disabled:l,children:l?"Resetting...":"Reset Password"})]}),a&&(0,s.jsx)("div",{className:"mt-4 text-green-600",children:a})]})}},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var v=b.prototype=new y;v.constructor=b,p(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+A(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+A(o=e[c],c);l+=P(o,t,i,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,i,d=s+A(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},T={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},216:(e,t,n)=>{var r;n.d(t,{$P:()=>f,BV:()=>I,C5:()=>L,Ix:()=>R,V8:()=>T,Zp:()=>x,g:()=>y,jb:()=>c,qh:()=>D,x$:()=>b,zy:()=>p});var i=n(43),s=n(387);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const o=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const d=i.createContext(null);const u=i.createContext({outlet:null,matches:[],isDataRoute:!1});const h=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;m()||(0,s.Oi)(!1);let{basename:r,navigator:a}=i.useContext(c),{hash:o,pathname:l,search:d}=b(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:(0,s.HS)([r,l])),a.createHref({pathname:u,search:d,hash:o})}function m(){return null!=i.useContext(d)}function p(){return m()||(0,s.Oi)(!1),i.useContext(d).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function x(){let{isDataRoute:e}=i.useContext(u);return e?function(){let{router:e}=A(_.UseNavigateStable),t=E(C.UseNavigateStable),n=i.useRef(!1);g(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))},[e,t]);return r}():function(){m()||(0,s.Oi)(!1);let e=i.useContext(o),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(u),{pathname:l}=p(),d=JSON.stringify((0,s.yD)(a,n.v7_relativeSplatPath)),h=i.useRef(!1);g(()=>{h.current=!0});let f=i.useCallback(function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let a=(0,s.Gh)(n,JSON.parse(d),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,s.HS)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)},[t,r,d,l,e]);return f}()}function y(){let{matches:e}=i.useContext(u),t=e[e.length-1];return t?t.params:{}}function b(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:a}=i.useContext(u),{pathname:o}=p(),l=JSON.stringify((0,s.yD)(a,r.v7_relativeSplatPath));return i.useMemo(()=>(0,s.Gh)(e,JSON.parse(l),o,"path"===n),[e,l,o,n])}function v(e,t,n,r){m()||(0,s.Oi)(!1);let{navigator:o}=i.useContext(c),{matches:l}=i.useContext(u),h=l[l.length-1],f=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let x,y=p();if(t){var b;let e="string"===typeof t?(0,s.Rr)(t):t;"/"===g||(null==(b=e.pathname)?void 0:b.startsWith(g))||(0,s.Oi)(!1),x=e}else x=y;let v=x.pathname||"/",w=v;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=(0,s.ue)(e,{pathname:w});let N=S(j&&j.map(e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,s.HS)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&N?i.createElement(d.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:s.rc.Pop}},N):N}function w(){let e=function(){var e;let t=i.useContext(h),n=P(C.UseRouteError),r=E(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,s.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const j=i.createElement(w,null);class N extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(u.Provider,{value:this.props.routeContext},i.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(u.Provider,{value:t},r)}function S(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||(0,s.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,r,s)=>{let a,o=!1,h=null,f=null;var m;n&&(a=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||j,d&&(u<0&&0===s?(m="route-fallback",!1||M[m]||(M[m]=!0),o=!0,f=null):u===s&&(o=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,s+1)),g=()=>{let t;return t=a?h:o?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(k,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(N,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var _=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function A(e){let t=i.useContext(o);return t||(0,s.Oi)(!1),t}function P(e){let t=i.useContext(l);return t||(0,s.Oi)(!1),t}function E(e){let t=function(){let e=i.useContext(u);return e||(0,s.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,s.Oi)(!1),n.route.id}const M={};const O=(e,t,n)=>{};function T(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&O("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||O("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&O("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&O("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&O("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&O("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(i,2))).startTransition;function L(e){let{to:t,replace:n,state:r,relative:a}=e;m()||(0,s.Oi)(!1);let{future:o,static:l}=i.useContext(c),{matches:d}=i.useContext(u),{pathname:h}=p(),f=x(),g=(0,s.Gh)(t,(0,s.yD)(d,o.v7_relativeSplatPath),h,"path"===a),y=JSON.stringify(g);return i.useEffect(()=>f(JSON.parse(y),{replace:n,state:r,relative:a}),[f,y,a,n,r]),null}function D(e){(0,s.Oi)(!1)}function R(e){let{basename:t="/",children:n=null,location:r,navigationType:o=s.rc.Pop,navigator:l,static:u=!1,future:h}=e;m()&&(0,s.Oi)(!1);let f=t.replace(/^\/*/,"/"),p=i.useMemo(()=>({basename:f,navigator:l,static:u,future:a({v7_relativeSplatPath:!1},h)}),[f,h,l,u]);"string"===typeof r&&(r=(0,s.Rr)(r));let{pathname:g="/",search:x="",hash:y="",state:b=null,key:v="default"}=r,w=i.useMemo(()=>{let e=(0,s.pb)(g,f);return null==e?null:{location:{pathname:e,search:x,hash:y,state:b,key:v},navigationType:o}},[f,g,x,y,b,v,o]);return null==w?null:i.createElement(c.Provider,{value:p},i.createElement(d.Provider,{children:n,value:w}))}function I(e){let{children:t,location:n}=e;return v(z(t),n)}new Promise(()=>{});i.Component;function z(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,z(e.props.children,a));e.type!==D&&(0,s.Oi)(!1),e.props.index&&e.props.children&&(0,s.Oi)(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=z(e.props.children,a)),n.push(o)}),n}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<i&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,v(e),!p)if(null!==r(c))p=!0,T(j);else{var t=r(d);null!==t&&L(w,t.startTime-e)}}function j(e,n){p=!1,g&&(g=!1,y(_),_=-1),m=!0;var s=f;try{for(v(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),v(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&L(w,u.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function E(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof b)N=function(){b(E)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=E,N=function(){O.postMessage(null)}}else N=function(){x(E,0)};function T(e){S=e,k||(k=!0,N())}function L(e,n){_=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,T(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(g?(y(_),_=-1):g=!0,L(w,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,T(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},291:(e,t,n)=>{n.r(t),n.d(t,{authApi:()=>c,cartApi:()=>h,default:()=>p,orderApi:()=>f,productApi:()=>d,reviewApi:()=>m,transformBackendOrder:()=>s,transformBackendProduct:()=>a,wishlistApi:()=>u});var r=n(379);const i="http://localhost:5000/api";console.log("API_BASE_URL:",i);const s=e=>({id:e._id||e.id,date:e.createdAt||e.date,status:e.status||e.orderStatus||"pending",total:e.totalPrice||e.total||0,items:(e.orderItems||[]).map(e=>{var t,n,r,i,s,a,o;return{product:{id:(null===(t=e.product)||void 0===t?void 0:t._id)||(null===(n=e.product)||void 0===n?void 0:n.id)||e.product,name:e.name||(null===(r=e.product)||void 0===r?void 0:r.name)||"Unknown Product",image:e.image||(null===(i=e.product)||void 0===i?void 0:i.image)||(null===(s=e.product)||void 0===s||null===(a=s.images)||void 0===a?void 0:a[0])||"https://via.placeholder.com/48?text=Product",price:e.price||(null===(o=e.product)||void 0===o?void 0:o.price)||0},quantity:e.quantity||1}}),trackingNumber:e.trackingNumber,shippingAddress:e.shippingAddress||{fullName:"N/A",addressLine1:"N/A",city:"N/A",postalCode:"N/A",country:"N/A"}}),a=e=>({id:e.id||e._id,_id:e._id,name:e.name,price:e.price,originalPrice:e.originalPrice,discount:e.discount,image:Array.isArray(e.images)?e.images[0]:e.image,images:e.images||[e.image],rating:e.rating||0,reviews:e.reviews||e.numReviews||0,numReviews:e.numReviews,inStock:e.inStock,countInStock:e.countInStock,category:e.category,brand:e.brand,description:e.description,features:e.features||[],specifications:e.specifications||{},tags:e.tags||[],weight:e.weight||"",dimensions:e.dimensions||"",warranty:e.warranty||"",returnPolicy:e.returnPolicy,shippingInfo:e.shippingInfo}),o=async e=>{if(!e.ok)try{const t=(await e.json()).message||"Error: ".concat(e.status," ").concat(e.statusText);throw console.error("API Error:",t,e.status),new Error(t)}catch(t){throw console.error("API Error:",e.status,e.statusText),new Error("Network Error: ".concat(e.status," ").concat(e.statusText))}if(204===e.status)return{};try{return await e.json()}catch(t){return console.error("Error parsing JSON response:",t),{}}},l=()=>{const e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:{}},c={login:async(e,t)=>{try{console.log("\ud83d\udd10 Attempting login for:",e),console.log("\ud83c\udf10 API_BASE_URL:",i),console.log("\ud83d\ude80 Making API request to:","".concat(i,"/users/login"));const n=await fetch("".concat(i,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});console.log("\ud83d\udce1 Login response status:",n.status),console.log("\ud83d\udce1 Login response ok:",n.ok);const r=await o(n);console.log("\ud83d\udce6 Raw backend data:",r);const s={token:r.token,user:{id:r._id,username:r.username,email:r.email,profilePicture:r.profilePicture||"/images/avatars/default.jpg",createdAt:(new Date).toISOString(),isAdmin:r.isAdmin}};return console.log("\u2705 Transformed login data:",s),s}catch(n){if(console.error("\u274c Login error:",n),n instanceof TypeError&&n.message.includes("fetch"))throw console.error("\ud83d\udeab Network Error - Unable to connect to server"),console.error("\ud83d\udd0d Check if backend server is running on:",i),new Error("Unable to connect to server. Please check if the backend is running.");throw n}},register:async(e,t,n,r,s)=>{try{0;const a=await fetch("".concat(i,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:n,firstName:r,lastName:s})});return o(a)}catch(a){throw console.error("Registration error:",a),a}},getCurrentUser:async()=>{try{0;const e=await fetch("".concat(i,"/users/profile"),{headers:(0,r.A)({"Content-Type":"application/json"},l())}),t=await o(e);return{id:t._id,username:t.username,email:t.email,profilePicture:t.profilePicture||"/images/avatars/default.jpg",createdAt:(new Date).toISOString(),isAdmin:t.isAdmin,phoneNumber:t.phoneNumber,defaultShippingAddress:t.defaultShippingAddress}}catch(e){throw console.error("Error fetching user data:",e),e}},updateProfile:async e=>{try{0;const t=await fetch("".concat(i,"/users/profile"),{method:"PUT",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify(e)});return o(t)}catch(t){throw console.error("Profile update error:",t),t}},changePassword:async(e,t)=>{try{0;const n=await fetch("".concat(i,"/users/change-password"),{method:"POST",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({currentPassword:e,newPassword:t})});return o(n)}catch(n){throw console.error("Password change error:",n),n}},forgotPassword:async e=>{try{0;const t=await fetch("".concat(i,"/users/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return o(t)}catch(t){throw console.error("Forgot password error:",t),t}},resetPassword:async(e,t)=>{try{0;const n=await fetch("".concat(i,"/users/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:t})});return o(n)}catch(n){throw console.error("Reset password error:",n),n}}},d={getProducts:async e=>{try{const t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[n,r]=e;void 0!==r&&null!==r&&t.append(n,String(r))});const n=await fetch("".concat(i,"/products?").concat(t.toString())),r=await o(n);return{products:r.products?r.products.map(a):[],total:r.totalProducts||0,page:r.page||1,totalPages:r.pages||1}}catch(t){throw console.error("Error fetching products:",t),t}},getProductById:async e=>{try{const t=await fetch("".concat(i,"/products/").concat(e));return o(t)}catch(t){throw console.error("Error fetching product with id ".concat(e,":"),t),t}},getFeaturedProducts:async()=>{try{const e=await fetch("".concat(i,"/products/featured"));return o(e)}catch(e){throw console.error("Error fetching featured products:",e),e}},getRelatedProducts:async e=>{try{const t=await fetch("".concat(i,"/products/").concat(e,"/related"));return o(t)}catch(t){throw console.error("Error fetching related products:",t),t}},getCategories:async()=>{try{const e=await fetch("".concat(i,"/products/categories"));return o(e)}catch(e){throw console.error("Error fetching categories:",e),e}},getBrands:async()=>{try{const e=await fetch("".concat(i,"/products/brands"));return o(e)}catch(e){throw console.error("Error fetching brands:",e),e}},searchProducts:async e=>{try{const t=await fetch("".concat(i,"/products/search?q=").concat(encodeURIComponent(e)));return o(t)}catch(t){throw console.error("Error searching products:",t),t}}},u={getWishlist:async()=>{try{0;const e=await fetch("".concat(i,"/users/wishlist"),{headers:l()});return o(e)}catch(e){throw console.error("Error fetching wishlist:",e),e}},addToWishlist:async e=>{try{0;const t=await fetch("".concat(i,"/users/wishlist"),{method:"POST",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({productId:e})});return o(t)}catch(t){throw console.error("Error adding to wishlist:",t),t}},removeFromWishlist:async e=>{try{0;const t=await fetch("".concat(i,"/users/wishlist/").concat(e),{method:"DELETE",headers:l()});return o(t)}catch(t){throw console.error("Error removing from wishlist:",t),t}},isInWishlist:async e=>{try{0;const t=await fetch("".concat(i,"/users/wishlist/check/").concat(e),{headers:l()});return(await o(t)).inWishlist}catch(t){throw console.error("Error checking wishlist status:",t),t}}},h={getCart:async()=>{try{0;const e=await fetch("".concat(i,"/cart/items"),{headers:l()});return o(e)}catch(e){throw console.error("Error fetching cart:",e),e}},addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{0,console.log("API: Adding product ".concat(e," (quantity: ").concat(t,") to cart"));const n=e,s=await fetch("".concat(i,"/cart/items"),{method:"POST",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({productId:n,quantity:t})}),a=await o(s);return console.log("API: Cart add response:",a),a}catch(n){throw console.error("Error adding to cart:",n),n}},updateCartItem:async(e,t)=>{try{0;const n=await fetch("".concat(i,"/cart/items/").concat(e),{method:"PUT",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({quantity:t})});return o(n)}catch(n){throw console.error("Error updating cart item:",n),n}},removeFromCart:async e=>{try{0;const t=await fetch("".concat(i,"/cart/items/").concat(e),{method:"DELETE",headers:l()});return o(t)}catch(t){throw console.error("Error removing from cart:",t),t}},clearCart:async()=>{try{0;const e=await fetch("".concat(i,"/cart"),{method:"DELETE",headers:l()});return o(e)}catch(e){throw console.error("Error clearing cart:",e),e}},checkout:async(e,t,n,s,a,c,d,u)=>{try{0;const h=await fetch("".concat(i,"/orders"),{method:"POST",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({orderItems:e,shippingAddress:t,paymentMethod:n,shippingMethod:s,taxPrice:a,shippingPrice:c,subtotal:d,totalPrice:u})});return o(h)}catch(h){throw console.error("Error during checkout:",h),h}}},f={getOrders:async()=>{try{0;const e=await fetch("".concat(i,"/orders/myorders"),{headers:(0,r.A)((0,r.A)({},l()),{},{"Cache-Control":"no-cache",Pragma:"no-cache"})}),t=await o(e);return(t||[]).map(s)}catch(e){throw console.error("Error fetching orders:",e),e}},getOrderById:async e=>{try{0;const t=await fetch("".concat(i,"/orders/").concat(e),{headers:l()});return o(t)}catch(t){throw console.error("Error fetching order ".concat(e,":"),t),t}},cancelOrder:async e=>{try{0;const t=await fetch("".concat(i,"/orders/").concat(e,"/cancel"),{method:"POST",headers:l()});return o(t)}catch(t){throw console.error("Error cancelling order ".concat(e,":"),t),t}}},m={getProductReviews:async e=>{try{0;const t=await fetch("".concat(i,"/products/").concat(e,"/reviews"));return o(t)}catch(t){throw console.error("Error fetching reviews for product ".concat(e,":"),t),t}},addReview:async(e,t,n)=>{try{0;const s=await fetch("".concat(i,"/products/").concat(e,"/reviews"),{method:"POST",headers:(0,r.A)((0,r.A)({},l()),{},{"Content-Type":"application/json"}),body:JSON.stringify({rating:t,comment:n})});return o(s)}catch(s){throw console.error("Error adding review for product ".concat(e,":"),s),s}},markReviewHelpful:async e=>{try{0;const t=await fetch("".concat(i,"/reviews/").concat(e,"/helpful"),{method:"POST",headers:l()});return o(t)}catch(t){throw console.error("Error marking review ".concat(e," as helpful:"),t),t}}},p={auth:c,products:d,wishlist:u,cart:h,orders:f,reviews:m}},379:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(705);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},387:(e,t,n)=>{function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>u,Gh:()=>L,HS:()=>D,Oi:()=>o,Rr:()=>h,pX:()=>B,pb:()=>E,rc:()=>i,tH:()=>F,ue:()=>p,yD:()=>T,zR:()=>a}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const s="popstate";function a(e){return void 0===e&&(e={}),f(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:h=!1}=a,f=l.history,m=i.Pop,p=null,g=x();function x(){return(f.state||{idx:null}).idx}function y(){m=i.Pop;let e=x(),t=null==e?null:e-g;g=e,p&&p({action:m,location:v.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let v={get action(){return m},get location(){return e(l,f)},listen(e){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(s,y),p=e,()=>{l.removeEventListener(s,y),p=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=i.Push;let r=d(v.location,e,t);n&&n(r,e),g=x()+1;let s=c(r,g),a=v.createHref(r);try{f.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&p&&p({action:m,location:v.location,delta:1})},replace:function(e,t){m=i.Replace;let r=d(v.location,e,t);n&&n(r,e),g=x();let s=c(r,g),a=v.createHref(r);f.replaceState(s,"",a),h&&p&&p({action:m,location:v.location,delta:0})},go:e=>f.go(e)};return v}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function p(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=E(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=C(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),x(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=y(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,v=3,w=2,j=1,N=10,k=-2,S=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=k),t&&(r+=w),n.filter(e=>!S(e)).reduce((e,t)=>e+(b.test(t)?v:""===t?j:N),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:D([s,d.pathname]),pathnameBase:R(D([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=D([s,d.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),c=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function T(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=h(e):(s=r({},e),o(!s.pathname||!s.pathname.includes("?"),M("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),M("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),M("#","search","hash",s)));let a,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)a=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:I(r),hash:z(i)}}(s,a),u=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!f||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class F extends Error{}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},475:(e,t,n)=>{var r,i;n.d(t,{Kd:()=>m,N_:()=>x,Zp:()=>o.Zp,ok:()=>v});var s=n(43),a=n(950),o=n(216),l=n(387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const h=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(w){}new Map;const f=(r||(r=n.t(s,2))).startTransition;(i||(i=n.t(a,2))).flushSync,(r||(r=n.t(s,2))).useId;function m(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();null==a.current&&(a.current=(0,l.zR)({window:i,v5Compat:!0}));let c=a.current,[d,u]=s.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},m=s.useCallback(e=>{h&&f?f(()=>u(e)):u(e)},[u,h]);return s.useLayoutEffect(()=>c.listen(m),[c,m]),s.useEffect(()=>(0,o.V8)(r),[r]),s.createElement(o.Ix,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:u,state:f,target:m,to:x,preventScrollReset:y,viewTransition:b}=e,v=d(e,h),{basename:j}=s.useContext(o.jb),N=!1;if("string"===typeof x&&g.test(x)&&(n=x,p))try{let e=new URL(window.location.href),t=x.startsWith("//")?new URL(e.protocol+x):new URL(x),n=(0,l.pb)(t.pathname,j);t.origin===e.origin&&null!=n?x=n+t.search+t.hash:N=!0}catch(w){}let k=(0,o.$P)(x,{relative:i}),S=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,viewTransition:d}=void 0===t?{}:t,u=(0,o.Zp)(),h=(0,o.zy)(),f=(0,o.x$)(e,{relative:c});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(h)===(0,l.AO)(f);u(e,{replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:d})}},[h,u,f,r,i,n,e,a,c,d])}(x,{replace:u,state:f,target:m,preventScrollReset:y,relative:i,viewTransition:b});return s.createElement("a",c({},v,{href:n||k,onClick:N||a?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:t,target:m}))});var y,b;function v(e){let t=s.useRef(u(e)),n=s.useRef(!1),r=(0,o.zy)(),i=s.useMemo(()=>function(e,t){let n=u(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),a=(0,o.Zp)(),l=s.useCallback((e,t)=>{const r=u("function"===typeof e?e(i):e);n.current=!0,a("?"+r,t)},[a,i]);return[i,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y||(y={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(b||(b={}))},568:(e,t,n)=>{n.d(t,{p:()=>d,h:()=>c});var r=n(379),i=n(43),s=n(579);const a={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white",warning:"bg-yellow-500 text-black"},o=e=>{let{message:t,type:n="info",onClose:r,duration:o=4e3}=e;return(0,i.useEffect)(()=>{if(o&&r){const e=setTimeout(r,o);return()=>clearTimeout(e)}},[o,r]),(0,s.jsxs)("div",{className:"fixed z-50 bottom-6 right-6 min-w-[240px] max-w-xs px-4 py-3 rounded shadow-lg flex items-center gap-3 ".concat(a[n]),role:"alert","aria-live":"assertive",children:[(0,s.jsx)("span",{className:"flex-1",children:t}),r&&(0,s.jsx)("button",{onClick:r,className:"ml-2 text-lg font-bold opacity-70 hover:opacity-100 focus:outline-none","aria-label":"Dismiss notification",children:"\xd7"})]})},l=(0,i.createContext)(void 0),c=()=>{const e=(0,i.useContext)(l);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e},d=e=>{let{children:t}=e;const[n,a]=(0,i.useState)({message:"",type:"info",visible:!1}),[c,d]=(0,i.useState)(4e3),u=(0,i.useCallback)(function(e){let t=arguments.length>2?arguments[2]:void 0;a({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",visible:!0}),d(t||4e3)},[]),h=(0,i.useCallback)(()=>{a(e=>(0,r.A)((0,r.A)({},e),{},{visible:!1}))},[]);return(0,s.jsxs)(l.Provider,{value:{showNotification:u},children:[t,n.visible&&(0,s.jsx)(o,{message:n.message,type:n.type,onClose:h,duration:c})]})}},579:(e,t,n)=>{e.exports=n(153)},582:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(43),i=n(579);const s=()=>{const[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1);return(0,i.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded shadow",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Reset Password"}),(0,i.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),s("");const n=await fetch("/api/users/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await n.json();s(r.message||"Check your email for reset instructions."),o(!1)},className:"space-y-4",children:[(0,i.jsx)("input",{type:"email",placeholder:"Your email",value:e,onChange:e=>t(e.target.value),required:!0,className:"border rounded px-3 py-2 w-full"}),(0,i.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded w-full",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),n&&(0,i.jsx)("div",{className:"mt-4 text-green-600",children:n})]})}},615:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(43),i=n(66),s=n(216),a=n(579);const o=()=>{var e;const{user:t,isAuthenticated:n}=(0,i.A)(),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)("");if((0,r.useEffect)(()=>{n&&null!==t&&void 0!==t&&t.isAdmin&&x()},[n,t]),!n||null===t||void 0===t||!t.isAdmin)return(0,a.jsx)(s.C5,{to:"/login",replace:!0});const x=async()=>{d(!0);const e=localStorage.getItem("token"),t=await fetch("/api/orders",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),n=await t.json();l(n.orders||[]),d(!1)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Order Management"}),c?(0,a.jsx)("div",{children:"Loading orders..."}):(0,a.jsxs)("table",{className:"min-w-full bg-white rounded shadow",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-2 px-4",children:"Order ID"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"User"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Status"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Total"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Created"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:o.map(e=>{var t;return(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"py-2 px-4",children:e._id}),(0,a.jsx)("td",{className:"py-2 px-4",children:null===(t=e.user)||void 0===t?void 0:t.username}),(0,a.jsx)("td",{className:"py-2 px-4",children:e.status}),(0,a.jsxs)("td",{className:"py-2 px-4",children:["$",e.totalPrice.toFixed(2)]}),(0,a.jsx)("td",{className:"py-2 px-4",children:new Date(e.createdAt).toLocaleString()}),(0,a.jsx)("td",{className:"py-2 px-4",children:(0,a.jsx)("button",{onClick:()=>(e=>{h(e),m(e.status),g(e.trackingNumber||"")})(e),className:"bg-blue-500 text-white px-2 py-1 rounded",children:"View / Update"})})]},e._id)})})]}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Details"}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Order ID:"})," ",u._id]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"User:"})," ",null===(e=u.user)||void 0===e?void 0:e.username]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Status:"})," ",u.status]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Total:"})," $",u.totalPrice.toFixed(2)]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Created:"})," ",new Date(u.createdAt).toLocaleString()]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Delivered:"})," ",u.isDelivered?"Yes (".concat(new Date(u.deliveredAt||"").toLocaleString(),")"):"No"]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Tracking Number:"})," ",u.trackingNumber||"N/A"]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("strong",{children:"Order Items:"}),(0,a.jsx)("ul",{className:"list-disc ml-6",children:u.orderItems.map((e,t)=>(0,a.jsxs)("li",{children:[e.name," x ",e.quantity]},t))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold",children:"Update Status"}),(0,a.jsxs)("select",{value:f,onChange:e=>m(e.target.value),className:"border rounded px-2 py-1 w-full mb-2",children:[(0,a.jsx)("option",{value:"Processing",children:"Processing"}),(0,a.jsx)("option",{value:"Shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"Cancelled",children:"Cancelled"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Tracking Number (optional)",value:p,onChange:e=>g(e.target.value),className:"border rounded px-2 py-1 w-full"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:async()=>{if(!u)return;const e=localStorage.getItem("token");await fetch("/api/orders/".concat(u._id,"/status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({status:f,trackingNumber:p})}),h(null),x()},className:"bg-green-500 text-white px-4 py-2 rounded",children:"Save"}),(0,a.jsx)("button",{onClick:async()=>{const e=localStorage.getItem("token");await fetch("/api/orders/".concat(u._id,"/refund"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),h(null),x()},className:"bg-red-500 text-white px-4 py-2 rounded",children:"Refund Order"}),(0,a.jsx)("button",{onClick:()=>h(null),className:"bg-gray-300 px-4 py-2 rounded",children:"Close"})]})]})})]})}},618:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(43),i=n(216),s=n(579);const a=()=>{const{token:e}=(0,i.g)(),[t,n]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded shadow text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Email Verification"}),(0,s.jsx)("button",{onClick:async()=>{o(!0),n("");const t=await fetch("/api/auth/verify-email/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}),r=await t.json();n(r.message||"Email verified successfully."),o(!1)},className:"bg-green-600 text-white px-4 py-2 rounded",disabled:a,children:a?"Verifying...":"Verify Email"}),t&&(0,s.jsx)("div",{className:"mt-4 text-green-600",children:t})]})}},632:(e,t,n)=>{n.r(t),n.d(t,{SearchProvider:()=>d,useSearch:()=>u});var r=n(379),i=n(43),s=n(291),a=n(579);const o=(0,i.createContext)(void 0),l={query:"",category:"all",brand:"all",priceRange:[0,2e4],rating:0,inStock:!1,sortBy:"relevance",results:[],totalResults:0,isLoading:!1},c=(e,t)=>{switch(t.type){case"SET_QUERY":return(0,r.A)((0,r.A)({},e),{},{query:t.payload});case"SET_CATEGORY":return(0,r.A)((0,r.A)({},e),{},{category:t.payload});case"SET_BRAND":return(0,r.A)((0,r.A)({},e),{},{brand:t.payload});case"SET_PRICE_RANGE":return(0,r.A)((0,r.A)({},e),{},{priceRange:t.payload});case"SET_RATING":return(0,r.A)((0,r.A)({},e),{},{rating:t.payload});case"SET_IN_STOCK":return(0,r.A)((0,r.A)({},e),{},{inStock:t.payload});case"SET_SORT_BY":return(0,r.A)((0,r.A)({},e),{},{sortBy:t.payload});case"SEARCH_PRODUCTS":return(0,r.A)((0,r.A)({},e),{},{isLoading:!0});case"CLEAR_FILTERS":return(0,r.A)((0,r.A)({},l),{},{results:[],totalResults:0,isLoading:!0});default:return e}},d=e=>{let{children:t}=e;const[n,d]=(0,i.useReducer)(c,(0,r.A)((0,r.A)({},l),{},{results:[],totalResults:0}));(0,i.useEffect)(()=>{(async()=>{try{const e={category:"all"!==n.category?n.category:void 0,brand:"all"!==n.brand?n.brand:void 0,search:n.query,minPrice:n.priceRange[0],maxPrice:n.priceRange[1],sortBy:n.sortBy},t=await s.productApi.getProducts(e);d({type:"SEARCH_PRODUCTS"}),d({type:"__UPDATE_RESULTS",payload:{results:t.products,totalResults:t.total}})}catch(e){console.error("Error fetching products:",e)}})()},[n.query,n.category,n.brand,n.priceRange,n.sortBy]);const u={state:n,setQuery:e=>{d({type:"SET_QUERY",payload:e})},setCategory:e=>{d({type:"SET_CATEGORY",payload:e})},setBrand:e=>{d({type:"SET_BRAND",payload:e})},setPriceRange:e=>{d({type:"SET_PRICE_RANGE",payload:e})},setRating:e=>{d({type:"SET_RATING",payload:e})},setInStock:e=>{d({type:"SET_IN_STOCK",payload:e})},setSortBy:e=>{d({type:"SET_SORT_BY",payload:e})},searchProducts:()=>{d({type:"SEARCH_PRODUCTS"})},clearFilters:()=>{d({type:"CLEAR_FILTERS"})},getFilteredProducts:()=>{let e=[...n.results];if(n.query){const t=n.query.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t))||e.brand.toLowerCase().includes(t))}return"all"!==n.category&&(e=e.filter(e=>e.category===n.category)),"all"!==n.brand&&(e=e.filter(e=>e.brand===n.brand)),e=e.filter(e=>e.price>=n.priceRange[0]&&e.price<=n.priceRange[1]),n.rating>0&&(e=e.filter(e=>e.rating>=n.rating)),n.inStock&&(e=e.filter(e=>e.inStock)),e}};return(0,a.jsx)(o.Provider,{value:u,children:t})},u=()=>{const e=(0,i.useContext)(o);if(void 0===e)throw new Error("useSearch must be used within a SearchProvider");return e}},664:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(379),i=n(43),s=n(568),a=n(579);const o=e=>{let{className:t}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center ".concat(t||""),children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-2"}),(0,a.jsx)("span",{className:"text-blue-600 font-semibold",children:"Loading..."})]})};var l=n(66),c=n(216);const d=()=>{const{showNotification:e}=(0,s.h)(),[t,n]=(0,i.useState)([]),[d,u]=(0,i.useState)(""),{user:h,isAuthenticated:f}=(0,l.A)(),[m,p]=((0,c.Zp)(),(0,i.useState)([])),[g,x]=(0,i.useState)([]),[y,b]=(0,i.useState)(!0),[v,w]=(0,i.useState)(null),[j,N]=(0,i.useState)({}),[k,S]=(0,i.useState)(""),[_,C]=(0,i.useState)("all");if((0,i.useEffect)(()=>{f&&null!==h&&void 0!==h&&h.isAdmin&&A()},[f,h]),(0,i.useEffect)(()=>{let e=Array.isArray(m)?m:[];k&&(e=e.filter(e=>{var t,n;return(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(k.toLowerCase()))})),"all"!==_&&(e=e.filter(e=>"admin"===_?e.isAdmin:!e.isAdmin)),x(Array.isArray(e)?e:[])},[m,k,_]),!f||null===h||void 0===h||!h.isAdmin)return(0,a.jsx)(c.C5,{to:"/login",replace:!0});const A=async()=>{b(!0);const t=localStorage.getItem("token");try{const e=await fetch("/api/users",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch users");const n=await e.json();p(Array.isArray(n)?n:[])}catch(r){p([]),e("Failed to load users.","error")}finally{b(!1),n([])}},P=e=>{const{name:t,value:n,type:i,checked:s}=e.target;N(e=>(0,r.A)((0,r.A)({},e),{},{[t]:"checkbox"===i?s:n}))},E=async()=>{if(!v)return;const t=localStorage.getItem("token");try{if(!(await fetch("/api/users/".concat(v),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(j)})).ok)throw new Error("Failed to update user");e("User updated successfully.","success")}catch(n){e("Failed to update user.","error")}finally{w(null),N({}),A()}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"User Management"}),(0,a.jsxs)("div",{className:"mb-4 flex gap-4 items-center",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by username or email",value:k,onChange:e=>S(e.target.value),className:"border rounded px-2 py-1"}),(0,a.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"border rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"all",children:"All"}),(0,a.jsx)("option",{value:"admin",children:"Admins"}),(0,a.jsx)("option",{value:"user",children:"Users"})]})]}),(0,a.jsxs)("div",{className:"mb-4 flex gap-4 items-center",children:[(0,a.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"border rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"",children:"Bulk Actions"}),(0,a.jsx)("option",{value:"delete",children:"Delete Selected"}),(0,a.jsx)("option",{value:"makeAdmin",children:"Make Admin"}),(0,a.jsx)("option",{value:"removeAdmin",children:"Remove Admin"})]}),(0,a.jsx)("button",{className:"bg-indigo-500 text-white px-3 py-1 rounded",disabled:0===t.length||!d,onClick:async()=>{const e=localStorage.getItem("token");if("delete"===d){if(!window.confirm("Delete selected users?"))return;await Promise.all(t.map(t=>fetch("/api/users/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})))}else"makeAdmin"!==d&&"removeAdmin"!==d||await Promise.all(t.map(t=>fetch("/api/users/".concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({isAdmin:"makeAdmin"===d})})));u(""),A()},children:"Apply"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[t.length," selected"]})]}),y?(0,a.jsx)(o,{}):(0,a.jsxs)("table",{className:"min-w-full bg-white rounded shadow",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-2 px-4",children:(0,a.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?n(g&&Array.isArray(g)?g.map(e=>e._id):[]):n([])},checked:g&&Array.isArray(g)&&t.length===g.length&&g.length>0})}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Username"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Email"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Admin"}),(0,a.jsx)("th",{className:"py-2 px-4",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:(g&&Array.isArray(g)?g:[]).map(r=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"py-2 px-4 text-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t.includes(r._id),onChange:e=>{e.target.checked?n([...t,r._id]):n(t.filter(e=>e!==r._id))}})}),(0,a.jsx)("td",{className:"py-2 px-4",children:v===r._id?(0,a.jsx)("input",{name:"username",value:j.username||"",onChange:P,className:"border rounded px-2"}):r.username}),(0,a.jsx)("td",{className:"py-2 px-4",children:v===r._id?(0,a.jsx)("input",{name:"email",value:j.email||"",onChange:P,className:"border rounded px-2"}):r.email}),(0,a.jsx)("td",{className:"py-2 px-4 text-center",children:v===r._id?(0,a.jsx)("input",{type:"checkbox",name:"isAdmin",checked:!!j.isAdmin,onChange:P}):r.isAdmin?"Yes":"No"}),(0,a.jsx)("td",{className:"py-2 px-4",children:v===r._id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:E,className:"bg-green-500 text-white px-2 py-1 rounded mr-2",children:"Save"}),(0,a.jsx)("button",{onClick:()=>w(null),className:"bg-gray-300 px-2 py-1 rounded",children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>(e=>{e._id&&(w(e._id),N({username:e.username,email:e.email,isAdmin:e.isAdmin}))})(r),className:"bg-blue-500 text-white px-2 py-1 rounded mr-2",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>(async t=>{if(!window.confirm("Are you sure you want to delete this user?"))return;const n=localStorage.getItem("token");try{if(!(await fetch("/api/users/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete user");e("User deleted successfully.","success")}catch(r){e("Failed to delete user.","error")}A()})(r._id),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Delete"})]})})]},r._id||r.id||"unknown"))})]})]})}},679:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(43),i=n(579);const s=()=>{const[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1);return(0,i.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded shadow",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Verify Your Email"}),(0,i.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),s("");const n=await fetch("/api/auth/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await n.json();s(r.message||"Check your email for verification link."),o(!1)},className:"space-y-4",children:[(0,i.jsx)("input",{type:"email",placeholder:"Your email",value:e,onChange:e=>t(e.target.value),required:!0,className:"border rounded px-3 py-2 w-full"}),(0,i.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded w-full",disabled:a,children:a?"Sending...":"Send Verification Link"})]}),n&&(0,i.jsx)("div",{className:"mt-4 text-green-600",children:n})]})}},705:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s})},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(m,e)||!u.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,I=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function G(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=vi(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=ji(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Ee=!1;function Me(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Ae(e,t,n)}finally{Ee=!1,(null!==Ne||null!==ke)&&(Pe(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Te=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Ie=null,ze=!1,Fe=null,Be={onError:function(e){Re=!0,Ie=e}};function Ve(e,t,n,r,i,s,a,o,l){Re=!1,Ie=null,De.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ge=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,it=i.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var dt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,kt,St,_t,Ct=!1,At=[],Pt=null,Et=null,Mt=null,Ot=new Map,Tt=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=bi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==Et&&Ft(Et)&&(Et=null),null!==Mt&&Ft(Mt)&&(Mt=null),Ot.forEach(Bt),Tt.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Wt(t,e)}if(0<At.length){Wt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Wt(Pt,e),null!==Et&&Wt(Et,e),null!==Mt&&Wt(Mt,e),Ot.forEach(t),Tt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)zt(n),null===n.blockedOn&&Lt.shift()}var Ht=v.ReactCurrentBatchConfig,qt=!0;function $t(e,t,n,r){var i=vt,s=Ht.transition;Ht.transition=null;try{vt=1,Qt(e,t,n,r)}finally{vt=i,Ht.transition=s}}function Yt(e,t,n,r){var i=vt,s=Ht.transition;Ht.transition=null;try{vt=4,Qt(e,t,n,r)}finally{vt=i,Ht.transition=s}}function Qt(e,t,n,r){if(qt){var i=Kt(e,t,n,r);if(null===i)qr(e,t,r,Jt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=It(Pt,e,t,n,r,i),!0;case"dragenter":return Et=It(Et,e,t,n,r,i),!0;case"mouseover":return Mt=It(Mt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,It(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tt.set(s,It(Tt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&jt(s),null===(s=Kt(e,t,n,r))&&qr(e,t,r,Jt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=bi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Gt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Gt?Gt.value:Gt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(dn),hn=I({},dn,{view:0,detail:0}),fn=an(hn),mn=I({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(mn),gn=an(I({},mn,{dataTransfer:0})),xn=an(I({},hn,{relatedTarget:0})),yn=an(I({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=I({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),wn=an(I({},dn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Sn}var Cn=I({},hn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Cn),Pn=an(I({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(I({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Mn=an(I({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=I({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(On),Ln=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var In=d&&"TextEvent"in window&&!Rn,zn=d&&(!Dn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){_e(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Qn=null;function Jn(e){Fr(e,0)}function Kn(e){if(Y(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Gn=!1;if(d){var Zn;if(d){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Gn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Yn&&(Yn.detachEvent("onpropertychange",rr),Qn=Yn=null)}function rr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];$n(t,Qn,e,we(e)),Me(Jn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Qn=n,(Yn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,yr=null,br=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==xr||xr!==Q(r)||("selectionStart"in(r=xr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},kr={},Sr={};function _r(e){if(kr[e])return kr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Cr=_r("animationend"),Ar=_r("animationiteration"),Pr=_r("animationstart"),Er=_r("transitionend"),Mr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Mr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Or.length;Lr++){var Dr=Or[Lr];Tr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(Ar,"onAnimationIteration"),Tr(Pr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=Ie;Re=!1,Ie=null,ze||(ze=!0,Fe=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;zr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;zr(i,o,c),s=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Br(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Wr]){e[Wr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=$t;break;case 4:i=Yt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=bi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Me(function(){var r=s,i=we(n),a=[];e:{var o=Mr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=xn;break;case"focusout":c="blur",l=xn;break;case"beforeblur":case"afterblur":l=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Cr:case Ar:case Pr:l=yn;break;case Er:l=Mn;break;case"scroll":l=fn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Oe(m,h))&&d.push($r(m,p,f)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=pn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:wi(l),f=null==c?o:wi(c),(o=new d(p,m+"leave",l,n,i)).target=u,o.relatedTarget=f,p=null,bi(i)===r&&((d=new d(h,m+"enter",c,n,i)).target=f,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,m=0,f=d=l;f;f=Qr(f))m++;for(f=0,p=h;p;p=Qr(p))f++;for(;0<m-f;)d=Qr(d),m--;for(;0<f-m;)h=Qr(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Qr(d),h=Qr(h)}d=null}else d=null;null!==l&&Jr(a,o,l,d,!1),null!==c&&null!==u&&Jr(a,u,c,d,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if(Gn)g=or;else{g=sr;var x=ir}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?$n(a,g,n,i):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?wi(r):window,e){case"focusin":(qn(x)||"true"===x.contentEditable)&&(xr=x,yr=r,br=null);break;case"focusout":br=yr=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=tn()):(Zt="value"in(Gt=i)?Gt.value:Gt.textContent,Un=!0)),0<(x=Yr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:x}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Dn&&Vn(e,t)?(e=tn(),en=Zt=Gt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift($r(e,s,i)),null!=(s=Oe(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift($r(n,l,o)):i||null!=(l=Oe(n,s))&&a.push($r(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(s(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,mi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,xi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function bi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ji(e){return e[mi]||null}var Ni=[],ki=-1;function Si(e){return{current:e}}function _i(e){0>ki||(e.current=Ni[ki],Ni[ki]=null,ki--)}function Ci(e,t){ki++,Ni[ki]=e.current,e.current=t}var Ai={},Pi=Si(Ai),Ei=Si(!1),Mi=Ai;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ti(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){_i(Ei),_i(Pi)}function Di(e,t,n){if(Pi.current!==Ai)throw Error(s(168));Ci(Pi,t),Ci(Ei,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,U(e)||"Unknown",i));return I({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Mi=Pi.current,Ci(Pi,e),Ci(Ei,Ei.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,_i(Ei),_i(Pi),Ci(Pi,e)):_i(Ei),Ci(Ei,n)}var Fi=null,Bi=!1,Vi=!1;function Wi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=vt;try{var n=Fi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(et,Ui),i}finally{vt=t,Vi=!1}}return null}var Hi=[],qi=0,$i=null,Yi=0,Qi=[],Ji=0,Ki=null,Xi=1,Gi="";function Zi(e,t){Hi[qi++]=Yi,Hi[qi++]=$i,$i=e,Yi=t}function es(e,t,n){Qi[Ji++]=Xi,Qi[Ji++]=Gi,Qi[Ji++]=Ki,Ki=e;var r=Xi;e=Gi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-ot(t)+i|n<<i|r,Gi=s+e}else Xi=1<<s|n<<i|r,Gi=e}function ts(e){null!==e.return&&(Zi(e,1),es(e,1,0))}function ns(e){for(;e===$i;)$i=Hi[--qi],Hi[qi]=null,Yi=Hi[--qi],Hi[qi]=null;for(;e===Ki;)Ki=Qi[--Ji],Qi[Ji]=null,Gi=Qi[--Ji],Qi[Ji]=null,Xi=Qi[--Ji],Qi[Ji]=null}var rs=null,is=null,ss=!1,as=null;function os(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=di(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Xi,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=di(n.nextSibling);var r=rs;t&&ls(e,t)?os(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function hs(e){if(e!==rs)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=di(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?di(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=di(e.nextSibling)}function ms(){is=rs=null,ss=!1}function ps(e){null===as?as=[e]:as.push(e)}var gs=v.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&bs(s)===t.type)?((r=i(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Rc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?d(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:u(e,t,n,r,null);ys(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function p(i,s,o,l){for(var c=null,d=null,u=s,p=s=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var x=f(i,u,o[p],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(i,u),s=a(x,s,p),null===d?c=x:d.sibling=x,d=x,u=g}if(p===o.length)return n(i,u),ss&&Zi(i,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(i,o[p],l))&&(s=a(u,s,p),null===d?c=u:d.sibling=u,d=u);return ss&&Zi(i,p),c}for(u=r(i,u);p<o.length;p++)null!==(g=m(u,i,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),s=a(g,s,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(i,e)}),ss&&Zi(i,p),c}function g(i,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=o,g=o=0,x=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(x=p,p=null):x=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=x);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,g),null===u?d=b:u.sibling=b,u=b,p=x}if(y.done)return n(i,p),ss&&Zi(i,g),d;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return ss&&Zi(i,g),d}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(i,e)}),ss&&Zi(i,g),d}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=s;null!==d;){if(d.key===c){if((c=a.type)===N){if(7===d.tag){n(r,d.sibling),(s=i(d,a.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bs(c)===d.type){n(r,d.sibling),(s=i(d,a.props)).ref=xs(r,d,a),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===N?((s=Rc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=xs(r,s,a),l.return=r,r=l)}return o(r);case j:e:{for(d=a.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(d=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(D(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=zc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=vs(!0),js=vs(!1),Ns=Si(null),ks=null,Ss=null,_s=null;function Cs(){_s=Ss=ks=null}function As(e){var t=Ns.current;_i(Ns),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ks=e,_s=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Os=null;function Ts(e){null===Os?Os=[e]:Os.push(e)}function Ls(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(a=0,d=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,u,h):m)||void 0===h)break e;u=I({},u,h);break e;case 2:Rs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=u}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},$s=Si(qs),Ys=Si(qs),Qs=Si(qs);function Js(e){if(e===qs)throw Error(s(174));return e}function Ks(e,t){switch(Ci(Qs,t),Ci(Ys,e),Ci($s,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i($s),Ci($s,t)}function Xs(){_i($s),_i(Ys),_i(Qs)}function Gs(e){Js(Qs.current);var t=Js($s.current),n=le(t,e.type);t!==n&&(Ci(Ys,e),Ci($s,n))}function Zs(e){Ys.current===e&&(_i($s),_i(Ys))}var ea=Si(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=v.ReactCurrentDispatcher,sa=v.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,da=!1,ua=!1,ha=0,fa=0;function ma(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:eo,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=to,e=n(r,i)}while(ua)}if(ia.current=Ga,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,da=!1,t)throw Error(s(300));return e}function xa(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(s(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function va(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((aa&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,oa.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==a);null===c?o=r:c.next=l,lr(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Il|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);lr(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function ka(e,t){var n=oa,r=ba(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,vo=!0),r=r.queue,Ra(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ma(9,_a.bind(null,n,r,i,t),void 0,null),null===El)throw Error(s(349));0!==(30&aa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Pa(e)}function Ca(e,t,n){return n(function(){Aa(t)&&Pa(e)})}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Pa(e){var t=Ds(e,1);null!==t&&rc(t,e,1,-1)}function Ea(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,oa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ba().memoizedState}function Ta(e,t,n,r){var i=ya();oa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=ba();r=void 0===r?null:r;var s=void 0;if(null!==la){var a=la.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Ma(t,n,s,r))}oa.flags|=e,i.memoizedState=Ma(1|t,n,s,r)}function Da(e,t){return Ta(8390656,8,e,t)}function Ra(e,t){return La(2048,8,e,t)}function Ia(e,t){return La(4,2,e,t)}function za(e,t){return La(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,Fa.bind(null,t,e),n)}function Va(){}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(lr(n,t)||(n=gt(),oa.lanes|=n,Il|=n,e.baseState=!0),t)}function qa(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{vt=n,sa.transition=r}}function $a(){return ba().memoizedState}function Ya(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Ka(t,n);else if(null!==(n=Ls(e,t,n,r))){rc(n,e,r,tc()),Xa(n,t,r)}}function Qa(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,lr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ls(e,t,i,r))&&(rc(n,e,r,i=tc()),Xa(n,t,r))}}function Ja(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Ka(e,t){ua=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ga={readContext:Ms,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Za={readContext:Ms,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ea,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=qa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=ya();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===El)throw Error(s(349));0!==(30&aa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=El.identifierPrefix;if(ss){var n=Gi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ms,useCallback:Wa,useContext:Ms,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:za,useMemo:Ua,useReducer:wa,useRef:Oa,useState:function(){return wa(va)},useDebugValue:Va,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[wa(va)[0],ba().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:$a,unstable_isNewReconciler:!1},to={readContext:Ms,useCallback:Wa,useContext:Ms,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:za,useMemo:Ua,useReducer:ja,useRef:Oa,useState:function(){return ja(va)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[ja(va)[0],ba().memoizedState]},useMutableSource:Na,useSyncExternalStore:ka,useId:$a,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(rc(t,e,r,n),Vs(t,e,r))}};function so(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function ao(e,t,n){var r=!1,i=Ai,s=t.contextType;return"object"===typeof s&&null!==s?s=Ms(s):(i=Ti(t)?Mi:Pi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ai),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Is(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ms(s):(s=Ti(t)?Mi:Pi.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),Us(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,$l=r),ho(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=v.ReactCurrentOwner,vo=!1;function wo(e,t,n,r){t.child=null===e?js(t,null,n,r):ws(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=ga(e,t,n,r,s,i),n=xa(),null===e||vo?(ss&&n&&ts(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(vo=!0)}}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ll,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Ll,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Ll,Tl),Tl|=r;return wo(e,t,i,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Ti(n)?Mi:Pi.current;return s=Oi(t,s),Es(t,i),n=ga(e,t,n,r,s,i),r=xa(),null===e||vo?(ss&&r&&ts(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Ao(e,t,n,r,i){if(Ti(n)){var s=!0;Ii(t)}else s=!1;if(Es(t,i),null===t.stateNode)Ho(e,t),ao(t,n,r),lo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ms(c):c=Oi(t,c=Ti(n)?Mi:Pi.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Rs=!1;var h=t.memoizedState;a.state=h,Us(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ei.current||Rs?("function"===typeof d&&(ro(t,n,d,r),l=t.memoizedState),(o=Rs||so(t,n,o,r,h,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ms(l):l=Oi(t,l=Ti(n)?Mi:Pi.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==u||h!==l)&&oo(t,a,r,l),Rs=!1,h=t.memoizedState,a.state=h,Us(t,r,a,i);var m=t.memoizedState;o!==u||h!==m||Ei.current||Rs?("function"===typeof f&&(ro(t,n,f,r),m=t.memoizedState),(c=Rs||so(t,n,c,r,h,m,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,i)}function Po(e,t,n,r,i,s){_o(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),qo(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ks(e,t.containerInfo)}function Mo(e,t,n,r,i){return ms(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Oo,To,Lo,Do,Ro={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,i,0,null),e=Rc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Ro,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ic({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ro,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=El)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),rc(r,e,i,-1))}return gc(),Bo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,is=di(i.nextSibling),rs=t,ss=!0,as=null,null!==e&&(Qi[Ji++]=Xi,Qi[Ji++]=Gi,Qi[Ji++]=Ki,Xi=e.id,Gi=e.overflow,Ki=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Lc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Lc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function Wo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Ti(t.type)&&Li(),Yo(t),null;case 3:return r=t.stateNode,Xs(),_i(Ei),_i(Pi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==as&&(oc(as),as=null))),To(e,t),Yo(t),null;case 5:Zs(t);var i=Js(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Yo(t),null}if(e=Js($s.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[mi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[mi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":K(e,r),i=J(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Br("scroll",e):null!=d&&b(e,a,d,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Qs.current),Js($s.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Yo(t),null;case 13:if(_i(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ms(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[fi]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),a=!1}else null!==as&&(oc(as),as=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Xs(),To(e,t),null===e&&Ur(t.stateNode.containerInfo),Yo(t),null;case 10:return As(t.type._context),Yo(t),null;case 19:if(_i(ea),null===(a=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)$o(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$o(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ge()>Ul&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ss)return Yo(t),null}else 2*Ge()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ns(t),t.tag){case 1:return Ti(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),_i(Ei),_i(Pi),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(_i(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ea),null;case 4:return Xs(),null;case 10:return As(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},Lo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js($s.current);var s,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(d in ye(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Xo=!1,Go="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[mi],delete t[gi],delete t[xi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=ul,i=hl;ul=null,fl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ut(e)):ci(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,fl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Go),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));ml(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Sc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var d=be(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):b(i,u,h,d)}switch(l){case"input":G(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[mi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Ge())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(d=Xo)||u,gl(t,e),Xo=d):gl(t,e),yl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(m=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==m?(m.return=f,Zo=m):jl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Ko;var c=Xo;if(Ko=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Nl(i):null!==l?(l.return=a,Zo=l):Nl(i);for(;null!==s;)Zo=s,vl(s,t,n),s=s.sibling;Zo=i,Ko=o,Xo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(Je){Sc(t,t.return,Je)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Nl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Sl=Math.ceil,_l=v.ReactCurrentDispatcher,Cl=v.ReactCurrentOwner,Al=v.ReactCurrentBatchConfig,Pl=0,El=null,Ml=null,Ol=0,Tl=0,Ll=Si(0),Dl=0,Rl=null,Il=0,zl=0,Fl=0,Bl=null,Vl=null,Wl=0,Ul=1/0,Hl=null,ql=!1,$l=null,Yl=null,Ql=!1,Jl=null,Kl=0,Xl=0,Gl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?Ge():-1!==Zl?Zl:Zl=Ge()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Gl=null,Error(s(185));yt(e,n,r),0!==(2&Pl)&&e===El||(e===El&&(0===(2&Pl)&&(zl|=n),4===Dl&&lc(e,Ol)),ic(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Ul=Ge()+500,Bi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ot(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ft(e,e===El?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Wi(e)}(cc.bind(null,e)):Wi(cc.bind(null,e)),oi(function(){0===(6&Pl)&&Ui()}),n=null;else{switch(wt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Ec(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=ft(e,e===El?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Pl;Pl|=2;var a=pc();for(El===e&&Ol===t||(Hl=null,Ul=Ge()+500,fc(e,t));;)try{bc();break}catch(l){mc(e,l)}Cs(),_l.current=a,Pl=i,null!==Ml?t=0:(El=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rl,fc(e,0),lc(e,r),ic(e,Ge()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Rl,fc(e,0),lc(e,r),ic(e,Ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Vl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ge())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(jc.bind(null,e,Vl,Hl),t);break}jc(e,Vl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ot(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ii(jc.bind(null,e,Vl,Hl),r);break}jc(e,Vl,Hl);break;default:throw Error(s(329))}}}return ic(e,Ge()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pl))throw Error(s(327));Nc();var t=ft(e,0);if(0===(1&t))return ic(e,Ge()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rl,fc(e,0),lc(e,t),ic(e,Ge()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Vl,Hl),ic(e,Ge()),null}function dc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Ul=Ge()+500,Bi&&Ui())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Pl)&&Nc();var t=Pl;Pl|=1;var n=Al.transition,r=vt;try{if(Al.transition=null,vt=1,e)return e()}finally{vt=r,Al.transition=n,0===(6&(Pl=t))&&Ui()}}function hc(){Tl=Ll.current,_i(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Xs(),_i(Ei),_i(Pi),ra();break;case 5:Zs(r);break;case 4:Xs();break;case 13:case 19:_i(ea);break;case 10:As(r.type._context);break;case 22:case 23:hc()}n=n.return}if(El=e,Ml=e=Lc(e.current,null),Ol=Tl=t,Dl=0,Rl=null,Fl=zl=Il=0,Vl=Bl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Os=null}return e}function mc(e,t){for(;;){var n=Ml;try{if(Cs(),ia.current=Ga,da){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}da=!1}if(aa=0,ca=la=oa=null,ua=!1,ha=0,Cl.current=null,null===n||null===n.return){Dl=1,Rl=t,Ml=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=xo(o);if(null!==m){m.flags&=-257,yo(m,o,l,0,t),1&m.mode&&go(a,d,t),c=d;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){go(a,d,t),gc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var x=xo(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),yo(x,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ws(a,mo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ws(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(v){t=v,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ga,null===e?Ga:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Il)&&0===(268435455&zl)||lc(El,Ol)}function xc(e,t){var n=Pl;Pl|=2;var r=pc();for(El===e&&Ol===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){mc(e,i)}if(Cs(),Pl=n,_l.current=r,null!==Ml)throw Error(s(261));return El=null,Ol=0,Dl}function yc(){for(;null!==Ml;)vc(Ml)}function bc(){for(;null!==Ml&&!Ke();)vc(Ml)}function vc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?wc(e):Ml=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Tl)))return void(Ml=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Dl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Dl&&(Dl=5)}function jc(e,t,n){var r=vt,i=Al.transition;try{Al.transition=null,vt=1,function(e,t,n,r){do{Nc()}while(null!==Jl);if(0!==(6&Pl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===El&&(Ml=El=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ec(nt,function(){return Nc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var o=vt;vt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ti=qt,mr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++d===i&&(l=o),f===a&&++u===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},qt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,x=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}p=nl,nl=!1}(e,n),xl(n,e),pr(ni),qt=!!ti,ni=ti=null,e.current=n,bl(n,e,i),Xe(),Pl=l,vt=o,Al.transition=a}else e.current=n;if(Ql&&(Ql=!1,Jl=e,Kl=i),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=$l,$l=null,e;0!==(1&Kl)&&0!==e.tag&&Nc(),a=e.pendingLanes,0!==(1&a)?e===Gl?Xl++:(Xl=0,Gl=e):Xl=0,Ui()}(e,t,n,r)}finally{Al.transition=i,vt=r}return null}function Nc(){if(null!==Jl){var e=wt(Kl),t=Al.transition,n=vt;try{if(Al.transition=null,vt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:rl(8,u,a)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var f=(u=Zo).sibling,m=u.return;if(al(u),u===d){Zo=null;break}if(null!==f){f.return=m,Zo=f;break}Zo=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var v=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Zo=v;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(j){Sc(l,l.return,j)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Pl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}r=!0}return r}finally{vt=n,Al.transition=t}}return!1}function kc(e,t,n){e=Bs(e,t=mo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Bs(t,e=po(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Ge()-Wl?fc(e,0):Fl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ds(e,t))&&(yt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ec(e,t){return Ye(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Mc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Rc(n.children,i,a,t);case k:o=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case P:return(e=Oc(13,n,t,i)).elementType=P,e.lanes=a,e;case E:return(e=Oc(19,n,t,i)).elementType=E,e.lanes=a,e;case T:return Ic(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case A:o=11;break e;case M:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function Wc(e){if(!e)return Ai;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ti(n))return Ri(e,n,t)}return t}function Uc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=Wc(null),n=e.current,(s=Fs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,a))&&(rc(e,i,a,s),Vs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),ms();break;case 5:Gs(t);break;case 1:Ti(t.type)&&Ii(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ns,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Ci(ea,1&ea.current),null!==(e=qo(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,ss&&0!==(1048576&t.flags)&&es(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Oi(t,Pi.current);Es(t,n),i=ga(null,t,r,e,i,n);var a=xa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(r)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Is(t),i.updater=io,t.stateNode=i,i._reactInternals=t,lo(t,r,e,n),t=Po(null,t,r,!0,a,n)):(t.tag=0,ss&&a&&ts(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===M)return 14}return 2}(r),e=no(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=No(null,t,r,no(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:no(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:no(r,i),n);case 3:e:{if(Eo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,zs(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Mo(e,t,r,n,i=co(Error(s(424)),t));break e}for(is=di(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,as=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===i){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Gs(t),null===e&&ds(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ri(r,i)?o=null:null!==a&&ri(r,a)&&(t.flags|=32),_o(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ds(t),null;case 13:return zo(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:no(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(Ns,r._currentValue),r._currentValue=o,null!==a)if(lr(a.value,o)){if(a.children===i.children&&!Ei.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ps(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ps(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Ms(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=no(r=t.type,t.pendingProps),No(e,t,r,i=no(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:no(r,i),Ho(e,t),t.tag=1,Ti(r)?(e=!0,Ii(t)):e=!1,Es(t,n),ao(t,r,i),lo(t,r,i,n),Po(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return qc(a)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(bt(t,1|n),ic(t,Ge()),0===(6&Pl)&&(Ul=Ge()+500,Ui()))}break;case 13:uc(function(){var t=Ds(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Yc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ds(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},St=function(){return vt},_t=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},je=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(s(90));Y(r),G(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[vi,wi,ji,_e,Ce,dc]},nd={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{st=id.inject(rd),at=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(s(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(s(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},926:(e,t,n)=>{e.exports=n.p+"static/media/Logo.f000dd0a7206b38d1ba8.png"},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r=n(43),i=n(391),s=n(475),a=n(216),o=n(379);function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],u=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:f="",children:m}=n,p=l(n,d);return(0,r.createElement)("svg",(0,o.A)((0,o.A)({ref:i},c),{},{width:a,height:a,stroke:s,strokeWidth:h?24*Number(u)/Number(a):u,className:["lucide","lucide-".concat((g=e,g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),f].join(" ")},p),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(m)?m:[m]]);var g});return n.displayName="".concat(e),n},h=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),m=u("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),p=u("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),g=u("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=u("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y=u("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var b=n(291),v=n(66),w=n(579);const j=(0,r.createContext)(void 0),N=(e,t)=>{switch(console.log("\ud83d\udd04 Cart reducer action:",t.type,t),t.type){case"ADD_ITEM":{const n=e.items.find(e=>e.product.id===t.payload.id);if(console.log("\ud83d\udd0d Existing item found:",!!n),n){const r=n.quantity+(t.quantity||1);console.log("\ud83d\udcc8 Updating quantity from ".concat(n.quantity," to ").concat(r));const i=e.items.map(e=>e.product.id===t.payload.id?(0,o.A)((0,o.A)({},e),{},{quantity:r}):e),s=i.reduce((e,t)=>e+t.product.price*t.quantity,0),a=i.reduce((e,t)=>e+t.quantity,0);return console.log("\ud83d\udcca Updated totals: ".concat(a," items, $").concat(s.toFixed(2))),(0,o.A)((0,o.A)({},e),{},{items:i,total:s,itemCount:a})}{const n={product:t.payload,quantity:t.quantity||1};console.log("\u2795 Adding new item: ".concat(n.product.name," (qty: ").concat(n.quantity,")"));const r=[...e.items,n],i=r.reduce((e,t)=>e+t.product.price*t.quantity,0),s=r.reduce((e,t)=>e+t.quantity,0);return console.log("\ud83d\udcca New totals: ".concat(s," items, $").concat(i.toFixed(2))),(0,o.A)((0,o.A)({},e),{},{items:r,total:i,itemCount:s})}}case"REMOVE_ITEM":{const n=e.items.filter(e=>e.product.id.toString()!==t.payload.toString());return(0,o.A)((0,o.A)({},e),{},{items:n,total:n.reduce((e,t)=>e+t.product.price*t.quantity,0),itemCount:n.reduce((e,t)=>e+t.quantity,0)})}case"UPDATE_QUANTITY":{const n=e.items.map(e=>e.product.id.toString()===t.payload.productId.toString()?(0,o.A)((0,o.A)({},e),{},{quantity:t.payload.quantity}):e);return(0,o.A)((0,o.A)({},e),{},{items:n,total:n.reduce((e,t)=>e+t.product.price*t.quantity,0),itemCount:n.reduce((e,t)=>e+t.quantity,0)})}case"CLEAR_CART":return(0,o.A)((0,o.A)({},e),{},{items:[],total:0,itemCount:0});case"LOAD_CART":{const n=t.payload;return(0,o.A)((0,o.A)({},e),{},{items:n,total:n.reduce((e,t)=>e+t.product.price*t.quantity,0),itemCount:n.reduce((e,t)=>e+t.quantity,0),loading:!1})}case"SET_LOADING":return(0,o.A)((0,o.A)({},e),{},{loading:t.payload});default:return e}},k={items:[],total:0,itemCount:0,loading:!0},S=e=>{let{children:t}=e;const[n,i]=(0,r.useReducer)(N,k),{isAuthenticated:s}=(0,v.A)(),a=async()=>{console.log("\ud83d\udd04 Loading cart..."),i({type:"SET_LOADING",payload:!0});try{if(s){console.log("\ud83d\udce1 Loading cart from API for authenticated user");const e=await b.cartApi.getCart();console.log("\ud83d\udce6 Cart data from API:",e);const t=e.items.map(e=>({product:{id:e.productId,name:e.name,price:e.price,image:e.image,inStock:e.inStock,countInStock:e.countInStock,rating:0,reviews:0,category:"",brand:"",description:"",features:[],specifications:{},tags:[],weight:"",dimensions:"",warranty:"",returnPolicy:"",shippingInfo:""},quantity:e.quantity}));console.log("\u2705 Formatted cart items:",t),i({type:"LOAD_CART",payload:t})}else{console.log("\ud83d\udcbe Loading cart from localStorage for guest user");const t=localStorage.getItem("cart");if(console.log("\ud83d\udce5 Raw localStorage cart:",t),t)try{const e=JSON.parse(t);console.log("\u2705 Parsed cart from localStorage:",e),i({type:"LOAD_CART",payload:e})}catch(e){console.error("\u274c Error parsing cart from localStorage:",e),i({type:"LOAD_CART",payload:[]})}else console.log("\ud83d\udced No cart found in localStorage"),i({type:"LOAD_CART",payload:[]})}}catch(e){if(console.error("\u274c Error fetching cart data:",e),s)console.log("\ud83d\udd04 Error loading authenticated cart, using empty cart"),i({type:"LOAD_CART",payload:[]});else try{const e=localStorage.getItem("cart"),t=e?JSON.parse(e):[];console.log("\ud83d\udd04 Fallback to localStorage:",t),i({type:"LOAD_CART",payload:t})}catch(t){console.log("\ud83d\udd04 Fallback to empty cart"),i({type:"LOAD_CART",payload:[]})}}};(0,r.useEffect)(()=>{a()},[s]),(0,r.useEffect)(()=>{s||n.loading||(console.log("\ud83d\udcbe Saving cart to localStorage for guest user:",n.items),localStorage.setItem("cart",JSON.stringify(n.items)),console.log("\u2705 Cart saved to localStorage"))},[n.items,s,n.loading]);const o=async e=>{i({type:"REMOVE_ITEM",payload:e});try{s&&await b.cartApi.removeFromCart(e)}catch(t){console.error("Error removing from cart:",t),await a()}},l={state:n,addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{if(console.log("\ud83d\uded2 Adding ".concat(t,' of product "').concat(e.name,'" (ID: ').concat(e.id,") to cart")),console.log("\ud83d\udd10 Authenticated:",s),s){console.log("\ud83d\udce1 Calling API to add product ".concat(e.id," to cart"));const n=await b.cartApi.addToCart(e.id.toString(),t);console.log("\u2705 Cart API response:",n),await a()}else console.log("\ud83d\udc64 Guest user - updating local cart state"),i({type:"ADD_ITEM",payload:e,quantity:t}),console.log("\u2705 Local cart updated for guest user")}catch(n){if(console.error("\u274c Error adding to cart:",n),s?(console.log("\ud83d\udd04 Reloading cart from server due to error"),await a()):(console.log("\ud83d\udd04 Fallback: Adding to local state for guest user"),i({type:"ADD_ITEM",payload:e,quantity:t})),s)throw n}},removeFromCart:o,updateQuantity:async(e,t)=>{if(t<=0)await o(e);else{i({type:"UPDATE_QUANTITY",payload:{productId:e,quantity:t}});try{s&&await b.cartApi.updateCartItem(e,t)}catch(n){console.error("Error updating cart:",n),await a()}}},clearCart:async()=>{i({type:"CLEAR_CART"});try{s&&await b.cartApi.clearCart()}catch(e){console.error("Error clearing cart:",e),await a()}},isInCart:e=>n.items.some(t=>t.product.id.toString()===e.toString()),getCartItem:e=>n.items.find(t=>t.product.id.toString()===e.toString()),refreshCart:async()=>{await a()}};return(0,w.jsx)(j.Provider,{value:l,children:t})},_=()=>{const e=(0,r.useContext)(j);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e},C=(0,r.createContext)(void 0),A=(e,t)=>{switch(t.type){case"ADD_ITEM":return e.items.some(e=>String(e.id)===String(t.payload.id))?e:(0,o.A)((0,o.A)({},e),{},{items:[...e.items,t.payload],itemCount:e.itemCount+1});case"REMOVE_ITEM":{const n=e.items.filter(e=>String(e.id)!==String(t.payload));return(0,o.A)((0,o.A)({},e),{},{items:n,itemCount:n.length})}case"CLEAR_WISHLIST":return(0,o.A)((0,o.A)({},e),{},{items:[],itemCount:0});case"LOAD_WISHLIST":return(0,o.A)((0,o.A)({},e),{},{items:t.payload,itemCount:t.payload.length});default:return e}},P={items:[],itemCount:0},E=e=>{let{children:t}=e;const[n,i]=(0,r.useReducer)(A,P);(0,r.useEffect)(()=>{const e=localStorage.getItem("wishlist");if(e)try{const t=JSON.parse(e);i({type:"LOAD_WISHLIST",payload:t})}catch(t){console.error("Error loading wishlist from localStorage:",t)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("wishlist",JSON.stringify(n.items))},[n.items]);const s=e=>{i({type:"ADD_ITEM",payload:e})},a=e=>{i({type:"REMOVE_ITEM",payload:e})},o=e=>n.items.some(t=>String(t.id)===String(e)),l={state:n,addToWishlist:s,removeFromWishlist:a,clearWishlist:()=>{i({type:"CLEAR_WISHLIST"})},isInWishlist:o,toggleWishlist:e=>{o(e.id)?a(e.id):s(e)}};return(0,w.jsx)(C.Provider,{value:l,children:t})},M=()=>{const e=(0,r.useContext)(C);if(void 0===e)throw new Error("useWishlist must be used within a WishlistProvider");return e},O=()=>{const[e,t]=(0,r.useState)(""),n=(0,a.Zp)();return(0,w.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&n("/track/".concat(e.trim()))},className:"flex items-center space-x-2",children:[(0,w.jsx)("div",{className:"relative",children:(0,w.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter tracking number",className:"w-40 px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,w.jsx)("button",{type:"submit",className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Track"})]})},T=()=>{const[e,t]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),{state:o}=_(),{state:l}=M(),{isAuthenticated:c,logout:d,user:u}=(0,v.A)(),b=[{name:"Home",href:"/"},{name:"Products",href:"/products"},{name:"Categories",href:"/products"},{name:"About",href:"#"},{name:"Contact",href:"#"}],j=["Power & Charging","Audio & Sound","Phone Protection","Storage & Connectivity"];return(0,w.jsxs)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:[(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,w.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)(s.N_,{to:"/",className:"flex items-center",children:(0,w.jsx)("img",{src:n(926),alt:"Logo",className:"w-8 h-8 mr-2 rounded-lg object-contain"})})}),(0,w.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[b.map(e=>(0,w.jsx)(s.N_,{to:e.href,className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors nav-link",children:e.name},e.name)),(0,w.jsxs)("div",{className:"relative group",children:[(0,w.jsxs)("button",{className:"text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-colors nav-link flex items-center",children:["Categories",(0,w.jsx)(h,{className:"ml-1 h-4 w-4"})]}),(0,w.jsx)("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,w.jsx)("div",{className:"py-2",children:j.map(e=>(0,w.jsx)(s.N_,{to:"/products?category=".concat(e),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:e},e))})})]})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)("div",{className:"hidden lg:block",children:(0,w.jsx)(O,{})}),(0,w.jsx)("button",{onClick:()=>a(!i),className:"p-2 text-gray-600 hover:text-primary-600 transition-colors",children:(0,w.jsx)(f,{className:"h-5 w-5"})}),(0,w.jsxs)(s.N_,{to:"/wishlist",className:"p-2 text-gray-600 hover:text-primary-600 transition-colors relative",children:[(0,w.jsx)(m,{className:"h-5 w-5"}),l.itemCount>0&&(0,w.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l.itemCount>99?"99+":l.itemCount})]}),(0,w.jsxs)(s.N_,{to:"/cart",className:"p-2 text-gray-600 hover:text-primary-600 transition-colors relative",children:[(0,w.jsx)(p,{className:"h-5 w-5"}),o.itemCount>0&&(0,w.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o.itemCount>99?"99+":o.itemCount})]}),(0,w.jsxs)("div",{className:"relative group",children:[(0,w.jsx)("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors",children:(0,w.jsx)(g,{className:"h-5 w-5"})}),(0,w.jsx)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,w.jsx)("div",{className:"py-2",children:c?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-500",children:["Welcome, ",(null===u||void 0===u?void 0:u.username)||"User"]}),(null===u||void 0===u?void 0:u.isAdmin)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.N_,{to:"/admin",className:"block px-4 py-2 text-sm text-blue-700 hover:bg-blue-50 hover:text-blue-800 font-medium transition-colors",children:"\ud83d\udd27 Admin Dashboard"}),(0,w.jsx)("div",{className:"border-t border-gray-200 my-1"})]}),(0,w.jsx)(s.N_,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Profile"}),(null===u||void 0===u?void 0:u.isAdmin)&&(0,w.jsx)(s.N_,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Admin Dashboard"}),(0,w.jsx)(s.N_,{to:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Orders"}),(0,w.jsx)(s.N_,{to:"/wishlist",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Wishlist"}),(0,w.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,w.jsx)("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Sign Out"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.N_,{to:"/login",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Sign In"}),(0,w.jsx)(s.N_,{to:"/signup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary-600 transition-colors",children:"Create Account"})]})})})]}),(0,w.jsx)("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",children:e?(0,w.jsx)(x,{className:"h-5 w-5"}):(0,w.jsx)(y,{className:"h-5 w-5"})})]})]}),i&&(0,w.jsx)("div",{className:"pb-4 border-t border-gray-200",children:(0,w.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,w.jsxs)("div",{className:"flex-1 relative",children:[(0,w.jsx)(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,w.jsx)("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,w.jsx)("button",{className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Search"})]})})]}),e&&(0,w.jsx)("div",{className:"md:hidden border-t border-gray-200 bg-white",children:(0,w.jsxs)("div",{className:"px-4 py-2 space-y-1",children:[b.map(e=>(0,w.jsx)(s.N_,{to:e.href,className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",onClick:()=>t(!1),children:e.name},e.name)),(0,w.jsxs)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[(0,w.jsx)("div",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Categories"}),j.map(e=>(0,w.jsx)(s.N_,{to:"/products?category=".concat(e),className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",onClick:()=>t(!1),children:e},e))]})]})})]})},L=u("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),D=u("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),R=u("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),I=u("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),z=u("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),F=u("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),B=()=>(0,w.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,w.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,w.jsx)("img",{src:n(926),alt:"Logo",className:"w-8 h-8 rounded-lg object-contain"}),(0,w.jsx)("span",{className:"text-xl font-bold",children:"TechStore"})]}),(0,w.jsx)("p",{className:"text-gray-300 mb-4 max-w-md",children:"Your trusted source for premium tech products. We offer the latest in chargers, audio devices, and cutting-edge technology with exceptional customer service."}),(0,w.jsxs)("div",{className:"flex space-x-4",children:[(0,w.jsx)("a",{href:"https://facebook.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,w.jsx)(L,{className:"h-5 w-5"})}),(0,w.jsx)("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,w.jsx)(D,{className:"h-5 w-5"})}),(0,w.jsx)("a",{href:"https://instagram.com",className:"text-gray-400 hover:text-white transition-colors",children:(0,w.jsx)(R,{className:"h-5 w-5"})})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,w.jsxs)("ul",{className:"space-y-2",children:[(0,w.jsx)("li",{children:(0,w.jsx)(s.N_,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),(0,w.jsx)("li",{children:(0,w.jsx)(s.N_,{to:"/products",className:"text-gray-300 hover:text-white transition-colors",children:"Products"})}),(0,w.jsx)("li",{children:(0,w.jsx)(s.N_,{to:"/products?category=Chargers",className:"text-gray-300 hover:text-white transition-colors",children:"Chargers"})}),(0,w.jsx)("li",{children:(0,w.jsx)(s.N_,{to:"/products?category=Audio",className:"text-gray-300 hover:text-white transition-colors",children:"Audio"})})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),(0,w.jsxs)("div",{className:"space-y-3",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(I,{className:"h-4 w-4 text-gray-400"}),(0,w.jsx)("span",{className:"text-gray-300",children:"info@techstore.com"})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(z,{className:"h-4 w-4 text-gray-400"}),(0,w.jsx)("span",{className:"text-gray-300",children:"+1 (555) 123-4567"})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)(F,{className:"h-4 w-4 text-gray-400"}),(0,w.jsx)("span",{className:"text-gray-300",children:"123 Tech Street, Digital City"})]})]})]})]}),(0,w.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:(0,w.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,w.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2024 TechStore. All rights reserved."}),(0,w.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,w.jsx)(s.N_,{to:"/privacy-policy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),(0,w.jsx)(s.N_,{to:"/terms-of-service",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),(0,w.jsx)(s.N_,{to:"/shipping-policy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Shipping Policy"})]})]})})]})}),V=u("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),W=u("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),U=u("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),H=u("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),q=u("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),$=e=>{let{product:t,onAddToCart:n}=e;const[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),c=(0,r.useRef)(null),{isInCart:d}=_(),{isInWishlist:u,toggleWishlist:h}=M();(0,r.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&a(!0)},{threshold:.1});return c.current&&e.observe(c.current),()=>e.disconnect()},[]);const f=t.images&&t.images.length>0&&t.images[0]?t.images[0]:"https://via.placeholder.com/300x200?text=Product+Image";return(0,w.jsxs)("div",{ref:c,className:"card product-card group ".concat(i?"fade-in-up":"opacity-0"),style:{transitionDelay:i?"0.1s":"0s",transform:i?"translateY(0)":"translateY(30px)"},children:[(0,w.jsxs)("div",{className:"relative overflow-hidden rounded-t-xl image-zoom",children:[(0,w.jsx)("img",{src:f,alt:t.name,className:"w-full h-48 object-cover transition-all duration-500 ".concat(o?"image-loaded":"image-loading"),onLoad:()=>l(!0),onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=Product+Image",l(!0)}}),t.discount&&(0,w.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium animate-pulse",children:[t.discount,"% OFF"]}),!t.inStock&&(0,w.jsx)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium animate-pulse",children:"Out of Stock"}),(0,w.jsx)("div",{className:"absolute top-2 left-2 bg-primary-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:t.category}),(0,w.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),h(t)},className:"absolute top-2 right-2 p-2 rounded-full transition-all duration-300 ".concat(u(t.id)?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-white"),children:(0,w.jsx)(m,{className:"h-4 w-4 ".concat(u(t.id)?"fill-current":"")})}),(0,w.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,w.jsxs)("div",{className:"p-4",children:[t.brand&&(0,w.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:t.brand}),(0,w.jsx)(s.N_,{to:"/products/".concat(t.id),children:(0,w.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2 mb-2",children:t.name})}),(0,w.jsxs)("div",{className:"flex items-center mb-2",children:[(0,w.jsx)("div",{className:"flex items-center mr-2 star-rating",children:(g=t.rating,Array.from({length:5},(e,t)=>(0,w.jsx)(q,{className:"h-4 w-4 star ".concat(t<Math.floor(g)?"text-yellow-400 fill-current":"text-gray-300")},t)))}),(0,w.jsxs)("span",{className:"text-sm text-gray-600",children:["(",t.reviews,")"]})]}),(0,w.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsxs)("span",{className:"text-2xl font-bold text-gray-900 price-tag",children:["R",t.price.toLocaleString()]}),t.originalPrice&&t.originalPrice>t.price&&(0,w.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["R",t.originalPrice.toLocaleString()]})]})}),t.features.length>0&&(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.features.slice(0,2).map((e,t)=>(0,w.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:e},t)),t.features.length>2&&(0,w.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.features.length-2," more"]})]})}),(0,w.jsx)("button",{onClick:()=>n(t),disabled:!t.inStock,className:"w-full py-2 px-4 rounded-lg font-medium transition-all duration-300 cart-btn-pulse ".concat(t.inStock?"bg-primary-600 hover:bg-primary-700 text-white hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:(0,w.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,w.jsx)(p,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:d(t.id.toString())?"In Cart":t.inStock?"Add to Cart":"Out of Stock"})]})})]})]});var g},Y=n.p+"static/media/Chargers.057e1c74a830c08a5d9e.jpg",Q=n.p+"static/media/Audio.45e16916eae66a5a205e.jpg",J=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),{addToCart:a}=_();(0,r.useEffect)(()=>{(async()=>{try{console.log("Loading featured products from API...");const e=await b.productApi.getProducts();console.log("API result:",e);const n=e.products.slice(0,4);t(n)}catch(e){console.error("Error loading featured products:",e),t([])}finally{i(!1)}})()},[]);const o=async e=>{try{console.log("\ud83d\uded2 Home: Adding product to cart:",e.name,e.id),await a(e),console.log("\u2705 Home: Successfully added ".concat(e.name," to cart"))}catch(t){console.error("\u274c Home: Failed to add product to cart:",t),alert("\u274c Failed to add ".concat(e.name," to cart. Please try again."))}},l=[{icon:(0,w.jsx)(V,{className:"h-8 w-8 text-primary-600"}),title:"Secure Shopping",description:"Your data is protected with bank-level security"},{icon:(0,w.jsx)(W,{className:"h-8 w-8 text-primary-600"}),title:"Fast Shipping",description:"Free shipping on orders over $50"},{icon:(0,w.jsx)(U,{className:"h-8 w-8 text-primary-600"}),title:"24/7 Support",description:"Get help whenever you need it"}],c=[{name:"Chargers",image:Y,description:"Fast charging solutions for all devices",link:"/products?category=Chargers"},{name:"Audio",image:Q,description:"Premium sound quality headphones and speakers",link:"/products?category=Audio"}];return(0,w.jsxs)("div",{className:"min-h-screen",children:[(0,w.jsxs)("section",{className:"parallax bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20 relative overflow-hidden",style:{backgroundImage:'url("https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80")'},children:[(0,w.jsx)("div",{className:"absolute inset-0",children:[...Array(20)].map((e,t)=>(0,w.jsx)("div",{className:"particle",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),width:"".concat(4*Math.random()+2,"px"),height:"".concat(4*Math.random()+2,"px"),animationDelay:"".concat(8*Math.random(),"s"),animationDuration:"".concat(4*Math.random()+6,"s")}},t))}),(0,w.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),(0,w.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-600/80 to-primary-800/80"}),(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6 float-animation text-reveal",children:"Premium Tech Products"}),(0,w.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto fade-in-up stagger-1",children:"Discover the latest in chargers, audio devices, and cutting-edge technology. Quality products for the modern lifestyle."}),(0,w.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center fade-in-up stagger-2",children:[(0,w.jsxs)(s.N_,{to:"/products",className:"btn-primary glow-on-hover button-bounce inline-flex items-center",children:["Shop Now",(0,w.jsx)(H,{className:"ml-2 h-5 w-5"})]}),(0,w.jsx)(s.N_,{to:"/products?category=Audio",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-all duration-300 glow-on-hover button-bounce",children:"Explore Audio"})]})]})})]}),(0,w.jsx)("section",{className:"py-16 bg-white",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,w.jsxs)("div",{className:"text-center mb-12 fade-in-up",children:[(0,w.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4 gradient-text",children:"Why Choose TechStore?"}),(0,w.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We're committed to providing the best shopping experience with quality products and exceptional service."})]}),(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:l.map((e,t)=>(0,w.jsxs)("div",{className:"text-center fade-in-up",style:{animationDelay:"".concat(.2*(t+1),"s")},children:[(0,w.jsx)("div",{className:"flex justify-center mb-4",children:(0,w.jsx)("div",{className:"feature-icon",children:e.icon})}),(0,w.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,w.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,w.jsx)("section",{className:"py-16 bg-gray-50",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,w.jsxs)("div",{className:"text-center mb-12 fade-in-up",children:[(0,w.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4 gradient-text",children:"Shop by Category"}),(0,w.jsx)("p",{className:"text-lg text-gray-600",children:"Find exactly what you're looking for in our organized categories"})]}),(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:c.map((e,t)=>(0,w.jsx)(s.N_,{to:e.link,className:"group block category-card fade-in-up",style:{animationDelay:"".concat(.3*(t+1),"s")},children:(0,w.jsx)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"image-zoom",children:(0,w.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover transition-transform duration-300"})}),(0,w.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-30 transition-all duration-300"}),(0,w.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center text-white",children:[(0,w.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e.name}),(0,w.jsx)("p",{className:"text-lg",children:e.description})]})})]})})},t))})]})}),(0,w.jsx)("section",{className:"py-16 bg-white",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,w.jsxs)("div",{className:"flex justify-between items-center mb-8 fade-in-up",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2 gradient-text",children:"Featured Products"}),(0,w.jsx)("p",{className:"text-gray-600",children:"Our most popular and highly-rated products"})]}),(0,w.jsxs)(s.N_,{to:"/products",className:"text-primary-600 hover:text-primary-700 font-semibold flex items-center nav-link",children:["View All",(0,w.jsx)(H,{className:"ml-2 h-4 w-4"})]})]}),n?(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>(0,w.jsxs)("div",{className:"animate-pulse",children:[(0,w.jsx)("div",{className:"skeleton h-48 rounded-t-xl mb-4"}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("div",{className:"skeleton h-4 rounded"}),(0,w.jsx)("div",{className:"skeleton h-4 rounded w-3/4"}),(0,w.jsx)("div",{className:"skeleton h-6 rounded w-1/2"})]})]},t))}):(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,t)=>(0,w.jsx)(s.N_,{to:"/products/".concat(e.id),className:"fade-in-up block hover:shadow-lg transition-shadow duration-200",style:{animationDelay:"".concat(.1*t,"s")},children:(0,w.jsx)($,{product:e,onAddToCart:o})},e.id))})]})}),(0,w.jsx)("section",{className:"py-16 bg-primary-600 text-white",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,w.jsx)("h2",{className:"text-3xl font-bold mb-4 fade-in-up",children:"Ready to Upgrade Your Tech?"}),(0,w.jsx)("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto fade-in-up stagger-1",children:"Join thousands of satisfied customers who trust TechStore for their tech needs."}),(0,w.jsxs)(s.N_,{to:"/products",className:"btn-primary glow-on-hover inline-flex items-center fade-in-up stagger-2",children:["Start Shopping",(0,w.jsx)(H,{className:"ml-2 h-5 w-5"})]})]})})]})};var K=n(568);const X=()=>{const{showNotification:e}=(0,K.h)(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!0),{addToCart:o,refreshCart:l}=_(),[c]=(0,s.ok)();(0,r.useEffect)(()=>{(async()=>{a(!0);try{const e=c.get("category"),t={};e&&(t.category=e);const r=await b.productApi.getProducts(t);n(r.products)}catch(e){n([])}finally{a(!1)}})()},[c]);const d=async t=>{try{await o(t),await l(),e("".concat(t.name," added to cart!"),"success")}catch(n){e("Failed to add product to cart. Please try again.","error")}};return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,w.jsxs)("div",{className:"mb-8",children:[(0,w.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products"}),(0,w.jsx)("p",{className:"text-gray-600",children:"Browse all available products in our store"})]}),i?(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>(0,w.jsxs)("div",{className:"animate-pulse",children:[(0,w.jsx)("div",{className:"skeleton h-48 rounded-t-xl mb-4"}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("div",{className:"skeleton h-4 rounded"}),(0,w.jsx)("div",{className:"skeleton h-4 rounded w-3/4"}),(0,w.jsx)("div",{className:"skeleton h-6 rounded w-1/2"})]})]},t))}):(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,t)=>(0,w.jsx)("div",{className:"fade-in-up block hover:shadow-lg transition-shadow duration-200",style:{animationDelay:"".concat(.1*t,"s")},children:(0,w.jsx)($,{product:e,onAddToCart:d})},e.id))})]})})};function G(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function Z(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every(n=>{const r=e[n],i=t[n];return"function"===typeof r?"".concat(r)==="".concat(i):G(r)&&G(i)?Z(r,i):r===i})}function ee(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function te(e){return"number"===typeof e}function ne(e){return"string"===typeof e}function re(e){return"boolean"===typeof e}function ie(e){return"[object Object]"===Object.prototype.toString.call(e)}function se(e){return Math.abs(e)}function ae(e){return Math.sign(e)}function oe(e,t){return se(e-t)}function le(e){return fe(e).map(Number)}function ce(e){return e[de(e)]}function de(e){return Math.max(0,e.length-1)}function ue(e,t){return t===de(e)}function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from(Array(e),(e,n)=>t+n)}function fe(e){return Object.keys(e)}function me(e,t){return[e,t].reduce((e,t)=>(fe(t).forEach(n=>{const r=e[n],i=t[n],s=ie(r)&&ie(i);e[n]=s?me(r,i):i}),e),{})}function pe(e,t){return"undefined"!==typeof t.MouseEvent&&e instanceof t.MouseEvent}function ge(){let e=[];const t={add:function(n,r,i){let s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};if("addEventListener"in n)n.addEventListener(r,i,a),s=()=>n.removeEventListener(r,i,a);else{const e=n;e.addListener(i),s=()=>e.removeListener(i)}return e.push(s),t},clear:function(){e=e.filter(e=>e())}};return t}function xe(e,t,n,r){const i=ge(),s=1e3/60;let a=null,o=0,l=0;function c(e){if(!l)return;a||(a=e,n(),n());const i=e-a;for(a=e,o+=i;o>=s;)n(),o-=s;r(o/s),l&&(l=t.requestAnimationFrame(c))}function d(){t.cancelAnimationFrame(l),a=null,o=0,l=0}return{init:function(){i.add(e,"visibilitychange",()=>{e.hidden&&(a=null,o=0)})},destroy:function(){d(),i.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:d,update:n,render:r}}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=se(e-t);function r(t){return t<e}function i(e){return e>t}function s(e){return r(e)||i(e)}return{length:n,max:t,min:e,constrain:function(n){return s(n)?r(n)?e:t:n},reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function be(e,t,n){const{constrain:r}=ye(0,e),i=e+1;let s=a(t);function a(e){return n?se((i+e)%i):r(e)}function o(){return s}function l(){return be(e,o(),n)}const c={get:o,set:function(e){return s=a(e),c},add:function(e){return l().set(o()+e)},clone:l};return c}function ve(e,t,n,r,i,s,a,o,l,c,d,u,h,f,m,p,g,x,y){const{cross:b,direction:v}=e,w=["INPUT","SELECT","TEXTAREA"],j={passive:!1},N=ge(),k=ge(),S=ye(50,225).constrain(f.measure(20)),_={mouse:300,touch:400},C={mouse:500,touch:600},A=m?43:25;let P=!1,E=0,M=0,O=!1,T=!1,L=!1,D=!1;function R(e){if(!pe(e,r)&&e.touches.length>=2)return I(e);const t=s.readPoint(e),n=s.readPoint(e,b),a=oe(t,E),l=oe(n,M);if(!T&&!D){if(!e.cancelable)return I(e);if(T=a>l,!T)return I(e)}const d=s.pointerMove(e);a>p&&(L=!0),c.useFriction(.3).useDuration(.75),o.start(),i.add(v(d)),e.preventDefault()}function I(e){const t=d.byDistance(0,!1).index!==u.get(),n=s.pointerUp(e)*(m?C:_)[D?"mouse":"touch"],r=function(e,t){const n=u.add(-1*ae(e)),r=d.byDistance(e,!m).distance;return m||se(e)<S?r:g&&t?.5*r:d.byIndex(n.get(),0).distance}(v(n),t),i=function(e,t){if(0===e||0===t)return 0;if(se(e)<=se(t))return 0;const n=oe(se(e),se(t));return se(n/e)}(n,r),a=A-10*i,o=x+i/50;T=!1,O=!1,k.clear(),c.useDuration(a).useFriction(o),l.distance(r,!m),D=!1,h.emit("pointerUp")}function z(e){L&&(e.stopPropagation(),e.preventDefault(),L=!1)}return{init:function(e){if(!y)return;function o(o){(re(y)||y(e,o))&&function(e){const o=pe(e,r);if(D=o,L=m&&o&&!e.buttons&&P,P=oe(i.get(),a.get())>=2,o&&0!==e.button)return;if(function(e){const t=e.nodeName||"";return w.includes(t)}(e.target))return;O=!0,s.pointerDown(e),c.useFriction(0).useDuration(0),i.set(a),function(){const e=D?n:t;k.add(e,"touchmove",R,j).add(e,"touchend",I).add(e,"mousemove",R,j).add(e,"mouseup",I)}(),E=s.readPoint(e),M=s.readPoint(e,b),h.emit("pointerDown")}(o)}const l=t;N.add(l,"dragstart",e=>e.preventDefault(),j).add(l,"touchmove",()=>{},j).add(l,"touchend",()=>{}).add(l,"touchstart",o).add(l,"mousedown",o).add(l,"touchcancel",I).add(l,"contextmenu",I).add(l,"click",z,!0)},destroy:function(){N.clear(),k.clear()},pointerDown:function(){return O}}}function we(e,t){let n,r;function i(e){return e.timeStamp}function s(n,r){const i=r||e.scroll,s="client".concat("x"===i?"X":"Y");return(pe(n,t)?n:n.touches[0])[s]}return{pointerDown:function(e){return n=e,r=e,s(e)},pointerMove:function(e){const t=s(e)-s(r),a=i(e)-i(n)>170;return r=e,a&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;const t=s(r)-s(n),a=i(e)-i(n),o=i(e)-i(r)>170,l=t/a;return a&&!o&&se(l)>.1?l:0},readPoint:s}}function je(e,t,n,r,i,s,a){const o=[e].concat(r);let l,c,d=[],u=!1;function h(e){return i.measureSize(a.measure(e))}return{init:function(i){s&&(c=h(e),d=r.map(h),l=new ResizeObserver(n=>{(re(s)||s(i,n))&&function(n){for(const s of n){if(u)return;const n=s.target===e,a=r.indexOf(s.target),o=n?c:d[a];if(se(h(n?e:r[a])-o)>=.5){i.reInit(),t.emit("resize");break}}}(n)}),n.requestAnimationFrame(()=>{o.forEach(e=>l.observe(e))}))},destroy:function(){u=!0,l&&l.disconnect()}}}function Ne(e,t,n,r,i){const s=i.measure(10),a=i.measure(50),o=ye(.1,.99);let l=!1;function c(){return!l&&(!!e.reachedAny(n.get())&&!!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(i){if(!c())return;const l=e.reachedMin(t.get())?"min":"max",d=se(e[l]-t.get()),u=n.get()-t.get(),h=o.constrain(d/a);n.subtract(u*h),!i&&se(u)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function ke(e,t,n,r){const i=t.min+.1,s=t.max+.1,{reachedMin:a,reachedMax:o}=ye(i,s);return{loop:function(t){if(!function(e){return 1===e?o(n.get()):-1===e&&a(n.get())}(t))return;const i=e*(-1*t);r.forEach(e=>e.add(i))}}}function Se(e,t,n,r,i){const{reachedAny:s,removeOffset:a,constrain:o}=r;function l(e){return e.concat().sort((e,t)=>se(e)-se(t))[0]}function c(t,r){const i=[t,t+n,t-n];if(!e)return t;if(!r)return l(i);const s=i.filter(e=>ae(e)===r);return s.length?l(s):ce(i)-n}const d={byDistance:function(n,r){const l=i.get()+n,{index:d,distance:u}=function(n){const r=e?a(n):o(n),i=t.map((e,t)=>({diff:c(e-r,0),index:t})).sort((e,t)=>se(e.diff)-se(t.diff)),{index:s}=i[0];return{index:s,distance:r}}(l),h=!e&&s(l);return!r||h?{index:d,distance:n}:{index:d,distance:n+c(t[d]-u,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-i.get(),n)}},shortcut:c};return d}function _e(e,t,n,r,i,s,a,o){const l={passive:!0,capture:!0};let c=0;function d(e){"Tab"===e.code&&(c=(new Date).getTime())}const u={init:function(u){o&&(s.add(document,"keydown",d,!1),t.forEach((t,d)=>{s.add(t,"focus",t=>{(re(o)||o(u,t))&&function(t){if((new Date).getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const s=n.findIndex(e=>e.includes(t));te(s)&&(i.useDuration(0),r.index(s,0),a.emit("slideFocus"))}(d)},l)}))}};return u}function Ce(e){let t=e;function n(e){return te(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function Ae(e,t){const n="x"===e.scroll?function(e){return"translate3d(".concat(e,"px,0px,0px)")}:function(e){return"translate3d(0px,".concat(e,"px,0px)")},r=t.style;let i=null,s=!1;return{clear:function(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(s)return;const a=(o=e.direction(t),Math.round(100*o)/100);var o;a!==i&&(r.transform=n(a),i=a)},toggleActive:function(e){s=!e}}}function Pe(e,t,n,r,i,s,a,o,l){const c=le(i),d=le(i).reverse(),u=function(){const e=a[0];return m(f(d,e),n,!1)}().concat(function(){const e=t-a[0]-1;return m(f(c,e),-n,!0)}());function h(e,t){return e.reduce((e,t)=>e-i[t],t)}function f(e,t){return e.reduce((e,n)=>h(e,t)>0?e.concat([n]):e,[])}function m(i,a,c){const d=function(e){return s.map((n,i)=>({start:n-r[i]+.5+e,end:n+t-.5+e}))}(a);return i.map(t=>{const r=c?0:-n,i=c?n:0,s=c?"end":"start",a=d[t][s];return{index:t,loopPoint:a,slideLocation:Ce(-1),translate:Ae(e,l[t]),target:()=>o.get()>a?r:i}})}const p={canLoop:function(){return u.every(e=>{let{index:n}=e;return h(c.filter(e=>e!==n),t)<=.1})},clear:function(){u.forEach(e=>e.translate.clear())},loop:function(){u.forEach(e=>{const{target:t,translate:n,slideLocation:r}=e,i=t();i!==r.get()&&(n.to(i),r.set(i))})},loopPoints:u};return p}function Ee(e,t,n){let r,i=!1;return{init:function(s){n&&(r=new MutationObserver(e=>{i||(re(n)||n(s,e))&&function(e){for(const n of e)if("childList"===n.type){s.reInit(),t.emit("slidesChanged");break}}(e)}),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),i=!0}}}function Me(e,t,n,r){const i={};let s,a=null,o=null,l=!1;const c={init:function(){s=new IntersectionObserver(e=>{l||(e.forEach(e=>{const n=t.indexOf(e.target);i[n]=e}),a=null,o=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(e=>s.observe(e))},destroy:function(){s&&s.disconnect(),l=!0},get:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&a)return a;if(!e&&o)return o;const t=function(e){return fe(i).reduce((t,n)=>{const r=parseInt(n),{isIntersecting:s}=i[r];return(e&&s||!e&&!s)&&t.push(r),t},[])}(e);return e&&(a=t),e||(o=t),t}};return c}function Oe(e,t,n,r,i,s,a,o,l){const{startEdge:c,endEdge:d,direction:u}=e,h=te(n);const f={groupSlides:function(e){return h?function(e,t){return le(e).filter(e=>e%t===0).map(n=>e.slice(n,n+t))}(e,n):function(e){return e.length?le(e).reduce((n,h,f)=>{const m=ce(n)||0,p=0===m,g=h===de(e),x=i[c]-s[m][c],y=i[c]-s[h][d],b=!r&&p?u(a):0,v=se(y-(!r&&g?u(o):0)-(x+b));return f&&v>t+l&&n.push(h),g&&n.push(e.length),n},[]).map((t,n,r)=>{const i=Math.max(r[n-1]||0);return e.slice(i,t)}):[]}(e)}};return f}function Te(e,t,n,r,i,s,a){const{align:o,axis:l,direction:c,startIndex:d,loop:u,duration:h,dragFree:f,dragThreshold:m,inViewThreshold:p,slidesToScroll:g,skipSnaps:x,containScroll:y,watchResize:b,watchSlides:v,watchDrag:w,watchFocus:j}=s,N={measure:function(e){const{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:i}=e;return{top:t,right:n+r,bottom:t+i,left:n,width:r,height:i}}},k=N.measure(t),S=n.map(N.measure),_=function(e,t){const n="rtl"===t,r="y"===e,i=!r&&n?-1:1;return{scroll:r?"y":"x",cross:r?"x":"y",startEdge:r?"top":n?"right":"left",endEdge:r?"bottom":n?"left":"right",measureSize:function(e){const{height:t,width:n}=e;return r?t:n},direction:function(e){return e*i}}}(l,c),C=_.measureSize(k),A=function(e){return{measure:function(t){return e*(t/100)}}}(C),P=function(e,t){const n={start:function(){return 0},center:function(e){return r(e)/2},end:r};function r(e){return t-e}const i={measure:function(r,i){return ne(e)?n[e](r):e(t,r,i)}};return i}(o,C),E=!u&&!!y,M=u||!!y,{slideSizes:O,slideSizesWithGaps:T,startGap:L,endGap:D}=function(e,t,n,r,i,s){const{measureSize:a,startEdge:o,endEdge:l}=e,c=n[0]&&i,d=function(){if(!c)return 0;const e=n[0];return se(t[o]-e[o])}(),u=function(){if(!c)return 0;const e=s.getComputedStyle(ce(r));return parseFloat(e.getPropertyValue("margin-".concat(l)))}(),h=n.map(a),f=n.map((e,t,n)=>{const r=!t,i=ue(n,t);return r?h[t]+d:i?h[t]+u:n[t+1][o]-e[o]}).map(se);return{slideSizes:h,slideSizesWithGaps:f,startGap:d,endGap:u}}(_,k,S,n,M,i),R=Oe(_,C,g,u,k,S,L,D,2),{snaps:I,snapsAligned:z}=function(e,t,n,r,i){const{startEdge:s,endEdge:a}=e,{groupSlides:o}=i,l=o(r).map(e=>ce(e)[a]-e[0][s]).map(se).map(t.measure),c=r.map(e=>n[s]-e[s]).map(e=>-se(e)),d=o(c).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:c,snapsAligned:d}}(_,P,k,S,R),F=-ce(I)+ce(T),{snapsContained:B,scrollContainLimit:V}=function(e,t,n,r,i){const s=ye(-t+e,0),a=n.map((e,t)=>{const{min:r,max:i}=s,a=s.constrain(e),o=!t,c=ue(n,t);return o?i:c||l(r,a)?r:l(i,a)?i:a}).map(e=>parseFloat(e.toFixed(3))),o=function(){const e=a[0],t=ce(a);return ye(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return oe(e,t)<=1}return{snapsContained:function(){if(t<=e+i)return[s.max];if("keepSnaps"===r)return a;const{min:n,max:l}=o;return a.slice(n,l)}(),scrollContainLimit:o}}(C,F,z,y,2),W=E?B:z,{limit:U}=function(e,t,n){const r=t[0];return{limit:ye(n?r-e:ce(t),r)}}(F,W,u),H=be(de(W),d,u),q=H.clone(),$=le(n),Y=xe(r,i,()=>(e=>{let{dragHandler:t,scrollBody:n,scrollBounds:r,options:{loop:i}}=e;i||r.constrain(t.pointerDown()),n.seek()})(Te),e=>((e,t)=>{let{scrollBody:n,translate:r,location:i,offsetLocation:s,previousLocation:a,scrollLooper:o,slideLooper:l,dragHandler:c,animation:d,eventHandler:u,scrollBounds:h,options:{loop:f}}=e;const m=n.settled(),p=!h.shouldConstrain(),g=f?m:m&&p,x=g&&!c.pointerDown();x&&d.stop();const y=i.get()*t+a.get()*(1-t);s.set(y),f&&(o.loop(n.direction()),l.loop()),r.to(s.get()),x&&u.emit("settle"),g||u.emit("scroll")})(Te,e)),Q=W[H.get()],J=Ce(Q),K=Ce(Q),X=Ce(Q),G=Ce(Q),Z=function(e,t,n,r,i,s){let a=0,o=0,l=i,c=s,d=e.get(),u=0;function h(e){return l=e,m}function f(e){return c=e,m}const m={direction:function(){return o},duration:function(){return l},velocity:function(){return a},seek:function(){const t=r.get()-e.get();let i=0;return l?(n.set(e),a+=t/l,a*=c,d+=a,e.add(a),i=d-u):(a=0,n.set(r),e.set(r),i=t),o=ae(i),u=d,m},settled:function(){return se(r.get()-t.get())<.001},useBaseFriction:function(){return f(s)},useBaseDuration:function(){return h(i)},useFriction:f,useDuration:h};return m}(J,X,K,G,h,.68),ee=Se(u,W,F,U,G),te=function(e,t,n,r,i,s,a){function o(i){const o=i.distance,l=i.index!==t.get();s.add(o),o&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(i.index),a.emit("select"))}return{distance:function(e,t){o(i.byDistance(e,t))},index:function(e,n){const r=t.clone().set(e);o(i.byIndex(r.get(),n))}}}(Y,H,q,Z,ee,G,a),re=function(e){const{max:t,length:n}=e;return{get:function(e){return n?(e-t)/-n:0}}}(U),ie=ge(),fe=Me(t,n,a,p),{slideRegistry:me}=function(e,t,n,r,i,s){const{groupSlides:a}=i,{min:o,max:l}=r,c=function(){const r=a(s),i=!e||"keepSnaps"===t;return 1===n.length?[s]:i?r:r.slice(o,l).map((e,t,n)=>{const r=!t,i=ue(n,t);return r?he(ce(n[0])+1):i?he(de(s)-ce(n)[0]+1,ce(n)[0]):e})}();return{slideRegistry:c}}(E,y,W,V,R,$),pe=_e(e,n,me,te,Z,ie,a,j),Te={ownerDocument:r,ownerWindow:i,eventHandler:a,containerRect:k,slideRects:S,animation:Y,axis:_,dragHandler:ve(_,e,r,i,G,we(_,i),J,Y,te,Z,ee,H,a,A,f,m,x,.68,w),eventStore:ie,percentOfView:A,index:H,indexPrevious:q,limit:U,location:J,offsetLocation:X,previousLocation:K,options:s,resizeHandler:je(t,a,i,n,_,b,N),scrollBody:Z,scrollBounds:Ne(U,X,G,Z,A),scrollLooper:ke(F,U,X,[J,X,K,G]),scrollProgress:re,scrollSnapList:W.map(re.get),scrollSnaps:W,scrollTarget:ee,scrollTo:te,slideLooper:Pe(_,C,F,O,T,I,W,X,n),slideFocus:pe,slidesHandler:Ee(t,a,v),slidesInView:fe,slideIndexes:$,slideRegistry:me,slidesToScroll:R,target:G,translate:Ae(_,t)};return Te}const Le={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function De(e){function t(e,t){return me(e,t||{})}const n={mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},i=fe(r).filter(t=>e.matchMedia(t).matches).map(e=>r[e]).reduce((e,n)=>t(e,n),{});return t(n,i)},optionsMediaQueries:function(t){return t.map(e=>fe(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}};return n}function Re(e,t,n){const r=e.ownerDocument,i=r.defaultView,s=De(i),a=function(e){let t=[];const n={init:function(n,r){return t=r.filter(t=>{let{options:n}=t;return!1!==e.optionsAtMedia(n).active}),t.forEach(t=>t.init(n,e)),r.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){t=t.filter(e=>e.destroy())}};return n}(s),o=ge(),l=function(){let e,t={};function n(e){return t[e]||[]}const r={init:function(t){e=t},emit:function(t){return n(t).forEach(n=>n(e,t)),r},off:function(e,i){return t[e]=n(e).filter(e=>e!==i),r},on:function(e,i){return t[e]=n(e).concat([i]),r},clear:function(){t={}}};return r}(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:h,off:f,emit:m}=l,p=_;let g,x,y,b,v=!1,w=c(Le,Re.globalOptions),j=c(w),N=[];function k(t){const n=Te(e,y,b,r,i,t,l);if(t.loop&&!n.slideLooper.canLoop()){return k(Object.assign({},t,{loop:!1}))}return n}function S(t,n){v||(w=c(w,t),j=d(w),N=n||N,function(){const{container:t,slides:n}=j,r=ne(t)?e.querySelector(t):t;y=r||e.children[0];const i=ne(n)?y.querySelectorAll(n):n;b=[].slice.call(i||y.children)}(),g=k(j),u([w,...N.map(e=>{let{options:t}=e;return t})]).forEach(e=>o.add(e,"change",_)),j.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(E),g.eventHandler.init(E),g.resizeHandler.init(E),g.slidesHandler.init(E),g.options.loop&&g.slideLooper.loop(),y.offsetParent&&b.length&&g.dragHandler.init(E),x=a.init(E,N)))}function _(e,t){const n=P();C(),S(c({startIndex:n},e),t),l.emit("reInit")}function C(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),o.clear()}function A(e,t,n){j.active&&!v&&(g.scrollBody.useBaseFriction().useDuration(!0===t?0:j.duration),g.scrollTo.index(e,n||0))}function P(){return g.index.get()}const E={canScrollNext:function(){return g.index.add(1).get()!==P()},canScrollPrev:function(){return g.index.add(-1).get()!==P()},containerNode:function(){return y},internalEngine:function(){return g},destroy:function(){v||(v=!0,o.clear(),C(),l.emit("destroy"),l.clear())},off:f,on:h,emit:m,plugins:function(){return x},previousScrollSnap:function(){return g.indexPrevious.get()},reInit:p,rootNode:function(){return e},scrollNext:function(e){A(g.index.add(1).get(),e,-1)},scrollPrev:function(e){A(g.index.add(-1).get(),e,1)},scrollProgress:function(){return g.scrollProgress.get(g.offsetLocation.get())},scrollSnapList:function(){return g.scrollSnapList},scrollTo:A,selectedScrollSnap:P,slideNodes:function(){return b},slidesInView:function(){return g.slidesInView.get()},slidesNotInView:function(){return g.slidesInView.get(!1)}};return S(t,n),setTimeout(()=>l.emit("init"),0),E}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,r.useRef)(e),i=(0,r.useRef)(t),[s,a]=(0,r.useState)(),[o,l]=(0,r.useState)(),c=(0,r.useCallback)(()=>{s&&s.reInit(n.current,i.current)},[s]);return(0,r.useEffect)(()=>{Z(n.current,e)||(n.current=e,c())},[e,c]),(0,r.useEffect)(()=>{(function(e,t){if(e.length!==t.length)return!1;const n=ee(e),r=ee(t);return n.every((e,t)=>Z(e,r[t]))})(i.current,t)||(i.current=t,c())},[t,c]),(0,r.useEffect)(()=>{if("undefined"!==typeof window&&window.document&&window.document.createElement&&o){Re.globalOptions=Ie.globalOptions;const e=Re(o,n.current,i.current);return a(e),()=>e.destroy()}a(void 0)},[o,a]),[l,s]}Re.globalOptions=void 0,Ie.globalOptions=void 0;const ze=u("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function Be(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=Be(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Be(t[e],null)}}}}const We=["children"],Ue=["children"];function He(e){const t=$e(e),n=r.forwardRef((e,n)=>{const{children:i}=e,s=l(e,We),a=r.Children.toArray(i),c=a.find(Qe);if(c){const e=c.props.children,i=a.map(t=>t===c?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,w.jsx)(t,(0,o.A)((0,o.A)({},s),{},{ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null}))}return(0,w.jsx)(t,(0,o.A)((0,o.A)({},s),{},{ref:n,children:i}))});return n.displayName="".concat(e,".Slot"),n}var qe=He("Slot");function $e(e){const t=r.forwardRef((e,t)=>{const{children:n}=e,i=l(e,Ue);if(r.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n=(0,o.A)({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){const e=s(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=(0,o.A)((0,o.A)({},i),s):"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return(0,o.A)((0,o.A)({},e),n)}(i,n.props);return n.type!==r.Fragment&&(s.ref=t?Ve(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Ye=Symbol("radix.slottable");function Qe(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ye}function Je(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Je(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Je(e))&&(r&&(r+=" "),r+=t);return r}const Xe=["class","className"],Ge=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,Ze=Ke,et=["className","variant","size","asChild"],tt=(nt="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",rt={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if(null==(null===rt||void 0===rt?void 0:rt.variants))return Ze(nt,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=rt,i=Object.keys(n).map(t=>{const i=null===e||void 0===e?void 0:e[t],s=null===r||void 0===r?void 0:r[t];if(null===i)return null;const a=Ge(i)||Ge(s);return n[t][a]}),s=e&&Object.entries(e).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),a=null===rt||void 0===rt||null===(t=rt.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:n,className:i}=t,a=l(t,Xe);return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes((0,o.A)((0,o.A)({},r),s)[t]):(0,o.A)((0,o.A)({},r),s)[t]===n})?[...e,n,i]:e},[]);return Ze(nt,i,a,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var nt,rt;const it=r.forwardRef((e,t)=>{let{className:n,variant:r,size:i,asChild:s=!1}=e,a=l(e,et);const c=s?qe:"button";return(0,w.jsx)(c,(0,o.A)({className:Fe(tt({variant:r,size:i,className:n})),ref:t},a))});it.displayName="Button";const st=["orientation","opts","setApi","plugins","className","children"],at=["className"],ot=["className"],lt=["className","variant","size"],ct=["className","variant","size"],dt=r.createContext(null);function ut(){const e=r.useContext(dt);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function ht(e){let{orientation:t="horizontal",opts:n,setApi:i,plugins:s,className:a,children:c}=e,d=l(e,st);const[u,h]=Ie((0,o.A)((0,o.A)({},n),{},{axis:"horizontal"===t?"x":"y"}),s),[f,m]=r.useState(!1),[p,g]=r.useState(!1),x=r.useCallback(e=>{e&&(m(e.canScrollPrev()),g(e.canScrollNext()))},[]),y=r.useCallback(()=>{null===h||void 0===h||h.scrollPrev()},[h]),b=r.useCallback(()=>{null===h||void 0===h||h.scrollNext()},[h]),v=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),b())},[y,b]);return r.useEffect(()=>{h&&i&&i(h)},[h,i]),r.useEffect(()=>{if(h)return x(h),h.on("reInit",x),h.on("select",x),()=>{null===h||void 0===h||h.off("select",x)}},[h,x]),(0,w.jsx)(dt.Provider,{value:{carouselRef:u,api:h,opts:n,orientation:t||("y"===(null===n||void 0===n?void 0:n.axis)?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:f,canScrollNext:p},children:(0,w.jsx)("div",(0,o.A)((0,o.A)({onKeyDownCapture:v,className:Fe("relative",a),role:"region","aria-roledescription":"carousel","data-slot":"carousel"},d),{},{children:c}))})}function ft(e){let{className:t}=e,n=l(e,at);const{carouselRef:r,orientation:i}=ut();return(0,w.jsx)("div",{ref:r,className:"overflow-hidden","data-slot":"carousel-content",children:(0,w.jsx)("div",(0,o.A)({className:Fe("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",t)},n))})}function mt(e){let{className:t}=e,n=l(e,ot);const{orientation:r}=ut();return(0,w.jsx)("div",(0,o.A)({role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:Fe("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",t)},n))}function pt(e){let{className:t,variant:n="outline",size:r="icon"}=e,i=l(e,lt);const{orientation:s,scrollPrev:a,canScrollPrev:c}=ut();return(0,w.jsxs)(it,(0,o.A)((0,o.A)({"data-slot":"carousel-previous",variant:n,size:r,className:Fe("absolute size-8 rounded-full","horizontal"===s?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:a},i),{},{children:[(0,w.jsx)(ze,{}),(0,w.jsx)("span",{className:"sr-only",children:"Previous slide"})]}))}function gt(e){let{className:t,variant:n="outline",size:r="icon"}=e,i=l(e,ct);const{orientation:s,scrollNext:a,canScrollNext:c}=ut();return(0,w.jsxs)(it,(0,o.A)((0,o.A)({"data-slot":"carousel-next",variant:n,size:r,className:Fe("absolute size-8 rounded-full","horizontal"===s?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:a},i),{},{children:[(0,w.jsx)(H,{}),(0,w.jsx)("span",{className:"sr-only",children:"Next slide"})]}))}const xt=["className"],yt=["className"],bt=["className"],vt=["className"],wt=["className"],jt=["className"],Nt=r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,xt);return(0,w.jsx)("div",(0,o.A)({ref:t,className:Fe("rounded-lg border bg-card text-card-foreground shadow-sm",n)},r))});Nt.displayName="Card";r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,yt);return(0,w.jsx)("div",(0,o.A)({ref:t,className:Fe("flex flex-col space-y-1.5 p-6",n)},r))}).displayName="CardHeader";r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,bt);return(0,w.jsx)("h3",(0,o.A)({ref:t,className:Fe("text-2xl font-semibold leading-none tracking-tight",n)},r))}).displayName="CardTitle";r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,vt);return(0,w.jsx)("p",(0,o.A)({ref:t,className:Fe("text-sm text-muted-foreground",n)},r))}).displayName="CardDescription";const kt=r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,wt);return(0,w.jsx)("div",(0,o.A)({ref:t,className:Fe("p-6 pt-0",n)},r))});kt.displayName="CardContent";r.forwardRef((e,t)=>{let{className:n}=e,r=l(e,jt);return(0,w.jsx)("div",(0,o.A)({ref:t,className:Fe("flex items-center p-6 pt-0",n)},r))}).displayName="CardFooter";const St=()=>{const[e,t]=(0,r.useState)(0),{user:n}=(0,v.A)(),{id:i}=(0,a.g)(),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(""),[f,m]=(0,r.useState)(1),[p,g]=(0,r.useState)(null),[x,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)([]),[A,P]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(!i)return h("Product Not Found"),void d(!1);try{let e=await b.productApi.getProductById(String(i));e&&!e.id&&e._id&&(e=(0,b.transformBackendProduct)(e)),l(e)}catch(e){h("Product Not Found")}finally{d(!1)}})()},[i]),(0,r.useEffect)(()=>{(async()=>{if(i){P(!0);try{const e=Number(i);if(isNaN(e))throw new Error("Invalid product ID");const t=await b.reviewApi.getProductReviews(e);C(t)}catch(e){C([])}finally{P(!1)}}})()},[i]);if(c)return(0,w.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(u||!o)return(0,w.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),(0,w.jsxs)(s.N_,{to:"/products",className:"text-primary-600 hover:underline flex items-center",children:[(0,w.jsx)(ze,{className:"mr-2"})," Back to Products"]})]});const E=o.images&&o.images.length>0?o.images:[o.image||"https://via.placeholder.com/400x300?text=Product+Image"];return(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50 py-10",children:[(0,w.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8 flex flex-col md:flex-row gap-8",children:[(0,w.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,w.jsxs)(ht,{className:"w-full max-w-xs",children:[(0,w.jsx)(ft,{children:E.map((e,t)=>(0,w.jsx)(mt,{children:(0,w.jsx)("div",{className:"p-1",children:(0,w.jsx)(Nt,{children:(0,w.jsx)(kt,{className:"flex aspect-square items-center justify-center p-6",children:(0,w.jsx)("img",{src:e,alt:o.name,className:"object-cover w-full h-full rounded-lg"})})})})},t))}),(0,w.jsx)(pt,{}),(0,w.jsx)(gt,{})]}),!o.inStock&&(0,w.jsx)("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-xs font-medium",children:"Out of Stock"})]}),(0,w.jsx)("div",{className:"flex-1 flex flex-col justify-between",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.name}),(0,w.jsxs)("div",{className:"flex items-center mb-2",children:[(0,w.jsx)("span",{className:"text-sm bg-primary-100 text-primary-800 px-2 py-1 rounded-full mr-2",children:o.category}),(0,w.jsxs)("span",{className:"text-sm text-gray-500",children:["Brand: ",o.brand]})]}),(0,w.jsxs)("div",{className:"flex items-center mb-2",children:[[...Array(5)].map((e,t)=>(0,w.jsx)("button",{type:"button",onClick:()=>(async e=>{if(o&&!j)if(n){N(!0),S(null);try{const t=o._id||o.id;if(!t||"string"!==typeof t)throw new Error("Invalid product ID");await b.reviewApi.addReview(t,e,""),g(e)}catch(t){t&&t.message?S(t.message):S("Failed to submit rating. Please try again.")}finally{N(!1)}}else S("You must be logged in to rate.")})(t+1),disabled:j||!n,className:"focus:outline-none","aria-label":"Rate ".concat(t+1," stars"),children:(0,w.jsx)(q,{className:"h-5 w-5 transition-colors duration-150 ".concat((null!==p?t<p:t<Math.floor(o.rating))?"text-yellow-400 fill-current":"text-gray-300")})},t)),(0,w.jsxs)("span",{className:"ml-2 text-gray-600",children:["(",o.numReviews||o.reviews," reviews)"]}),k&&(0,w.jsx)("span",{className:"ml-4 text-red-500 text-sm",children:k}),p&&(0,w.jsx)("span",{className:"ml-4 text-green-600 text-sm",children:"Thank you for rating!"})]}),(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["R",o.price.toLocaleString()]}),o.originalPrice&&o.originalPrice>o.price&&(0,w.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["R",o.originalPrice.toLocaleString()]})]}),(0,w.jsx)("p",{className:"text-gray-700 mb-4",children:o.description}),o.features&&o.features.length>0&&(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("h3",{className:"font-semibold mb-2",children:"Features:"}),(0,w.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:o.features.map((e,t)=>(0,w.jsx)("li",{children:e},t))})]}),o.specifications&&Object.keys(o.specifications).length>0&&(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("h3",{className:"font-semibold mb-2",children:"Specifications:"}),(0,w.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:Object.entries(o.specifications).map((e,t)=>{let[n,r]=e;return(0,w.jsxs)("li",{children:[(0,w.jsxs)("span",{className:"font-medium",children:[n,":"]})," ",r]},t)})})]}),(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsxs)("span",{className:"text-sm text-gray-500",children:["Weight: ",o.weight||"N/A"]}),(0,w.jsxs)("span",{className:"ml-4 text-sm text-gray-500",children:["Dimensions: ",o.dimensions||"N/A"]})]}),(0,w.jsx)("div",{className:"mb-4",children:(0,w.jsxs)("span",{className:"text-sm text-gray-500",children:["Warranty: ",o.warranty||"N/A"]})}),(0,w.jsx)("div",{className:"mt-8",children:(0,w.jsxs)(s.N_,{to:"/products",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,w.jsx)(ze,{className:"mr-2"}),"Back to Products"]})})]})})]}),(0,w.jsxs)("div",{className:"max-w-4xl mx-auto mt-8 bg-white rounded-lg shadow-lg p-8",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"User Reviews"}),n?(0,w.jsxs)("form",{className:"mb-8",onSubmit:async e=>{if(e.preventDefault(),o)if(!p||p<1||p>5)S("Please select a star rating.");else if(x.trim()){N(!0),S(null);try{const e=String(o._id||o.id);await b.reviewApi.addReview(e,p,x),g(null),y("");const t="number"===typeof o.id?o.id:Number(o.id||o._id),n=await b.reviewApi.getProductReviews(t);C(n)}catch(t){S(t.message||"Failed to submit review.")}finally{N(!1)}}else S("Please enter a comment.")},children:[(0,w.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,w.jsx)("span",{className:"font-medium",children:"Your Rating:"}),[...Array(5)].map((e,t)=>(0,w.jsx)("button",{type:"button",onClick:()=>g(t+1),className:"focus:outline-none","aria-label":"Rate ".concat(t+1," stars"),children:(0,w.jsx)(q,{className:"h-5 w-5 ".concat(null!==p?t<p:"text-gray-300")})},t))]}),(0,w.jsx)("textarea",{className:"w-full border rounded p-2 mb-2",rows:3,placeholder:"Write your review...",value:x,onChange:e=>y(e.target.value),required:!0}),k&&(0,w.jsx)("div",{className:"text-red-500 mb-2",children:k}),(0,w.jsx)("button",{type:"submit",className:"bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700 disabled:opacity-50",disabled:j,children:j?"Submitting...":"Submit Review"})]}):(0,w.jsx)("div",{className:"mb-8 text-gray-500",children:"Log in to submit a review."}),A?(0,w.jsx)("div",{children:"Loading reviews..."}):0===_.length?(0,w.jsx)("div",{className:"text-gray-500",children:"No reviews yet."}):(0,w.jsx)("div",{className:"space-y-6",children:_.map(e=>(0,w.jsxs)("div",{className:"border-b pb-4",children:[(0,w.jsxs)("div",{className:"flex items-center mb-1",children:[[...Array(5)].map((t,n)=>(0,w.jsx)(q,{className:"h-4 w-4 ".concat(n<e.rating?"text-yellow-400 fill-current":"text-gray-300")},n)),(0,w.jsx)("span",{className:"ml-2 text-sm text-gray-700 font-semibold",children:e.userName}),(0,w.jsx)("span",{className:"ml-2 text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,w.jsx)("div",{className:"text-gray-700 text-sm",children:e.comment||(0,w.jsx)("span",{className:"italic text-gray-400",children:"No comment"})})]},e.id))})]})]})},_t=u("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Ct=u("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),At=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Pt=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Et=u("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Mt=()=>{const{state:e,removeFromCart:t,updateQuantity:i,clearCart:a}=_(),{showNotification:o}=(0,K.h)(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)([]),h=n(475).Zp();(0,r.useEffect)(()=>{e.items.length>0?(async()=>{try{const t=[];for(const r of e.items){const e=await fetch("/api/products/".concat(r.product.id));if(e.ok){const n=await e.json();n.relatedProducts&&n.relatedProducts.length>0&&t.push(...n.relatedProducts)}}const n=Array.from(new Map(t.map(e=>[e._id,e])).values());u(n)}catch(t){u([])}})():u([])},[e.items]);const f=async(e,n)=>{n<=0?(await t(e),o("Item removed from cart.","info")):(await i(e,n),o("Cart updated.","success"))};if(e.loading)return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"flex justify-center mb-4",children:(0,w.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),(0,w.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Loading your cart..."})]})});if(0===e.items.length)return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"text-gray-400 mb-4",children:(0,w.jsx)(_t,{className:"h-16 w-16 mx-auto"})}),(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,w.jsx)("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added any products to your cart yet."}),(0,w.jsxs)(s.N_,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,w.jsx)(ze,{className:"mr-2 h-5 w-5"}),"Continue Shopping"]})]})});const m=e.total>=8e4?0:15e3,p=e.total+m;return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,w.jsxs)("div",{className:"mb-8",children:[(0,w.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Shopping Cart"}),(0,w.jsxs)("p",{className:"text-gray-600",children:["You have ",e.itemCount," item",1!==e.itemCount?"s":""," in your cart"]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,w.jsxs)("div",{className:"lg:col-span-2",children:[(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.items.map(e=>(0,w.jsx)("div",{className:"p-6 border-b border-gray-200 last:border-b-0",children:(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)("img",{src:e.product.image,alt:e.product.name,className:"w-20 h-20 object-cover rounded-lg",onError:e=>{e.target.src="https://via.placeholder.com/80x80?text=Product"}})}),(0,w.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,w.jsxs)("div",{className:"flex items-start justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:(0,w.jsx)(s.N_,{to:"/products/".concat(e.product.id),className:"hover:text-primary-600",children:e.product.name})}),(0,w.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.product.brand}),(0,w.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,w.jsxs)("span",{children:["SKU: ",e.product.id]}),(0,w.jsxs)("span",{children:["Weight: ",e.product.weight||"N/A"]})]})]}),(0,w.jsxs)("div",{className:"text-right",children:[(0,w.jsxs)("div",{className:"text-lg font-bold text-gray-900 mb-1",children:["R",(e.product.price*e.quantity/100).toFixed(2)]}),e.product.originalPrice&&e.product.originalPrice>e.product.price&&(0,w.jsxs)("div",{className:"text-sm text-gray-500 line-through",children:["R",(e.product.originalPrice*e.quantity/100).toFixed(2)]})]})]}),(0,w.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,w.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,w.jsx)("button",{onClick:()=>f(e.product.id.toString(),e.quantity-1),className:"px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors",disabled:e.quantity<=1,children:(0,w.jsx)(Ct,{className:"h-4 w-4"})}),(0,w.jsx)("span",{className:"px-3 py-1 text-gray-900 font-medium min-w-[3rem] text-center",children:e.quantity}),(0,w.jsx)("button",{onClick:()=>f(e.product.id.toString(),e.quantity+1),className:"px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors",disabled:!e.product.inStock,children:(0,w.jsx)(At,{className:"h-4 w-4"})})]}),(0,w.jsxs)("button",{onClick:()=>(async e=>{await t(e),o("Item removed from cart.","info")})(e.product.id.toString()),className:"text-red-600 hover:text-red-800 transition-colors flex items-center gap-1",children:[(0,w.jsx)(Pt,{className:"h-4 w-4"}),"Remove"]})]})]})]})},e.product.id))}),(0,w.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,w.jsx)("button",{onClick:()=>a(),className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Clear Cart"}),(0,w.jsx)(s.N_,{to:"/products",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Continue Shopping"})]})]}),(0,w.jsx)("div",{className:"lg:col-span-1",children:(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,w.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsxs)("span",{children:["Subtotal (",e.itemCount," items)"]}),(0,w.jsxs)("span",{children:["R",(e.total/100).toFixed(2)]})]}),(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsx)("span",{children:"Shipping"}),(0,w.jsx)("span",{className:0===m?"text-green-600":"",children:0===m?"Free":"R".concat((m/100).toFixed(2))})]}),m>0&&(0,w.jsxs)("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:["Add R",((8e4-e.total)/100).toFixed(2)," more for free shipping"]}),(0,w.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,w.jsxs)("div",{className:"flex justify-between font-semibold text-lg",children:[(0,w.jsx)("span",{children:"Total"}),(0,w.jsxs)("span",{children:["R",(p/100).toFixed(2)]})]})})]}),(0,w.jsx)("button",{onClick:()=>{c(!0),o("Proceeding to checkout...","info"),setTimeout(()=>{h("/checkout")},1e3)},disabled:l,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,w.jsxs)("div",{className:"flex items-center justify-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):"Proceed to Checkout"}),(0,w.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,w.jsx)(V,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"Secure checkout"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,w.jsx)(W,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"Free shipping over R800"})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,w.jsx)(Et,{className:"h-4 w-4"}),(0,w.jsx)("span",{children:"Multiple payment options"})]})]})]})})]}),(0,w.jsxs)("div",{className:"mt-16",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"You might also like"}),(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:0===d.length?(0,w.jsx)("div",{className:"text-gray-500 col-span-4",children:"No related products found."}):d.map(e=>{var t;return(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 flex flex-col items-center",children:[(0,w.jsx)("img",{src:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://via.placeholder.com/120x120?text=Product",alt:e.name,className:"w-24 h-24 object-cover rounded mb-2"}),(0,w.jsx)("div",{className:"font-semibold text-gray-900 mb-1 text-center",children:e.name}),(0,w.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:["R",e.price]}),(0,w.jsx)("div",{className:"flex gap-2 mt-2",children:(0,w.jsx)(s.N_,{to:"/products/".concat(e._id),className:"text-primary-600 hover:text-primary-700 text-sm",children:"View"})})]},e._id)})})]})]})})},Ot=e=>{let{id:t,label:n,type:r,placeholder:i,fieldState:s,onChange:a,onBlur:o,autoComplete:l,required:c=!0,className:d="",roundedTop:u=!1,roundedBottom:h=!1,icon:f,maxLength:m}=e;const p=s.touched&&s.error,g="\n    appearance-none \n    relative \n    block \n    w-full \n    px-3 \n    ".concat(f?"pl-10":"pl-3"," \n    py-2 \n    border \n    ").concat(p?"border-red-500 ring-red-500":"border-gray-300"," \n    placeholder-gray-500 \n    text-gray-900 \n    ").concat(u?"rounded-t-md":""," \n    ").concat(h?"rounded-b-md":""," \n    ").concat(u||h?"":"rounded-md","\n    focus:outline-none \n    focus:ring-2 \n    ").concat(p?"focus:ring-red-500":"focus:ring-primary-500"," \n    focus:border-transparent \n    focus:z-10 \n    sm:text-sm\n    ").concat(d,"\n  ");return(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsxs)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:[n," ",c&&(0,w.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,w.jsxs)("div",{className:"relative",children:[f&&(0,w.jsx)("div",{className:"absolute left-3 inset-y-0 flex items-center pointer-events-none",children:f}),(0,w.jsx)("input",{id:t,name:t,type:r,autoComplete:l,required:c,value:s.value,onChange:e=>a(e.target.value),onBlur:o,placeholder:i,className:g,maxLength:m})]}),p&&(0,w.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"".concat(t,"-error"),children:s.error})]})},Tt=e=>{let{id:t,label:n,options:r,fieldState:i,onChange:s,onBlur:a,required:o=!0,className:l=""}=e;const c=i.touched&&i.error,d="\n    mt-1 \n    block \n    w-full \n    pl-3 \n    pr-10 \n    py-2 \n    text-base \n    ".concat(c?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-primary-500 focus:border-primary-500"," \n    focus:outline-none \n    sm:text-sm \n    rounded-md\n    ").concat(l,"\n  ");return(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsxs)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[n," ",o&&(0,w.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("select",{id:t,name:t,value:i.value,onChange:e=>s(e.target.value),onBlur:a,className:d,children:r.map(e=>(0,w.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,w.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,w.jsx)(h,{className:"h-4 w-4"})})]}),c&&(0,w.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"".concat(t,"-error"),children:i.error})]})};var Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lt.apply(this,arguments)};function Dt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"===typeof SuppressedError&&SuppressedError;var Rt=[];function It(e){var t=function(){var e="https://js.paystack.co/v1/inline.js",t=(0,r.useState)({loaded:!1,error:!1}),n=t[0],i=t[1];return(0,r.useEffect)(function(){if(!Rt.includes(e)){Rt.push(e);var t=document.createElement("script");t.src=e,t.async=!0;var n=function(){i({loaded:!0,error:!1})},r=function(){var n=Rt.indexOf(e);n>=0&&Rt.splice(n,1),t.remove(),i({loaded:!0,error:!0})};return t.addEventListener("load",n),t.addEventListener("complete",n),t.addEventListener("error",r),document.body.appendChild(t),function(){t.removeEventListener("load",n),t.removeEventListener("error",r)}}i({loaded:!0,error:!1})},[e]),[n.loaded,n.error]}(),n=t[0],i=t[1];return(0,r.useEffect)(function(){if(i)throw new Error("Unable to load paystack inline script")},[i]),function(t){var r=t.config,s=t.onSuccess,a=t.onClose;if(i)throw new Error("Unable to load paystack inline script");var o=Lt(Lt({},e),r),l=o.publicKey,c=o.firstname,d=o.lastname,u=o.phone,h=o.email,f=o.amount,m=o.reference,p=o.metadata,g=void 0===p?{}:p,x=o.currency,y=void 0===x?"NGN":x,b=o.channels,v=o.label,w=void 0===v?"":v,j=o.plan,N=void 0===j?"":j,k=o.quantity,S=void 0===k?"":k,_=o.subaccount,C=void 0===_?"":_,A=o.transaction_charge,P=void 0===A?0:A,E=o.bearer,M=void 0===E?"account":E,O=o.split,T=o.split_code;n&&function(e){var t=window.PaystackPop&&window.PaystackPop.setup(e);t&&t.openIframe()}({callback:s||function(){return null},onClose:a||function(){return null},key:l,ref:m,email:h,firstname:c,lastname:d,phone:u,amount:f,currency:y,plan:N,quantity:S,channels:b,subaccount:C,transaction_charge:P,bearer:M,label:w,metadata:g,split:O,split_code:T,"data-custom-button":o["data-custom-button"]||""})}}var zt=function(e){var t=e.text,n=e.className,i=e.children,s=e.onSuccess,a=e.onClose,o=Dt(e,["text","className","children","onSuccess","onClose"]),l=It(o);return r.createElement("button",{className:n,onClick:function(){return l({config:o,onSuccess:s,onClose:a})}},t||i)},Ft=(0,r.createContext)({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),Bt=function(e){var t=e.children,n=e.onSuccess,i=e.onClose,s=Dt(e,["children","onSuccess","onClose"]),a=It(s);return r.createElement(Ft.Provider,{value:{config:s,initializePayment:a,onSuccess:n,onClose:i}},t)},Vt=function(e){var t=e.children,n=e.ref,i=(0,r.useContext)(Ft),s=i.config,a=i.initializePayment,o=i.onSuccess,l=i.onClose;return t({initializePayment:function(){return a({config:s,onSuccess:o,onClose:l})},ref:n})};(0,r.forwardRef)(function(e,t){var n=e.children,i=e.onSuccess,s=e.onClose,a=Dt(e,["children","onSuccess","onClose"]),o=i||function(){return null},l=s||function(){return null};return r.createElement(Bt,Lt({},a,{onSuccess:o,onClose:l}),r.createElement(Vt,{ref:t},n))});const Wt=u("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ut=e=>{let{amount:t,orderId:n,email:i,firstName:s,lastName:a,phone:l,onSuccess:c,onClose:d,className:u="",children:h}=e;const{user:f}=(0,v.A)(),[m,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(0),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)(!1),A="pk_live_your_actual_live_paystack_public_key",P="ZAR",E="http://localhost:5000/api",M=(0,r.useCallback)(async e=>{console.log("=== API: initializePayment ===");const t=await fetch("".concat(E,"/api/payments/initialize"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to initialize payment")}return t.json()},[E]),O=(0,r.useCallback)(async e=>{console.log("=== API: verifyPaymentTransaction ===");const t=await fetch("".concat(E,"/api/payments/verify/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to verify payment")}return t.json()},[E]),T=(0,r.useCallback)(async()=>{if(console.log("=== PaystackPayment: initPayment ==="),m||_)console.log("Already initializing or initialized, skipping...");else{p(!0),x(null);try{const e={orderId:n,email:i||(null===f||void 0===f?void 0:f.email),firstName:s||(null===f||void 0===f?void 0:f.username),lastName:a||"",phone:l,amount:100*t};console.log("Payment request data:",e),S({type:"initialization",data:e});const r=await M(e);console.log("Payment initialization response:",r),b(r),C(!0),S({type:"success",data:r})}catch(g){console.error("Payment initialization error:",g),x((null===g||void 0===g?void 0:g.message)||"Payment initialization failed"),S({type:"error",error:(null===g||void 0===g?void 0:g.message)||"Unknown error"})}finally{p(!1)}}},[n,i,null===f||void 0===f?void 0:f.email,null===f||void 0===f?void 0:f.username,s,a,l,t,M,m,_]);(0,r.useEffect)(()=>{console.log("=== PaystackPayment: useEffect ==="),console.log("Public Key:",A?"".concat(A.substring(0,10),"..."):"NOT SET"),console.log("Currency:",P),console.log("API URL:",E),console.log("Has Initialized:",_),console.log("Is Initializing:",m),f&&n&&t>0&&!_&&!m&&T()},[A,f,n,t,_,m,T]);const L=()=>{console.log("=== PaystackPayment: handleRetryPayment ==="),N(e=>e+1),x(null),b(null),S(null),C(!1),setTimeout(()=>{T()},100)},D=y&&A?{reference:y.reference,email:y.email,amount:y.amount,publicKey:A,currency:y.currency||P,metadata:y.metadata||{},onSuccess:async e=>{console.log("=== PaystackPayment: onSuccess ==="),console.log("Paystack response:",e);try{const t=await O(e.reference);console.log("Verification result:",t),c(t)}catch(g){console.error("Error verifying payment:",g),x(g instanceof Error?"Payment verification failed: ".concat(g.message):"Payment verification failed. Please contact support.")}},onClose:()=>{console.log("=== PaystackPayment: onClose ==="),x("Payment was cancelled"),d&&d()}}:null;return m?(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"mr-3",children:(0,w.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"font-medium text-blue-800",children:"Initializing payment..."}),(0,w.jsx)("p",{className:"text-sm text-blue-600",children:"Please wait while we prepare your payment."}),j>0&&(0,w.jsxs)("p",{className:"text-xs text-blue-500",children:["Attempt ",j+1]})]})]})}),(0,w.jsx)("button",{disabled:!0,className:"w-full bg-gray-400 text-white font-bold py-4 px-6 rounded-lg opacity-70 cursor-not-allowed flex items-center justify-center",children:"Processing..."})]}):g?(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg mb-4",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-500 mr-2"}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsx)("p",{className:"font-medium text-red-800",children:"Payment Error"}),(0,w.jsx)("p",{className:"text-sm text-red-600",children:g}),k&&(0,w.jsxs)("details",{className:"mt-2 text-xs text-red-500",children:[(0,w.jsx)("summary",{className:"cursor-pointer",children:"Debug Info"}),(0,w.jsx)("pre",{className:"mt-1 bg-red-100 p-2 rounded text-xs overflow-auto",children:JSON.stringify(k,null,2)})]})]})]})}),j<3?(0,w.jsxs)("button",{onClick:L,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-lg transition-colors duration-200",children:["Retry Payment ",j>0&&"(".concat(j+1,"/3)")]}):(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("p",{className:"text-red-600 mb-4",children:"Maximum payment attempts reached. Please try again later."}),(0,w.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Refresh Page"})]})]}):D?(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg mb-4",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,w.jsxs)("div",{className:"ml-3",children:[(0,w.jsx)("p",{className:"font-medium",children:"Payment Information"}),(0,w.jsxs)("p",{className:"text-sm",children:["Amount: ","".concat(P," ").concat(t.toFixed(2))," \u2022 Order ID: ",n]}),(0,w.jsx)("p",{className:"text-sm mt-2",children:"We use Paystack for secure payment processing. Click below to complete your payment."}),k&&(0,w.jsxs)("details",{className:"mt-2 text-xs",children:[(0,w.jsx)("summary",{className:"cursor-pointer",children:"Payment Details"}),(0,w.jsx)("pre",{className:"mt-1 bg-blue-100 p-2 rounded text-xs overflow-auto",children:JSON.stringify(k,null,2)})]})]})]})}),(0,w.jsx)(zt,(0,o.A)((0,o.A)({},D),{},{className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:h||"Pay with Paystack"}))]}):(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,w.jsx)("p",{className:"text-sm",children:"Payment not ready. Please wait..."})]})}),(0,w.jsx)("button",{onClick:L,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg transition-colors duration-200",children:"Initialize Payment"})]})},Ht=e=>e?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?null:"Please enter a valid email address":"Email is required",qt=e=>{if(!e)return"Password is required";if(e.length<8)return"Password must be at least 8 characters";const t=/\d/.test(e),n=/[a-zA-Z]/.test(e);return t&&n?null:"Password must contain at least one letter and one number"},$t=e=>{if(!e)return"Username is required";if(e.length<3)return"Username must be at least 3 characters";if(e.length>20)return"Username must be less than 20 characters";return/^[a-zA-Z0-9_]+$/.test(e)?null:"Username can only contain letters, numbers, and underscores"},Yt=(e,t)=>t?e!==t?"Passwords do not match":null:"Please confirm your password",Qt=function(){return{value:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",error:null,touched:!1}},Jt=(e,t,n)=>({value:t,error:n?n(t):null,touched:!0}),Kt=e=>Object.values(e).every(e=>!e.error&&e.touched),Xt=u("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Gt=()=>{const{state:e,clearCart:t}=_(),{isAuthenticated:i,user:s}=(0,v.A)(),l=(0,a.Zp)(),[c,d]=(0,r.useState)("shipping"),[u,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)({fullName:Qt((null===s||void 0===s?void 0:s.username)||""),addressLine1:Qt(),addressLine2:Qt(),city:Qt(),postalCode:Qt(),country:Qt("South Africa"),phoneNumber:Qt()}),[N,k]=(0,r.useState)({cardNumber:Qt(),cardholderName:Qt(),expiryDate:Qt(),cvv:Qt()}),[S,C]=(0,r.useState)("standard"),A=[{id:"standard",name:"Standard Delivery",price:50,description:"3-5 business days"},{id:"express",name:"Express Delivery",price:100,description:"1-2 business days"},{id:"same-day",name:"Same Day Delivery",price:200,description:"Delivered today (order before 10am)"}],P=e.items.reduce((e,t)=>e+t.product.price*t.quantity,0),E=A.find(e=>e.id===S)||A[0],M=E.price,O=Math.round(.15*P),T=P+M+O,L=(e,t)=>{j(n=>(0,o.A)((0,o.A)({},n),{},{[e]:Jt(n[e],t,e=>e.trim().length>0?null:"This field is required")}))},D=async()=>{g(!0),y("");try{const t={fullName:b.fullName.value,addressLine1:b.addressLine1.value,addressLine2:b.addressLine2.value,city:b.city.value,postalCode:b.postalCode.value,country:b.country.value,phoneNumber:b.phoneNumber.value},r=e.items.map(e=>({product:String(e.product._id||e.product.id),name:e.product.name,quantity:e.quantity,image:e.product.image,price:e.product.price})),i={name:E.name,price:E.price,description:E.description},s=(await Promise.resolve().then(n.bind(n,291)).then(e=>e.cartApi.checkout(r,t,"Paystack",i,O,M,P,T))).orderId||"ORD-".concat(Date.now(),"-").concat(Math.floor(1e3*Math.random()));m(s),d("payment"),y("")}catch(t){y(t instanceof Error?t.message:"An error occurred while creating your order")}finally{g(!1)}};return r.useEffect(()=>{i||l("/login?redirect=checkout")},[i,l]),r.useEffect(()=>{0!==e.itemCount||"confirmation"===c||u||l("/cart")},[e.itemCount,l,u,c]),(0,w.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,w.jsx)("div",{className:"mb-8",children:(0,w.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,w.jsxs)("div",{className:"flex items-center ".concat("shipping"===c||"payment"===c||"confirmation"===c?"text-primary-600":"text-gray-400"),children:[(0,w.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border-2 border-current",children:(0,w.jsx)(W,{className:"h-4 w-4"})}),(0,w.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Shipping"})]}),(0,w.jsx)("div",{className:"flex-1 h-0.5 mx-4 bg-gray-200",children:(0,w.jsx)("div",{className:"h-full bg-primary-600 transition-all ".concat("payment"===c||"confirmation"===c?"w-full":"w-0")})}),(0,w.jsxs)("div",{className:"flex items-center ".concat("payment"===c||"confirmation"===c?"text-primary-600":"text-gray-400"),children:[(0,w.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border-2 border-current",children:(0,w.jsx)(Et,{className:"h-4 w-4"})}),(0,w.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Payment"})]}),(0,w.jsx)("div",{className:"flex-1 h-0.5 mx-4 bg-gray-200",children:(0,w.jsx)("div",{className:"h-full bg-primary-600 transition-all ".concat("confirmation"===c?"w-full":"w-0")})}),(0,w.jsxs)("div",{className:"flex items-center ".concat("confirmation"===c?"text-primary-600":"text-gray-400"),children:[(0,w.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border-2 border-current",children:(0,w.jsx)(Xt,{className:"h-4 w-4"})}),(0,w.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Confirmation"})]})]})}),x&&(0,w.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-100 rounded-lg",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-500 mr-2"}),(0,w.jsx)("span",{className:"text-red-700",children:x})]})}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:["shipping"===c&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Shipping Information"}),(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)(Ot,{id:"fullName",label:"Full Name",type:"text",placeholder:"Enter your full name",fieldState:b.fullName,onChange:e=>L("fullName",e)}),(0,w.jsx)(Ot,{id:"addressLine1",label:"Address Line 1",type:"text",placeholder:"Street address or P.O. Box",fieldState:b.addressLine1,onChange:e=>L("addressLine1",e)}),(0,w.jsx)(Ot,{id:"addressLine2",label:"Address Line 2",type:"text",placeholder:"Apt, suite, unit, building, floor, etc. (optional)",fieldState:b.addressLine2,onChange:e=>L("addressLine2",e),required:!1}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,w.jsx)(Ot,{id:"city",label:"City",type:"text",placeholder:"Enter your city",fieldState:b.city,onChange:e=>L("city",e)}),(0,w.jsx)(Ot,{id:"postalCode",label:"Postal Code",type:"text",placeholder:"Enter your postal code",fieldState:b.postalCode,onChange:e=>L("postalCode",e)})]}),(0,w.jsx)(Tt,{id:"country",label:"Country",fieldState:b.country,onChange:e=>L("country",e),options:[{value:"South Africa",label:"South Africa"},{value:"Namibia",label:"Namibia"},{value:"Botswana",label:"Botswana"},{value:"Zimbabwe",label:"Zimbabwe"},{value:"Mozambique",label:"Mozambique"}]}),(0,w.jsx)(Ot,{id:"phoneNumber",label:"Phone Number",type:"tel",placeholder:"For delivery updates",fieldState:b.phoneNumber,onChange:e=>L("phoneNumber",e)}),(0,w.jsxs)("div",{className:"mt-6",children:[(0,w.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Shipping Method"}),(0,w.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,w.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat(S===e.id?"border-primary-600 bg-primary-50":"border-gray-200"),onClick:()=>C(e.id),children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"w-4 h-4 rounded-full mr-3 flex-shrink-0 ".concat(S===e.id?"bg-primary-600":"border border-gray-300")}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,w.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]}),(0,w.jsxs)("span",{className:"text-sm font-semibold",children:["R",e.price.toLocaleString()]})]})},e.id))})]})]})]}),"payment"===c&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Payment Information"}),(0,w.jsx)("div",{className:"mb-6",children:(0,w.jsx)(Ut,{orderId:f||"",amount:T,email:null===s||void 0===s?void 0:s.email,firstName:null===s||void 0===s?void 0:s.username,lastName:"",phone:b.phoneNumber.value,onSuccess:async e=>{try{console.log("Payment successful:",e),t();try{await Promise.resolve().then(n.bind(n,632)).then(e=>e.useSearch().searchProducts())}catch(r){console.warn("Could not refresh products:",r)}d("confirmation"),h(!0)}catch(i){console.error("Error processing payment success:",i),y("Payment was successful but there was an error processing your order. Please contact support.")}},onClose:()=>y("Payment was cancelled")})})]}),"confirmation"===c&&(0,w.jsxs)("div",{className:"p-6 text-center",children:[(0,w.jsx)("div",{className:"flex justify-center mb-4",children:(0,w.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,w.jsx)(Xt,{className:"h-10 w-10 text-green-600"})})}),(0,w.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You for Your Order!"}),(0,w.jsx)("p",{className:"text-gray-600 mb-6",children:"Your order has been placed successfully."}),(0,w.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg inline-block mb-6",children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Order Reference:"}),(0,w.jsx)("p",{className:"text-lg font-medium text-gray-900",children:f})]}),(0,w.jsx)("p",{className:"text-gray-600 mb-6",children:'We\'ve sent a confirmation email to your registered email address. You can track your order status in your profile under "Orders".'}),(0,w.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,w.jsx)("button",{onClick:()=>l("/products"),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Continue Shopping"}),(0,w.jsx)("button",{onClick:()=>l("/profile"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"View Orders"})]})]}),("shipping"===c||"payment"===c)&&(0,w.jsxs)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[(0,w.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Order Summary"}),(0,w.jsx)("div",{className:"space-y-3 mb-4",children:e.items.map(e=>(0,w.jsxs)("div",{className:"flex justify-between items-center",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("span",{className:"bg-gray-200 text-gray-700 w-6 h-6 rounded-full flex items-center justify-center text-xs mr-2",children:e.quantity}),(0,w.jsx)("span",{className:"text-sm text-gray-600",children:e.product.name})]}),(0,w.jsxs)("span",{className:"text-sm font-medium",children:["R",(e.product.price*e.quantity).toLocaleString()]})]},e.product.id))}),(0,w.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,w.jsxs)("span",{className:"font-medium",children:["R",P.toLocaleString()]})]}),(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,w.jsxs)("span",{className:"font-medium",children:["R",M.toLocaleString()]})]}),(0,w.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,w.jsx)("span",{className:"text-gray-600",children:"Tax (15% VAT)"}),(0,w.jsxs)("span",{className:"font-medium",children:["R",O.toLocaleString()]})]}),(0,w.jsxs)("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-gray-200",children:[(0,w.jsx)("span",{children:"Total"}),(0,w.jsxs)("span",{children:["R",T.toLocaleString()]})]})]})]}),("shipping"===c||"payment"===c)&&(0,w.jsx)("div",{className:"p-6 bg-white border-t border-gray-200",children:(0,w.jsxs)("div",{className:"flex justify-between",children:["payment"===c?(0,w.jsx)("button",{onClick:()=>{"payment"===c&&d("shipping")},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}):(0,w.jsx)("div",{}),(0,w.jsx)("button",{onClick:()=>{if("shipping"===c){const e=Object.keys(b).reduce((e,t)=>{const n=t;return(0,o.A)((0,o.A)({},e),{},{[n]:(0,o.A)((0,o.A)({},b[n]),{},{touched:!0})})},{});if(j(e),!Kt(e))return void y("Please fill out all required fields");D()}},disabled:p||"shipping"===c&&Object.values(b).some(e=>!e.value.trim()),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:p?(0,w.jsxs)("span",{className:"flex items-center",children:[(0,w.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"shipping"===c?"Continue to Payment":"Place Order"})]})})]})]})})})},Zt=e=>{let{size:t="md",color:n="primary",className:r=""}=e;const i={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[t],s={primary:"text-primary-600",white:"text-white",gray:"text-gray-600"}[n]||"text-primary-600";return(0,w.jsxs)("svg",{className:"animate-spin ".concat(i," ").concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},en=e=>{let{message:t,className:n=""}=e;return t?(0,w.jsx)("div",{className:"rounded-md bg-red-50 p-4 ".concat(n),children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-400"})}),(0,w.jsx)("div",{className:"ml-3",children:(0,w.jsx)("h3",{className:"text-sm font-medium text-red-800",children:t})})]})}):null},tn=[{key:"processing",label:"Processing",description:"Order is being prepared"},{key:"confirmed",label:"Confirmed",description:"Order has been confirmed"},{key:"preparing",label:"Preparing",description:"Items are being packed"},{key:"shipped",label:"Shipped",description:"Package has left our facility"},{key:"in_transit",label:"In Transit",description:"Package is on its way"},{key:"out_for_delivery",label:"Out for Delivery",description:"Package is out for delivery"},{key:"delivered",label:"Delivered",description:"Package has been delivered"}],nn=()=>{var e,t;const{trackingNumber:n}=(0,a.g)(),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)("");(0,r.useEffect)(()=>{n&&(async()=>{try{c(!0);const e=await fetch("/api/tracking/".concat(n)),t=await e.json();t.success?o(t.data):u("Tracking number not found")}catch(e){u("Failed to fetch tracking information")}finally{c(!1)}})()},[n]);const h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(l)return(0,w.jsx)(Zt,{});if(d)return(0,w.jsx)(en,{message:d});if(!i)return(0,w.jsx)(en,{message:"No tracking information found"});const f=(m=i.currentStage,tn.findIndex(e=>e.key===m));var m;return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,w.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Track Your Order"}),(0,w.jsxs)("p",{className:"text-gray-600 mt-1",children:["Tracking Number: ",(0,w.jsx)("span",{className:"font-semibold",children:i.trackingNumber})]})]}),i.trackingUrl&&(0,w.jsxs)("a",{href:i.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:["Track on ",i.carrier]})]})}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Order Date"}),(0,w.jsx)("p",{className:"font-semibold",children:h(i.createdAt)})]}),i.totalItems&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Items"}),(0,w.jsxs)("p",{className:"font-semibold",children:[i.totalItems," item(s)"]})]}),i.totalPrice&&(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,w.jsxs)("p",{className:"font-semibold",children:["R ",i.totalPrice.toFixed(2)]})]})]}),i.deliveryLocation&&(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Delivery Location"}),(0,w.jsxs)("p",{className:"font-semibold",children:[i.deliveryLocation.city,", ",i.deliveryLocation.country]})]}),i.estimatedDelivery&&(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),(0,w.jsx)("p",{className:"font-semibold text-green-600",children:h(i.estimatedDelivery)})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,w.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Tracking Progress"}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,w.jsx)("div",{className:"absolute left-6 top-0 w-0.5 bg-blue-600 transition-all duration-500",style:{height:"".concat(f/(tn.length-1)*100,"%")}}),(0,w.jsx)("div",{className:"space-y-6",children:tn.map((e,t)=>{const n=t<=f,r=t===f;return(0,w.jsxs)("div",{className:"relative flex items-center",children:[(0,w.jsx)("div",{className:"relative z-10 w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all duration-300 ".concat(n?"bg-blue-600 border-blue-600":"bg-white border-gray-300"),children:n?(0,w.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,w.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300"})}),(0,w.jsxs)("div",{className:"ml-4 flex-1",children:[(0,w.jsxs)("div",{className:"font-semibold ".concat(r?"text-blue-600":n?"text-gray-900":"text-gray-500"),children:[e.label,r&&(0,w.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Current"})]}),(0,w.jsx)("p",{className:"text-sm ".concat(n?"text-gray-600":"text-gray-400"),children:e.description}),"delivered"===e.key&&i.deliveredAt&&n&&(0,w.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Delivered on ",h(i.deliveredAt),i.deliveredTo&&" to ".concat(i.deliveredTo)]})]})]},e.key)})})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Status"}),(0,w.jsx)("p",{className:"text-gray-600 mt-1",children:(null===(e=tn[f])||void 0===e?void 0:e.description)||"Processing your order"})]}),(0,w.jsx)("div",{className:"px-4 py-2 rounded-full text-sm font-medium ".concat(i.isDelivered?"bg-green-100 text-green-800":f>=3?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:i.isDelivered?"Delivered":(null===(t=tn[f])||void 0===t?void 0:t.label)||"Processing"})]}),i.carrier&&(0,w.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,w.jsxs)("p",{className:"text-sm text-gray-600",children:["Carrier: ",(0,w.jsx)("span",{className:"font-semibold text-gray-900",children:i.carrier})]})})]}),(0,w.jsx)("div",{className:"mt-8 text-center",children:(0,w.jsxs)(s.N_,{to:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,w.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Continue Shopping"]})})]})})};var rn=n(632);const sn=u("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),an=u("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),on=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function ln(){const[e,t]=(0,r.useState)({email:"",password:""}),[n,i]=(0,r.useState)({}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),g=(0,a.Zp)(),{login:x}=(0,v.A)();(0,r.useEffect)(()=>{const{email:t,password:r}=e,i=Object.keys(n).length>0,s=""!==t.trim()&&""!==r.trim();p(s&&!i)},[e,n]);const y=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"Please enter a valid email address":"Email is required",b=e=>e.trim()?e.length<6?"Password must be at least 6 characters":"":"Password is required",j=e=>{const{name:n,value:r}=e.target;t(e=>(0,o.A)((0,o.A)({},e),{},{[n]:r}));let s="";"email"===n?s=y(r):"password"===n&&(s=b(r)),i(e=>{if(s)return(0,o.A)((0,o.A)({},e),{},{[n]:s});{const t=(0,o.A)({},e);return delete t[n],t}})};return(0,w.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),(0,w.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your Snappify account"})]}),d&&(0,w.jsx)("div",{className:"rounded-md bg-red-50 p-4 animate-fadeIn",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-400"})}),(0,w.jsx)("div",{className:"ml-3",children:(0,w.jsx)("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),(0,w.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),u(""),(()=>{const t={},n=y(e.email);n&&(t.email=n);const r=b(e.password);return r&&(t.password=r),i(t),0===Object.keys(t).length})()){f(!0);try{(await x(e.email,e.password)).user.isAdmin?g("/admin"):g("/")}catch(n){u(n instanceof Error?n.message:"Failed to login. Please check your credentials and try again.")}finally{f(!1)}}},children:[(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,w.jsx)(I,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:j,className:"block w-full pl-10 pr-3 py-2 border ".concat(n.email?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary-500 focus:border-primary-500"," rounded-md shadow-sm placeholder-gray-400 sm:text-sm"),placeholder:"you@example.com","aria-describedby":n.email?"email-error":void 0})]}),n.email&&(0,w.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"email-error",children:n.email})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,w.jsx)(sn,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsx)("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",value:e.password,onChange:j,className:"block w-full pl-10 pr-10 py-2 border ".concat(n.password?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary-500 focus:border-primary-500"," rounded-md shadow-sm placeholder-gray-400 sm:text-sm"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","aria-describedby":n.password?"password-error":void 0}),(0,w.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{c(!l)},children:l?(0,w.jsx)(an,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"}):(0,w.jsx)(on,{className:"h-5 w-5 text-gray-400 hover:text-gray-500"})})]}),n.password&&(0,w.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:n.password})]})]}),(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,w.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,w.jsx)("div",{className:"text-sm",children:(0,w.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),(0,w.jsx)("div",{children:(0,w.jsx)("button",{type:"submit",disabled:h||!m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:h?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,w.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,w.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})}),(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,w.jsx)(s.N_,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up now"})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(s.N_,{to:"/request-reset",className:"text-blue-500 hover:underline",children:"Forgot password?"})}),(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(s.N_,{to:"/request-email-verification",className:"text-blue-500 hover:underline",children:"Verify your email"})})]})]})]})})}function cn(){const[e,t]=(0,r.useState)({firstName:Qt(),lastName:Qt(),username:Qt(),email:Qt(),password:Qt(),confirmPassword:Qt()}),[n,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),m=(0,a.Zp)(),{register:p}=(0,v.A)(),x=(n,r)=>{let i=(0,o.A)({},e);switch(n){case"firstName":i.firstName=Jt(e.firstName,r,e=>e.length>0?null:"First name is required");break;case"lastName":i.lastName=Jt(e.lastName,r,e=>e.length>0?null:"Last name is required");break;case"username":i.username=Jt(e.username,r,$t);break;case"email":i.email=Jt(e.email,r,Ht);break;case"password":i.password=Jt(e.password,r,qt),e.confirmPassword.touched&&(i.confirmPassword=Jt(e.confirmPassword,e.confirmPassword.value,e=>Yt(r,e)));break;case"confirmPassword":i.confirmPassword=Jt(e.confirmPassword,r,t=>Yt(e.password.value,t))}t(i),f(!0)},y=Kt(e);return(0,w.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,w.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,w.jsx)(s.N_,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your account"}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(s.N_,{to:"/request-reset",className:"text-blue-500 hover:underline",children:"Forgot password?"})}),(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(s.N_,{to:"/request-email-verification",className:"text-blue-500 hover:underline",children:"Verify your email"})})]})]}),n&&(0,w.jsx)(en,{message:n,className:"mb-4"}),(0,w.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async n=>{n.preventDefault(),i("");const r=Object.keys(e).reduce((t,n)=>{const r=n;return(0,o.A)((0,o.A)({},t),{},{[r]:(0,o.A)((0,o.A)({},e[r]),{},{touched:!0})})},{});if(t(r),Kt(r)){c(!0);try{await p(e.username.value,e.email.value,e.password.value,e.firstName.value,e.lastName.value),m("/")}catch(s){i(s instanceof Error?s.message:"Failed to create account")}finally{c(!1)}}else i("Please fix the errors in the form")},children:[(0,w.jsxs)("div",{className:"rounded-md space-y-4",children:[(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsx)(Ot,{id:"firstName",label:"First Name",type:"text",placeholder:"Enter your first name",fieldState:e.firstName,onChange:e=>x("firstName",e),autoComplete:"given-name",icon:(0,w.jsx)(g,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsx)(Ot,{id:"lastName",label:"Last Name",type:"text",placeholder:"Enter your last name",fieldState:e.lastName,onChange:e=>x("lastName",e),autoComplete:"family-name",icon:(0,w.jsx)(g,{className:"h-5 w-5 text-gray-400"})})]}),(0,w.jsx)(Ot,{id:"username",label:"Username",type:"text",placeholder:"Choose a username",fieldState:e.username,onChange:e=>x("username",e),autoComplete:"username",icon:(0,w.jsx)(g,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsx)(Ot,{id:"email",label:"Email address",type:"email",placeholder:"Enter your email",fieldState:e.email,onChange:e=>x("email",e),autoComplete:"email",icon:(0,w.jsx)(I,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(Ot,{id:"password",label:"Password",type:d?"text":"password",placeholder:"Create a password",fieldState:e.password,onChange:e=>x("password",e),autoComplete:"new-password",icon:(0,w.jsx)(sn,{className:"h-5 w-5 text-gray-400"})}),(0,w.jsx)("button",{type:"button",className:"absolute right-3 top-9 text-gray-500",onClick:()=>u(!d),children:d?(0,w.jsx)(an,{className:"h-5 w-5"}):(0,w.jsx)(on,{className:"h-5 w-5"})})]}),(0,w.jsx)(Ot,{id:"confirm-password",label:"Confirm Password",type:d?"text":"password",placeholder:"Confirm your password",fieldState:e.confirmPassword,onChange:e=>x("confirmPassword",e),autoComplete:"new-password",icon:(0,w.jsx)(sn,{className:"h-5 w-5 text-gray-400"})})]}),h&&!y&&!n&&(0,w.jsx)("p",{className:"text-sm text-yellow-600 mt-2",children:"Please complete all required fields correctly."}),(0,w.jsx)("div",{children:(0,w.jsx)("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?(0,w.jsxs)("span",{className:"flex items-center",children:[(0,w.jsx)(Zt,{size:"sm",color:"white",className:"mr-2"}),"Creating account..."]}):"Create account"})}),(0,w.jsxs)("div",{className:"text-sm text-center",children:["By creating an account, you agree to our"," ",(0,w.jsx)(s.N_,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",(0,w.jsx)(s.N_,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]})]})})}const dn=u("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),un=u("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),hn=u("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function fn(e){let{onSubmit:t,initialData:n}=e;const[i,s]=(0,r.useState)(n.username),[a,l]=(0,r.useState)(n.email),[c,d]=(0,r.useState)(n.phoneNumber||""),[u,h]=(0,r.useState)(n.defaultShippingAddress||{addressLine1:"",addressLine2:"",city:"",postalCode:"",country:""}),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1);return(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(""),g(!0);try{await t({username:i,email:a,phoneNumber:c||void 0,defaultShippingAddress:u.addressLine1?u:void 0})}catch(n){m(n instanceof Error?n.message:"Failed to update profile")}finally{g(!1)}},className:"space-y-6",children:[f&&(0,w.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-400"}),(0,w.jsx)("div",{className:"ml-3",children:(0,w.jsx)("h3",{className:"text-sm font-medium text-red-800",children:f})})]})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,w.jsx)("input",{type:"text",id:"username",value:i,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,w.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,w.jsx)("input",{type:"tel",id:"phoneNumber",value:c,onChange:e=>d(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Shipping Address"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700",children:"Address Line 1"}),(0,w.jsx)("input",{type:"text",id:"addressLine1",value:u.addressLine1,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{addressLine1:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700",children:"Address Line 2 (Optional)"}),(0,w.jsx)("input",{type:"text",id:"addressLine2",value:u.addressLine2,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{addressLine2:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,w.jsx)("input",{type:"text",id:"city",value:u.city,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{city:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700",children:"Postal Code"}),(0,w.jsx)("input",{type:"text",id:"postalCode",value:u.postalCode,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{postalCode:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,w.jsx)("input",{type:"text",id:"country",value:u.country,onChange:e=>h(t=>(0,o.A)((0,o.A)({},t),{},{country:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,w.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:p?"Saving...":"Save Changes"})]})}function mn(e){let{onSubmit:t}=e;const[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1);return(0,w.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),s!==o)return d("Passwords do not match");h(!0);try{await t({currentPassword:n,newPassword:s}),i(""),a(""),l("")}catch(r){d(r instanceof Error?r.message:"Failed to change password")}finally{h(!1)}},className:"space-y-6",children:[c&&(0,w.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-400"}),(0,w.jsx)("div",{className:"ml-3",children:(0,w.jsx)("h3",{className:"text-sm font-medium text-red-800",children:c})})]})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),(0,w.jsx)("input",{type:"password",id:"current-password",value:n,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,w.jsx)("input",{type:"password",id:"new-password",value:s,onChange:e=>a(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,w.jsx)("input",{type:"password",id:"confirm-password",value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,w.jsx)("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:u?"Changing Password...":"Change Password"})]})}function pn(e){let{onSubmit:t,initialData:n}=e;const[i,s]=(0,r.useState)(n.notifications),[a,o]=(0,r.useState)(n.language),[l,c]=(0,r.useState)(n.currency),[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1);return(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(""),f(!0);try{await t({notifications:i,language:a,currency:l})}catch(n){u(n instanceof Error?n.message:"Failed to update settings")}finally{f(!1)}},className:"space-y-6",children:[d&&(0,w.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)(Wt,{className:"h-5 w-5 text-red-400"}),(0,w.jsx)("div",{className:"ml-3",children:(0,w.jsx)("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("input",{type:"checkbox",id:"notifications",checked:i,onChange:e=>s(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,w.jsx)("label",{htmlFor:"notifications",className:"ml-2 block text-sm text-gray-900",children:"Enable email notifications"})]})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700",children:"Language"}),(0,w.jsx)("select",{id:"language",value:a,onChange:e=>o(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"}].map(e=>(0,w.jsx)("option",{value:e.code,children:e.name},e.code))})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,w.jsx)("select",{id:"currency",value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[{code:"USD",symbol:"$"},{code:"EUR",symbol:"\u20ac"},{code:"GBP",symbol:"\xa3"}].map(e=>(0,w.jsxs)("option",{value:e.code,children:[e.code," (",e.symbol,")"]},e.code))})]}),(0,w.jsx)("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:h?"Saving...":"Save Settings"})]})}const gn=()=>{const{state:e,removeFromWishlist:t}=M(),{addToCart:n}=_(),{showNotification:r}=(0,K.h)();return(0,w.jsx)("div",{children:e.itemCount>0?(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.items.map(i=>(0,w.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow relative",children:[(0,w.jsx)("div",{className:"absolute top-2 right-2 flex space-x-2",children:(0,w.jsx)("button",{onClick:()=>{t(i.id),r("".concat(i.name," removed from wishlist."),"info")},className:"bg-white rounded-full p-1.5 shadow hover:bg-red-50 transition-colors","aria-label":"Remove from wishlist",children:(0,w.jsx)(Pt,{className:"h-4 w-4 text-red-500"})})}),(0,w.jsxs)("div",{className:"flex space-x-4",children:[(0,w.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:(0,w.jsx)("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover rounded-md",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=Product+Image"}})}),(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsx)(s.N_,{to:"/products/".concat(i.id),className:"text-gray-900 font-medium hover:text-primary-600 transition-colors",children:i.name}),(0,w.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,w.jsxs)("div",{className:"text-primary-600 font-bold",children:["R",i.price.toLocaleString()]}),(0,w.jsxs)("button",{onClick:()=>(t=>{const i=e.items.find(e=>String(e.id)===String(t));i&&(n(i),r("".concat(i.name," added to cart!"),"success"))})(i.id),className:"inline-flex items-center text-sm bg-primary-600 text-white px-3 py-1 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,w.jsx)(p,{className:"h-3.5 w-3.5 mr-1"}),"Add to Cart"]})]})]})]})]},i.id))}),(0,w.jsx)("div",{className:"flex justify-end",children:(0,w.jsx)("button",{onClick:()=>{e.items.forEach(e=>n(e)),r("All wishlist items added to cart!","success")},className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Add All to Cart"})})]}):(0,w.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,w.jsx)(m,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,w.jsx)("p",{children:"Your wishlist is empty"}),(0,w.jsx)(s.N_,{to:"/products",className:"inline-block mt-4 text-primary-600 hover:text-primary-700 transition-colors",children:"Browse Products"})]})})},xn=u("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),yn=u("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),bn=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{i(!0);const e=await b.default.orders.getOrders();console.log("Fetched orders in OrderSection:",e),Array.isArray(e)?t(e):(console.warn("Orders data is not an array:",e),t([]))}catch(e){console.error("Error fetching orders:",e),o("Failed to load your orders. Please try again later."),t([])}finally{i(!1)}})()},[]);const d=e=>{switch(e){case"pending":return(0,w.jsx)(xn,{className:"h-4 w-4 text-yellow-500"});case"processing":return(0,w.jsx)(xn,{className:"h-4 w-4 text-blue-500"});case"shipped":return(0,w.jsx)(W,{className:"h-4 w-4 text-blue-500"});case"delivered":return(0,w.jsx)(Xt,{className:"h-4 w-4 text-green-500"});case"cancelled":return(0,w.jsx)(xn,{className:"h-4 w-4 text-red-500"});default:return(0,w.jsx)(xn,{className:"h-4 w-4 text-gray-500"})}},u=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?(0,w.jsxs)("div",{className:"text-center py-8",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-gray-600",children:"Loading your orders..."})]}):a?(0,w.jsxs)("div",{className:"text-center text-red-500 py-8",children:[(0,w.jsx)("p",{children:a}),(0,w.jsx)("button",{className:"mt-4 text-primary-600 hover:text-primary-700",onClick:()=>window.location.reload(),children:"Try Again"})]}):0===e.length?(0,w.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,w.jsx)(_t,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,w.jsx)("p",{children:"You haven't placed any orders yet"}),(0,w.jsx)(s.N_,{to:"/products",className:"inline-block mt-4 text-primary-600 hover:text-primary-700 transition-colors",children:"Start Shopping"})]}):(0,w.jsx)("div",{className:"space-y-6",children:Array.isArray(e)&&e.map(e=>{var t,n,r,i,a,o;return(0,w.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[(0,w.jsxs)("div",{className:"p-4 sm:p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-gray-200",children:[(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex items-center mb-2",children:[(0,w.jsx)("span",{className:"text-sm text-gray-500 mr-2",children:"Order #"}),(0,w.jsx)("span",{className:"text-sm font-medium",children:e.id})]}),(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)("span",{className:"text-sm text-gray-500",children:e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Date not available"}),(0,w.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(u(e.status)),children:[d(e.status),(0,w.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})]})]}),(0,w.jsxs)("div",{className:"flex flex-col items-end mt-3 sm:mt-0",children:[(0,w.jsx)("span",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),(0,w.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["R",(e.total||0).toLocaleString()]}),(0,w.jsx)("button",{onClick:()=>{return t=e.id,void c(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mt-2 text-primary-600 hover:text-primary-700 flex items-center text-sm font-medium",children:l.includes(e.id)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{children:"Hide Details"}),(0,w.jsx)(yn,{className:"ml-1 h-4 w-4"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{children:"Show Details"}),(0,w.jsx)(h,{className:"ml-1 h-4 w-4"})]})})]})]}),l.includes(e.id)&&(0,w.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,w.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Items"}),(0,w.jsx)("div",{className:"space-y-3 mb-6",children:(e.items||[]).map((e,t)=>{var n;return e&&e.product?(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"w-12 h-12 flex-shrink-0 mr-3",children:(0,w.jsx)("img",{src:e.product.image||"https://via.placeholder.com/48?text=Product",alt:e.product.name||"Product",className:"w-full h-full object-cover rounded-md",onError:e=>{e.target.src="https://via.placeholder.com/48?text=Product"}})}),(0,w.jsxs)("div",{children:[(0,w.jsx)(s.N_,{to:"/products/".concat(e.product.id||""),className:"text-sm font-medium text-gray-900 hover:text-primary-600",children:e.product.name||"Unknown Product"}),(0,w.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Quantity: ",e.quantity||1]})]})]}),(0,w.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["R",(((null===(n=e.product)||void 0===n?void 0:n.price)||0)*(e.quantity||1)).toLocaleString()]})]},t):null})}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Shipping Address"}),(0,w.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[(0,w.jsx)("p",{className:"font-medium text-gray-900",children:(null===(t=e.shippingAddress)||void 0===t?void 0:t.fullName)||"Name not available"}),(0,w.jsx)("p",{children:(null===(n=e.shippingAddress)||void 0===n?void 0:n.addressLine1)||"Address not available"}),(null===(r=e.shippingAddress)||void 0===r?void 0:r.addressLine2)&&(0,w.jsx)("p",{children:e.shippingAddress.addressLine2}),(0,w.jsxs)("p",{children:[(null===(i=e.shippingAddress)||void 0===i?void 0:i.city)||"City",", ",(null===(a=e.shippingAddress)||void 0===a?void 0:a.postalCode)||"Postal Code"]}),(0,w.jsx)("p",{children:(null===(o=e.shippingAddress)||void 0===o?void 0:o.country)||"Country"})]})]}),e.trackingNumber&&(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Tracking Information"}),(0,w.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[(0,w.jsx)("p",{className:"text-gray-600",children:"Tracking Number:"}),(0,w.jsx)("p",{className:"font-medium text-gray-900",children:e.trackingNumber}),(0,w.jsx)("a",{href:"#track-".concat(e.trackingNumber),className:"text-primary-600 hover:text-primary-700 mt-2 inline-block",onClick:e=>e.preventDefault(),children:"Track Package"})]})]})]}),(0,w.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:["pending"===e.status||"processing"===e.status?(0,w.jsx)("button",{className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",onClick:()=>{alert("Order cancellation would be implemented here")},children:"Cancel Order"}):null,(0,w.jsx)("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>{alert("Invoice download would be implemented here")},children:"Download Invoice"}),(0,w.jsx)("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",onClick:()=>{alert("Help/support would be implemented here")},children:"Need Help?"})]})]})]},e.id)})})},vn="http://localhost:5000/api";function wn(){const{user:e,logout:t,isAuthenticated:n}=(0,v.A)(),i=(0,a.Zp)(),[s,o]=(0,r.useState)("profile"),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),{showNotification:h}=(0,K.h)(),[f,p]=(0,r.useState)({notifications:!0,language:"en",currency:"USD"});(0,r.useEffect)(()=>{n||i("/login")},[n,i]);const x=[{id:"profile",name:"Profile",icon:g},{id:"orders",name:"Orders",icon:_t},{id:"wishlist",name:"Wishlist",icon:m},{id:"settings",name:"Settings",icon:dn}];return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,w.jsx)("div",{className:"w-full md:w-64 space-y-4",children:(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"h-24 w-24 rounded-full bg-primary-100 flex items-center justify-center mx-auto mb-4",children:(0,w.jsx)(g,{className:"h-12 w-12 text-primary-600"})}),(0,w.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:null===e||void 0===e?void 0:e.username}),(0,w.jsx)("p",{className:"text-sm text-gray-500",children:null===e||void 0===e?void 0:e.email})]}),(0,w.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,w.jsxs)("nav",{className:"space-y-2",children:[x.map(e=>(0,w.jsxs)("button",{onClick:()=>o(e.id),className:"w-full flex items-center px-4 py-2 text-sm rounded-lg ".concat(s===e.id?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50"),children:[(0,w.jsx)(e.icon,{className:"h-5 w-5 mr-3"}),e.name]},e.id)),(0,w.jsxs)("button",{onClick:()=>{t(),i("/")},className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:[(0,w.jsx)(un,{className:"h-5 w-5 mr-3"}),"Sign Out"]})]})})]})}),(0,w.jsx)("div",{className:"flex-1",children:(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow",children:["profile"===s&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,w.jsx)("div",{className:"mb-8 text-center",children:(0,w.jsxs)("div",{className:"relative inline-block",children:[(0,w.jsx)("div",{className:"h-32 w-32 rounded-full bg-primary-100 flex items-center justify-center mx-auto mb-4 overflow-hidden",children:null!==e&&void 0!==e&&e.profilePicture?(0,w.jsx)("img",{src:"".concat(vn.replace("/api","")).concat(e.profilePicture),alt:"Profile",className:"h-full w-full object-cover"}):(0,w.jsx)(g,{className:"h-16 w-16 text-primary-600"})}),(0,w.jsxs)("label",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg cursor-pointer",children:[(0,w.jsx)(hn,{className:"h-5 w-5 text-gray-600"}),(0,w.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=new FormData;r.append("profilePicture",n);try{if(!(await fetch("".concat(vn,"/profile/upload-picture"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:r})).ok)throw new Error("Failed to upload profile picture");h("Profile picture updated!","success")}catch(i){h(i instanceof Error?i.message:"Failed to upload profile picture","error")}}})]})]})}),l?(0,w.jsx)(fn,{onSubmit:async e=>{try{const t=await fetch("".concat(vn,"/profile/update"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update profile")}c(!1),h("Profile updated successfully","success")}catch(t){h(t instanceof Error?t.message:"Failed to update profile","error")}},initialData:{username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||""}}):(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,w.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg text-gray-900",children:null===e||void 0===e?void 0:e.username})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,w.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg text-gray-900",children:null===e||void 0===e?void 0:e.email})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),(0,w.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg text-gray-900",children:(new Date).toLocaleDateString()})]}),(0,w.jsxs)("div",{className:"flex space-x-4",children:[(0,w.jsx)("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Edit Profile"}),(0,w.jsx)("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Change Password"})]})]}),d&&(0,w.jsxs)("div",{className:"mt-8",children:[(0,w.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),(0,w.jsx)(mn,{onSubmit:async e=>{try{if(!(await fetch("".concat(vn,"/profile/change-password"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)})).ok)throw new Error("Failed to change password");u(!1),h("Password changed successfully","success")}catch(t){h(t instanceof Error?t.message:"Failed to change password","error")}}})]})]}),"orders"===s&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order History"}),(0,w.jsx)(bn,{})]}),"wishlist"===s&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Wishlist"}),(0,w.jsx)(gn,{})]}),"settings"===s&&(0,w.jsxs)("div",{className:"p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Account Settings"}),(0,w.jsx)(pn,{onSubmit:async e=>{try{if(!(await fetch("".concat(vn,"/profile/settings"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)})).ok)throw new Error("Failed to update settings");p(e),h("Settings updated successfully","success")}catch(t){h(t instanceof Error?t.message:"Failed to update settings","error")}},initialData:f})]})]})})]})})})}const jn=()=>{const{user:e}=(0,v.A)(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)("");return(0,r.useEffect)(()=>{e?(async()=>{s(!0),o("");try{const e=await b.orderApi.getOrders();if(console.log("Raw orders data:",e),!e||!Array.isArray(e))return console.warn("Invalid orders data received:",e),void n([]);const t=e.map(e=>({_id:e._id||e.id||"unknown",createdAt:e.createdAt||e.date||(new Date).toISOString(),status:e.status||e.orderStatus||"pending",total:e.totalPrice||e.total||0,items:(e.orderItems||e.items||[]).map(e=>{var t,n,r;return{product:{name:e.name||(null===(t=e.product)||void 0===t?void 0:t.name)||"Unknown Product",image:e.image||(null===(n=e.product)||void 0===n?void 0:n.image)||"https://via.placeholder.com/32?text=Product"},quantity:e.quantity||1,price:e.price||(null===(r=e.product)||void 0===r?void 0:r.price)||0}})}));n(t)}catch(e){console.error("Error fetching orders:",e),o(e.message||"Failed to fetch orders"),n([])}finally{s(!1)}})():s(!1)},[e]),e?(0,w.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Order History"}),i?(0,w.jsx)("div",{children:"Loading orders..."}):a?(0,w.jsx)("div",{className:"text-red-500",children:a}):0===t.length?(0,w.jsx)("div",{className:"text-gray-500",children:"No orders found."}):(0,w.jsx)("div",{className:"space-y-8",children:t.map(e=>(0,w.jsxs)("div",{className:"border rounded-lg p-4 shadow cursor-pointer hover:bg-gray-50 transition",onClick:()=>window.location.href="/orders/".concat(e._id),children:[(0,w.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,w.jsxs)("span",{className:"font-semibold",children:["Order ID: ",e._id]}),(0,w.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,w.jsxs)("div",{className:"mb-2",children:["Status: ",(0,w.jsx)("span",{className:"font-medium",children:e.status})]}),(0,w.jsxs)("div",{className:"mb-2",children:["Total: ",(0,w.jsxs)("span",{className:"font-bold",children:["R",(e.total||0).toLocaleString()]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{className:"font-semibold mb-2",children:"Items:"}),(0,w.jsx)("ul",{className:"list-disc list-inside",children:(e.items||[]).map((e,t)=>{var n,r,i;return(0,w.jsxs)("li",{className:"flex items-center mb-1",children:[(0,w.jsx)("img",{src:(null===(n=e.product)||void 0===n?void 0:n.image)||"https://via.placeholder.com/32?text=Product",alt:(null===(r=e.product)||void 0===r?void 0:r.name)||"Product",className:"w-8 h-8 rounded mr-2",onError:e=>{e.target.src="https://via.placeholder.com/32?text=Product"}}),(0,w.jsx)("span",{children:(null===(i=e.product)||void 0===i?void 0:i.name)||"Unknown Product"}),(0,w.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["x",e.quantity||1]}),(0,w.jsxs)("span",{className:"ml-4 text-xs text-gray-700",children:["R",(e.price||0).toLocaleString()]})]},t)})})]})]},e._id))})]}):(0,w.jsx)("div",{className:"p-8",children:"Please log in to view your order history."})},Nn=()=>{var e,t,n,i,s,o,l,c,d;const{orderId:u}=(0,a.g)(),{user:h}=(0,v.A)(),f=(0,a.Zp)(),[m,p]=(0,r.useState)(null),[g,x]=(0,r.useState)(!0),[y,j]=(0,r.useState)("");return(0,r.useEffect)(()=>{h&&u&&(async()=>{x(!0),j("");try{const e=await b.orderApi.getOrderById(u);p(e)}catch(e){j(e.message||"Failed to fetch order details")}finally{x(!1)}})()},[h,u]),h?g?(0,w.jsx)("div",{className:"p-8",children:"Loading order details..."}):y?(0,w.jsx)("div",{className:"p-8 text-red-500",children:y}):m?(0,w.jsxs)("div",{className:"max-w-3xl mx-auto p-8",children:[(0,w.jsx)("button",{onClick:()=>f(-1),className:"mb-4 px-4 py-2 bg-gray-200 rounded",children:"Back"}),(0,w.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Order Details"}),(0,w.jsxs)("div",{className:"mb-2 font-semibold",children:["Order ID: ",m._id]}),(0,w.jsxs)("div",{className:"mb-2",children:["Date: ",new Date(m.createdAt).toLocaleString()]}),(0,w.jsxs)("div",{className:"mb-2",children:["Status: ",(0,w.jsx)("span",{className:"font-medium",children:m.status})]}),(0,w.jsxs)("div",{className:"mb-2",children:["Total: ",(0,w.jsxs)("span",{className:"font-bold",children:["R",null===(e=m.totalPrice)||void 0===e?void 0:e.toLocaleString()]})]}),(0,w.jsxs)("div",{className:"mb-4",children:["Shipping Address: ",(0,w.jsxs)("span",{className:"text-gray-700",children:[null===(t=m.shippingAddress)||void 0===t?void 0:t.fullName,", ",null===(n=m.shippingAddress)||void 0===n?void 0:n.addressLine1,", ",null===(i=m.shippingAddress)||void 0===i?void 0:i.city,", ",null===(s=m.shippingAddress)||void 0===s?void 0:s.country,", ",null===(o=m.shippingAddress)||void 0===o?void 0:o.postalCode]})]}),(0,w.jsxs)("div",{className:"mb-4",children:["Payment Method: ",(0,w.jsx)("span",{className:"text-gray-700",children:m.paymentMethod})]}),(0,w.jsxs)("div",{className:"mb-4",children:["Shipping Method: ",(0,w.jsxs)("span",{className:"text-gray-700",children:[null===(l=m.shippingMethod)||void 0===l?void 0:l.name," (",null===(c=m.shippingMethod)||void 0===c?void 0:c.description,")"]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{className:"font-semibold mb-2",children:"Items:"}),(0,w.jsx)("ul",{className:"list-disc list-inside",children:null===(d=m.orderItems)||void 0===d?void 0:d.map((e,t)=>(0,w.jsxs)("li",{className:"flex items-center mb-1",children:[(0,w.jsx)("img",{src:e.image,alt:e.name,className:"w-8 h-8 rounded mr-2"}),(0,w.jsx)("span",{children:e.name}),(0,w.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["x",e.quantity]}),(0,w.jsxs)("span",{className:"ml-4 text-xs text-gray-700",children:["R",e.price.toLocaleString()]})]},t))})]})]}):(0,w.jsx)("div",{className:"p-8",children:"Order not found."}):(0,w.jsx)("div",{className:"p-8",children:"Please log in to view order details."})};var kn=n(705);function Sn(e){return e+.5|0}const _n=(e,t,n)=>Math.max(Math.min(e,n),t);function Cn(e){return _n(Sn(2.55*e),0,255)}function An(e){return _n(Sn(255*e),0,255)}function Pn(e){return _n(Sn(e/2.55)/100,0,1)}function En(e){return _n(Sn(100*e),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},On=[..."0123456789ABCDEF"],Tn=e=>On[15&e],Ln=e=>On[(240&e)>>4]+On[15&e],Dn=e=>(240&e)>>4===(15&e);function Rn(e){var t=(e=>Dn(e.r)&&Dn(e.g)&&Dn(e.b)&&Dn(e.a))(e)?Tn:Ln;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const In=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zn(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Fn(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Bn(e,t,n){const r=zn(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Vn(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function Wn(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(An)}function Un(e,t,n){return Wn(zn,e,t,n)}function Hn(e){return(e%360+360)%360}function qn(e){const t=In.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Cn(+t[5]):An(+t[5]));const i=Hn(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Wn(Bn,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return Wn(Fn,e,t,n)}(i,s,a):Un(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const $n={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Qn;function Jn(e){Qn||(Qn=function(){const e={},t=Object.keys(Yn),n=Object.keys($n);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,$n[s]);s=parseInt(Yn[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Qn.transparent=[0,0,0,0]);const t=Qn[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Kn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Xn=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Gn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Zn(e,t,n){if(e){let r=Vn(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Un(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function er(e,t){return e?Object.assign(t||{},e):e}function tr(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=An(e[3]))):(t=er(e,{r:0,g:0,b:0,a:1})).a=An(t.a),t}function nr(e){return"r"===e.charAt(0)?function(e){const t=Kn.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Cn(e):_n(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?Cn(n):_n(n,0,255)),r=255&(t[4]?Cn(r):_n(r,0,255)),i=255&(t[6]?Cn(i):_n(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):qn(e)}class rr{constructor(e){if(e instanceof rr)return e;const t=typeof e;let n;"object"===t?n=tr(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Mn[e[1]],g:255&17*Mn[e[2]],b:255&17*Mn[e[3]],a:5===n?17*Mn[e[4]]:255}:7!==n&&9!==n||(t={r:Mn[e[1]]<<4|Mn[e[2]],g:Mn[e[3]]<<4|Mn[e[4]],b:Mn[e[5]]<<4|Mn[e[6]],a:9===n?Mn[e[7]]<<4|Mn[e[8]]:255})),t}(e)||Jn(e)||nr(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=er(this._rgb);return e&&(e.a=Pn(e.a)),e}set rgb(e){this._rgb=tr(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Pn(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?Rn(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Vn(e),n=t[0],r=En(t[1]),i=En(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Pn(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Gn(Pn(e.r)),i=Gn(Pn(e.g)),s=Gn(Pn(e.b));return{r:An(Xn(r+n*(Gn(Pn(t.r))-r))),g:An(Xn(i+n*(Gn(Pn(t.g))-i))),b:An(Xn(s+n*(Gn(Pn(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new rr(this.rgb)}alpha(e){return this._rgb.a=An(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Sn(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zn(this._rgb,2,e),this}darken(e){return Zn(this._rgb,2,-e),this}saturate(e){return Zn(this._rgb,1,e),this}desaturate(e){return Zn(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Vn(e);n[0]=Hn(n[0]+t),n=Un(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function ir(){}const sr=(()=>{let e=0;return()=>e++})();function ar(e){return null===e||void 0===e}function or(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function lr(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function cr(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function dr(e,t){return cr(e)?e:t}function ur(e,t){return"undefined"===typeof e?t:e}const hr=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fr(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function mr(e,t,n,r){let i,s,a;if(or(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(lr(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function pr(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function gr(e){if(or(e))return e.map(gr);if(lr(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=gr(e[n[i]]);return t}return e}function xr(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yr(e,t,n,r){if(!xr(e))return;const i=t[e],s=n[e];lr(i)&&lr(s)?br(i,s,r):t[e]=gr(s)}function br(e,t,n){const r=or(t)?t:[t],i=r.length;if(!lr(e))return e;const s=(n=n||{}).merger||yr;let a;for(let o=0;o<i;++o){if(a=r[o],!lr(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function vr(e,t){return br(e,t,{merger:wr})}function wr(e,t,n){if(!xr(e))return;const r=t[e],i=n[e];lr(r)&&lr(i)?vr(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=gr(i))}const jr={"":e=>e,x:e=>e.x,y:e=>e.y};function Nr(e,t){const n=jr[t]||(jr[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function kr(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Sr=e=>"undefined"!==typeof e,_r=e=>"function"===typeof e,Cr=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ar=Math.PI,Pr=2*Ar,Er=Pr+Ar,Mr=Number.POSITIVE_INFINITY,Or=Ar/180,Tr=Ar/2,Lr=Ar/4,Dr=2*Ar/3,Rr=Math.log10,Ir=Math.sign;function zr(e,t,n){return Math.abs(e-t)<n}function Fr(e){const t=Math.round(e);e=zr(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Rr(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Br(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Vr(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Wr(e){return e*(Ar/180)}function Ur(e){return e*(180/Ar)}function Hr(e){if(!cr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function qr(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ar&&(s+=Pr),{angle:s,distance:i}}function $r(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Yr(e,t){return(e-t+Er)%Pr-Ar}function Qr(e){return(e%Pr+Pr)%Pr}function Jr(e,t,n,r){const i=Qr(e),s=Qr(t),a=Qr(n),o=Qr(s-i),l=Qr(a-i),c=Qr(i-s),d=Qr(i-a);return i===s||i===a||r&&s===a||o>l&&c<d}function Kr(e,t,n){return Math.max(t,Math.min(n,e))}function Xr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Gr(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Zr=(e,t,n,r)=>Gr(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),ei=(e,t,n)=>Gr(e,n,r=>e[r][t]>=n);const ti=["push","pop","shift","splice","unshift"];function ni(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(ti.forEach(t=>{delete e[t]}),delete e._chartjs)}function ri(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ii="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function si(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,ii.call(window,()=>{r=!1,e.apply(t,n)}))}}const ai=e=>"start"===e?"left":"end"===e?"right":"center",oi=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function li(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:u,max:h,minDefined:f,maxDefined:m}=a.getUserBounds();if(f){if(i=Math.min(Zr(l,d,u).lo,n?r:Zr(t,d,a.getPixelForValue(u)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!ar(e[o.axis]));i-=Math.max(0,e)}i=Kr(i,0,r-1)}if(m){let e=Math.max(Zr(l,a.axis,h,!0).hi+1,n?0:Zr(t,d,a.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!ar(e[o.axis]));e+=Math.max(0,t)}s=Kr(e,i,r)-i}else s=r-i}return{start:i,count:s}}function ci(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const di=e=>0===e||1===e,ui=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pr/n),hi=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pr/n)+1,fi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Tr),easeOutSine:e=>Math.sin(e*Tr),easeInOutSine:e=>-.5*(Math.cos(Ar*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>di(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>di(e)?e:ui(e,.075,.3),easeOutElastic:e=>di(e)?e:hi(e,.075,.3),easeInOutElastic(e){const t=.1125;return di(e)?e:e<.5?.5*ui(2*e,t,.45):.5+.5*hi(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-fi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*fi.easeInBounce(2*e):.5*fi.easeOutBounce(2*e-1)+.5};function mi(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function pi(e){return mi(e)?e:new rr(e)}function gi(e){return mi(e)?e:new rr(e).saturate(.5).darken(.1).hexString()}const xi=["x","y","borderWidth","radius","tension"],yi=["color","borderColor","backgroundColor"];const bi=new Map;function vi(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=bi.get(n);return r||(r=new Intl.NumberFormat(e,t),bi.set(n,r)),r}(t,n).format(e)}const wi={values:e=>or(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Rr(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),vi(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Rr(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?wi.numeric.call(this,e,t,n):""}};var ji={formatters:wi};const Ni=Object.create(null),ki=Object.create(null);function Si(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function _i(e,t,n){return"string"===typeof t?br(Si(e,t),n):br(Si(e,""),t)}class Ci{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>gi(t.backgroundColor),this.hoverBorderColor=(e,t)=>gi(t.borderColor),this.hoverColor=(e,t)=>gi(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _i(this,e,t)}get(e){return Si(this,e)}describe(e,t){return _i(ki,e,t)}override(e,t){return _i(Ni,e,t)}route(e,t,n,r){const i=Si(this,e),s=Si(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return lr(e)?Object.assign({},t,e):ur(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var Ai=new Ci({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:yi},numbers:{type:"number",properties:xi}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ji.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Pi(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ei(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||or(u)){if(or(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||or(h)||(a=Pi(e,i,s,a,h))}else a=Pi(e,i,s,a,u);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function Mi(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Oi(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ti(e,t,n,r){Li(e,t,n,r,null)}function Li(e,t,n,r,i){let s,a,o,l,c,d,u,h;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*Or;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,p,0,0,Pr):e.arc(n,r,p,0,Pr),e.closePath();break;case"triangle":d=i?i/2:p,e.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*p),g+=Dr,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*p),g+=Dr,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,a=Math.cos(g+Lr)*l,u=Math.cos(g+Lr)*(i?i/2-c:l),o=Math.sin(g+Lr)*l,h=Math.sin(g+Lr)*(i?i/2-c:l),e.arc(n-u,r-o,c,g-Ar,g-Tr),e.arc(n+h,r-a,c,g-Tr,g),e.arc(n+u,r+o,c,g,g+Tr),e.arc(n-h,r+a,c,g+Tr,g+Ar),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=i?i/2:l,e.rect(n-d,r-l,2*d,2*l);break}g+=Lr;case"rectRot":u=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,r-o),e.lineTo(n+h,r-a),e.lineTo(n+u,r+o),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":g+=Lr;case"cross":u=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":u=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),g+=Lr,u=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:p),r+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Di(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ri(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ii(e){e.restore()}function zi(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Fi(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Bi(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,d),e.lineTo(o,d),e.stroke()}}function Vi(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Wi(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=or(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ar(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&Vi(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ar(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Bi(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Ui(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ar,Ar,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Ar,Tr,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Tr,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Tr,!0),e.lineTo(n+a.topLeft,r)}const Hi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $i(e,t){const n=(""+e).match(Hi);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Yi=e=>+e||0;function Qi(e,t){const n={},r=lr(t),i=r?Object.keys(t):t,s=lr(e)?r?n=>ur(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=Yi(s(a));return n}function Ji(e){return Qi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ki(e){return Qi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xi(e){const t=Ji(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Gi(e,t){e=e||{},t=t||Ai.font;let n=ur(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=ur(e.style,t.style);r&&!(""+r).match(qi)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ur(e.family,t.family),lineHeight:$i(ur(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:ur(e.weight,t.weight),string:""};return i.string=function(e){return!e||ar(e.size)||ar(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Zi(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&or(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function es(e,t){return Object.assign(Object.create(e),t)}function ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=hs("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>ts([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>as(n,r,()=>function(e,t,n,r){let i;for(const s of t)if(i=hs(is(s,e),n),"undefined"!==typeof i)return ss(e,i)?ds(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>fs(e).includes(t),ownKeys:e=>fs(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function ns(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:rs(e,r),setContext:t=>ns(e,t,n,r),override:i=>ns(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>as(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];_r(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),ss(e,l)&&(l=ds(i._scopes,i,e,l));return l}(t,o,e,n));or(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(lr(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=ds(r,i,e,l);t.push(ns(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));ss(t,o)&&(o=ns(o,i,s&&s[t],a));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:_r(n)?n:()=>n,isIndexable:_r(r)?r:()=>r}}const is=(e,t)=>e?e+kr(t):t,ss=(e,t)=>lr(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function as(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function os(e,t,n){return _r(e)?e(t,n):e}const ls=(e,t)=>!0===e?t:"string"===typeof e?Nr(t,e):void 0;function cs(e,t,n,r,i){for(const s of t){const t=ls(n,s);if(t){e.add(t);const s=os(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function ds(e,t,n,r){const i=t._rootScopes,s=os(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=us(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=us(o,a,s,l,r),null!==l))&&ts(Array.from(o),[""],i,s,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(or(i)&&lr(n))return n;return i||{}}(t,n,r)))}function us(e,t,n,r,i){for(;n;)n=cs(e,t,n,r,i);return n}function hs(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function fs(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function ms(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],a[o]={r:i.parse(Nr(d,s),c)};return a}const ps=Number.EPSILON||1e-14,gs=(e,t)=>t<e.length&&!e[t].skip&&e[t],xs=e=>"x"===e?"y":"x";function ys(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=$r(s,i),l=$r(a,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,h=r*d;return{previous:{x:s.x-u*(a.x-i.x),y:s.y-u*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function bs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=xs(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=gs(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=gs(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?Ir(i[a-1])!==Ir(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=gs(e,0);for(let d=0;d<r-1;++d)l=c,c=gs(e,d+1),l&&c&&(zr(t[d],0,ps)?n[d]=n[d+1]=0:(i=n[d]/t[d],s=n[d+1]/t[d],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[d]=i*a*t[d],n[d+1]=s*a*t[d])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=xs(n),i=e.length;let s,a,o,l=gs(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=gs(e,c+1),!o)continue;const i=o[n],d=o[r];a&&(s=(i-a[n])/3,o["cp1".concat(n)]=i-s,o["cp1".concat(r)]=d-s*t[c]),l&&(s=(l[n]-i)/3,o["cp2".concat(n)]=i+s,o["cp2".concat(r)]=d+s*t[c])}}(e,s,t)}function vs(e,t,n){return Math.max(Math.min(e,n),t)}function ws(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)bs(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=ys(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=Di(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&Di(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=vs(i.cp1x,t.left,t.right),i.cp1y=vs(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=vs(i.cp2x,t.left,t.right),i.cp2y=vs(i.cp2y,t.top,t.bottom)))}(e,n)}function js(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ns(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ks(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Ss=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const _s=["top","right","bottom","left"];function Cs(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=_s[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function As(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Ss(n),s="border-box"===i.boxSizing,a=Cs(i,"padding"),o=Cs(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),u=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:f,height:m}=t;return s&&(f-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-u)/f*n.width/r),y:Math.round((c-h)/m*n.height/r)}}const Ps=e=>Math.round(10*e)/10;function Es(e,t,n,r){const i=Ss(e),s=Cs(i,"margin"),a=ks(i.maxWidth,e,"clientWidth")||Mr,o=ks(i.maxHeight,e,"clientHeight")||Mr,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&Ns(e);if(s){const e=s.getBoundingClientRect(),a=Ss(s),o=Cs(a,"border","width"),l=Cs(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=ks(a.maxWidth,s,"clientWidth"),i=ks(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Mr,maxHeight:i||Mr}}(e,t,n);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=Cs(i,"border","width"),t=Cs(i,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Ps(Math.min(c,a,l.maxWidth)),d=Ps(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Ps(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=Ps(Math.floor(d*r))),{width:c,height:d}}function Ms(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Os=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};js()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Ts(e,t){const n=function(e,t){return Ss(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ls(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Ds(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Rs(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Ls(e,i,n),o=Ls(i,s,n),l=Ls(s,t,n),c=Ls(a,o,n),d=Ls(o,l,n);return Ls(c,d,n)}function Is(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function zs(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Fs(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Bs(e){return"angle"===e?{between:Jr,compare:Yr,normalize:Qr}:{between:Xr,compare:(e,t)=>e-t,normalize:e=>e}}function Vs(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Ws(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=Bs(r),{start:d,end:u,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=Bs(r),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&a(o(t[u%l][r]),i,s);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,n),m=[];let p,g,x,y=!1,b=null;const v=()=>y||l(i,x,p)&&0!==o(i,x),w=()=>!y||0===o(s,p)||l(s,x,p);for(let j=d,N=d;j<=u;++j)g=t[j%a],g.skip||(p=c(g[r]),p!==x&&(y=l(p,i,s),null===b&&v()&&(b=0===o(p,i)?j:N),null!==b&&w()&&(m.push(Vs({start:b,end:j,loop:h,count:a,style:f})),b=null),N=j,x=p));return null!==b&&m.push(Vs({start:b,end:u,loop:h,count:a,style:f})),m}function Us(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Ws(r[i],e.points,t);s.length&&n.push(...s)}return n}function Hs(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=qs(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let d=s,u=t[0].start,h=u;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),d=i,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=n[u%l];for(h=u+1;h<=m.end;h++){const s=n[h%l];e=qs(r.setContext(es(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),$s(e,d)&&f(u,h-1,m.loop,d),t=s,d=e}u<h-1&&f(u,h-1,m.loop,d)}return c}(e,t,n,r):t}function qs(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function $s(e,t){if(!t)return!1;const n=[],r=function(e,t){return mi(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Ys(e,t,n){return e.options.clip?e[n]:t[n]}function Qs(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Ys(n,t,"left"),right:Ys(n,t,"right"),top:Ys(r,t,"top"),bottom:Ys(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Js{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=ii.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ks=new Js;const Xs="transparent",Gs={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=pi(e||Xs),i=r.valid&&pi(t||Xs);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Zs{constructor(e,t,n,r){const i=t[n];r=Zi([e.to,r,i,e.from]);const s=Zi([e.from,i,r]);this._active=!0,this._fn=e.fn||Gs[e.type||typeof s],this._easing=fi[e.easing]||fi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Zi([e.to,t,r,e.from]),this._from=Zi([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class ea{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!lr(e))return;const t=Object.keys(Ai.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!lr(i))return;const s={};for(const e of t)s[e]=i[e];(or(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=i[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,a);continue}d.cancel()}u&&u.duration?(i[l]=d=new Zs(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Ks.add(this._chart,n),!0):void 0}}function ta(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function na(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function ra(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let d=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(d=!0,r.all)continue;break}c=e.values[l],cr(c)&&(s||0===t||Ir(t)===Ir(c))&&(t+=c)}return d||r.all?t:0}function ia(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function sa(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function aa(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function oa(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,a,r),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=sa(i,d,n),h[o]=s,h._top=aa(h,a,!0,r.type),h._bottom=aa(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function la(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function ca(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const da=e=>"reset"===e||"none"===e,ua=(e,t)=>t?e:Object.assign({},e);class ha{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ia(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ca(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=ur(n.xAxisID,la(e,"x")),s=t.yAxisID=ur(n.yAxisID,la(e,"y")),a=t.rAxisID=ur(n.rAxisID,la(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ni(this._data,this),e._stacked&&ca(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(lr(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[i]:d,[s]:e[d]};return o}(t,e)}else if(n!==t){if(n){ni(n,this);const e=this._cachedMeta;ca(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),ti.forEach(e=>{const t="_onData"+kr(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...i)}),a}})}))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=ia(t.vScale,t),t.stack!==n.stack&&(r=!0,ca(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(oa(this,t._parsed),t._stacked=ia(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=or(r[e])?this.parseArrayData(n,r,e,t):lr(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||u&&l[a]<u[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(i()&&(d=!1),u=l);n._sorted=d}s&&oa(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,d=new Array(r);let u,h,f;for(u=0,h=r;u<h;++u)f=u+n,d[u]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return d}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],a[o]={x:i.parse(d[0],c),y:s.parse(d[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=t[u],l[c]={x:i.parse(Nr(h,a),u),y:s.parse(Nr(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return ra({keys:na(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=ra(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:na(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let u,h;function f(){h=r[u];const t=h[a.axis];return!cr(h[e.axis])||c>t||d<t}for(u=0;u<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++u);if(i)for(u=s-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],cr(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return lr(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(ur(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=ta(e,n),i=ta(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return es(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return es(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&Sr(n);if(a)return ua(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Ai.elements[e]),f=l.resolveNamedOptions(u,h,()=>this.getContext(n,r,t),d);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(ua(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(t),a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new ea(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||da(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){da(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!da(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&ca(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fa(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=ri(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,i,s,a,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(Sr(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return o}function ma(e,t,n,r){return or(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function pa(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,l=[];let c,d,u,h;for(c=n,d=n+r;c<d;++c)h=t[c],u={},u[i.axis]=o||i.parse(a[c],c),l.push(ma(h,u,s,c));return l}function ga(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function xa(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=d:(s[ya(d,a,o,l)]=!0,i=c)),s[ya(i,a,o,l)]=!0,e.borderSkipped=s}function ya(e,t,n,r){var i,s,a;return r?(a=n,e=ba(e=(i=e)===(s=t)?a:i===a?s:i,n,t)):e=ba(e,t,n),e}function ba(e,t,n){return"start"===e?t:"end"===e?n:e}function va(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,kn.A)(ha,"defaults",{}),(0,kn.A)(ha,"datasetElementType",null),(0,kn.A)(ha,"dataElementType",null);class wa extends ha{parsePrimitiveData(e,t,n,r){return pa(e,t,n,r)}parseArrayData(e,t,n,r){return pa(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?a:o,c="x"===s.axis?a:o,d=[];let u,h,f,m;for(u=n,h=n+r;u<h;++u)m=t[u],f={},f[i.axis]=i.parse(Nr(m,l),u),d.push(ma(Nr(m,c),f,s,u));return d}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,a=ga(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||ar(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[a.axis],p={horizontal:l,base:n.base,enableBorderRadius:!m||ga(t._custom)||s===m._top||s===m._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=p.options||e[h].options;xa(p,g,m,s),va(p,g,c.ratio),this.updateElement(e[h],h,p,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(ar(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[ur("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||fa(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,c=ga(l);let d,u,h=o[t.axis],f=0,m=n?this.applyStack(t,o,n):h;m!==h&&(f=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&Ir(h)!==Ir(l.barEnd)&&(f=0),f+=h);const p=ar(i)||c?f:i;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+m):g,u=d-g,Math.abs(u)<s){u=function(e,t,n){return 0!==e?Ir(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,a)*s,h===a&&(g-=u/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),d=g+u,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=Ir(u)*t.getLineWidthForValue(a)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=ur(r.maxBarThickness,1/0);let a,o;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let s,a;return ar(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(ur(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+u;a=c.start+c.chunk*h+c.chunk/2,o=Math.min(s,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}(0,kn.A)(wa,"id","bar"),(0,kn.A)(wa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,kn.A)(wa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ja extends ha{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=ur(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=ur(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,d=a.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!i&&this.getParsed(u),h={},f=h[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),m=h[d]=i?a.getBasePixel():a.getPixelForValue(n[d]);h.skip=isNaN(f)||isNaN(m),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,u,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=ur(n&&n._custom,i),r}}(0,kn.A)(ja,"id","bubble"),(0,kn.A)(ja,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,kn.A)(ja,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Na extends ha{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(lr(n[e])){const{key:e="value"}=this._parsing;a=t=>+Nr(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return Wr(this.options.rotation-90)}_getCircumference(){return Wr(this.options.circumference)}_getRotationExtents(){let e=Pr,t=-Pr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:g}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<Pr){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(e,t,r)=>Jr(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),m=(e,t,r)=>Jr(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),p=f(0,c,u),g=f(Tr,d,h),x=m(Ar,c,u),y=m(Ar+Tr,d,h);r=(p-x)/2,i=(g-y)/2,s=-(p+x)/2,a=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(h,u,o),x=(n.width-s)/f,y=(n.height-s)/m,b=Math.max(Math.min(x,y)/2,0),v=hr(this.options.radius,b),w=(v-Math.max(v*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,r.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Pr)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=i&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,r);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,i);for(p=t;p<t+n;++p){const t=this._circumference(p,i),n=e[p],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};m&&(s.options=f||this.resolveDataElementOptions(p,n.active?"active":r)),g+=t,this.updateElement(n,p,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Pr*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=vi(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ur(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,kn.A)(Na,"id","doughnut"),(0,kn.A)(Na,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,kn.A)(Na,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,kn.A)(Na,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class ka extends ha{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=li(t,r,s);this._drawStart=a,this._drawCount=o,ci(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=s.axis,h=a.axis,{spanGaps:f,segment:m}=this.options,p=Br(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,x=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<y;++v){const n=e[v],f=g?n:{};if(v<t||v>=x){f.skip=!0;continue}const y=this.getParsed(v),w=ar(y[h]),j=f[u]=s.getPixelForValue(y[u],v),N=f[h]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,y,o):y[h],v);f.skip=isNaN(j)||isNaN(N)||w,f.stop=v>0&&Math.abs(y[u]-b[u])>p,m&&(f.parsed=y,f.raw=l.data[v]),d&&(f.options=c||this.resolveDataElementOptions(v,n.active?"active":r)),g||this.updateElement(n,v,f,r),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,kn.A)(ka,"id","line"),(0,kn.A)(ka,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,kn.A)(ka,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Sa extends ha{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=vi(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return ms.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*Ar;let u,h=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,r,f);for(u=t;u<t+n;u++){const t=e[u];let n=h,m=h+this._computeAngle(u,r,f),p=s.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,i&&(a.animateScale&&(p=0),a.animateRotate&&(n=m=d));const g={x:l,y:c,innerRadius:0,outerRadius:p,startAngle:n,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Wr(this.resolveDataElementOptions(e,t).angle||n):0}}(0,kn.A)(Sa,"id","polarArea"),(0,kn.A)(Sa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,kn.A)(Sa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _a extends Na{}(0,kn.A)(_a,"id","pie"),(0,kn.A)(_a,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ca extends ha{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return ms.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=i.getPointPositionForValue(a,this.getParsed(a).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,d,r)}}}(0,kn.A)(Ca,"id","radar"),(0,kn.A)(Ca,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,kn.A)(Ca,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Aa extends ha{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+a+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=li(t,n,r);if(this._drawStart=i,this._drawCount=s,ci(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),h=s.axis,f=a.axis,{spanGaps:m,segment:p}=this.options,g=Br(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=x?t:{},m=ar(n[f]),v=c[h]=s.getPixelForValue(n[h],b),w=c[f]=i||m?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[f],b);c.skip=isNaN(v)||isNaN(w)||m,c.stop=b>0&&Math.abs(n[h]-y[h])>g,p&&(c.parsed=n,c.raw=l.data[b]),u&&(c.options=d||this.resolveDataElementOptions(b,t.active?"active":r)),x||this.updateElement(t,b,c,r),y=n}this.updateSharedOptions(d,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}(0,kn.A)(Aa,"id","scatter"),(0,kn.A)(Aa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,kn.A)(Aa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Pa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ea{static override(e){Object.assign(Ea.prototype,e)}constructor(e){(0,kn.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return Pa()}parse(){return Pa()}format(){return Pa()}add(){return Pa()}diff(){return Pa()}startOf(){return Pa()}endOf(){return Pa()}}var Ma=Ea;function Oa(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const a=o._reversePixels?ei:Zr;if(!r){const r=a(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex(e=>!ar(e[t.axis]));r.lo-=Math.max(0,s);const a=n.slice(r.hi).findIndex(e=>!ar(e[t.axis]));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(s,t,n-r),i=a(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function Ta(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=Oa(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function La(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return Ta(e,n,t,function(n,a,o){(i||Di(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})},!0),s}function Da(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Ta(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,i);if(r&&!u)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(a=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:d})}),a}function Ra(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?Da(e,t,n,r,i,s):function(e,t,n,r){let i=[];return Ta(e,n,t,function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=qr(e,{x:t.x,y:t.y});Jr(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})}),i}(e,t,n,i):[]}function Ia(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return Ta(e,n,t,(e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))}),r&&!o?[]:s}var za={evaluateInteractionItems:Ta,modes:{index(e,t,n,r){const i=As(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?La(e,i,s,r,a):Ra(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=As(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?La(e,i,s,r,a):Ra(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>La(e,As(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=As(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Ra(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>Ia(e,As(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Ia(e,As(t,e),"y",n.intersect,r)}};const Fa=["left","top","right","bottom"];function Ba(e,t){return e.filter(e=>e.pos===t)}function Va(e,t){return e.filter(e=>-1===Fa.indexOf(e.pos)&&e.box.axis===t)}function Wa(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function Ua(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!Fa.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function Ha(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function qa(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function $a(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!lr(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&qa(a,s.getPadding());const o=Math.max(0,t.outerWidth-Ha(a,e,"left","right")),l=Math.max(0,t.outerHeight-Ha(a,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Ya(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function Qa(e,t,n,r){const i=[];let s,a,o,l,c,d;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,Ya(o.horizontal,t));const{same:a,other:u}=$a(t,n,o,r);c|=a&&i.length,d=d||u,l.fullSize||i.push(o)}return c&&Qa(i,t,n,r)||d}function Ja(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Ka(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Sr(l.start)&&(a=l.start),e.fullSize?Ja(e,i.left,a,n.outerWidth-i.right-i.left,s):Ja(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;Sr(l.start)&&(s=l.start),e.fullSize?Ja(e,s,i.top,a,n.outerHeight-i.bottom-i.top):Ja(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var Xa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Xi(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=Wa(t.filter(e=>e.box.fullSize),!0),r=Wa(Ba(t,"left"),!0),i=Wa(Ba(t,"right")),s=Wa(Ba(t,"top"),!0),a=Wa(Ba(t,"bottom")),o=Va(t,"x"),l=Va(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Ba(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;mr(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},i);qa(h,Xi(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),m=Ua(l.concat(c),u);Qa(o.fullSize,f,u,m),Qa(l,f,u,m),Qa(c,f,u,m)&&Qa(l,f,u,m),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Ka(o.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,Ka(o.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},mr(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Ga{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Za extends Ga{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eo="$chartjs",to={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},no=e=>null===e||""===e;const ro=!!Os&&{passive:!0};function io(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ro)}function so(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ao(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||so(n.addedNodes,r),t=t&&!so(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function oo(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||so(n.removedNodes,r),t=t&&!so(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const lo=new Map;let co=0;function uo(){const e=window.devicePixelRatio;e!==co&&(co=e,lo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ho(e,t,n){const r=e.canvas,i=r&&Ns(r);if(!i)return;const s=si((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),a=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)});return a.observe(i),function(e,t){lo.size||window.addEventListener("resize",uo),lo.set(e,t)}(e,s),a}function fo(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){lo.delete(e),lo.size||window.removeEventListener("resize",uo)}(e)}function mo(e,t,n){const r=e.canvas,i=si(t=>{null!==e.ctx&&n(function(e,t){const n=to[e.type]||e.type,{x:r,y:i}=As(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,ro)}(r,t,i),i}class po extends Ga{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[eo]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",no(i)){const t=Ts(e,"width");void 0!==t&&(e.width=t)}if(no(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Ts(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[eo])return!1;const n=t[eo].initial;["height","width"].forEach(e=>{const r=n[e];ar(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[eo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:ao,detach:oo,resize:ho}[t]||mo;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:fo,detach:fo,resize:fo}[t]||io)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return Es(e,t,n,r)}isAttached(e){const t=e&&Ns(e);return!(!t||!t.isConnected)}}class go{constructor(){(0,kn.A)(this,"x",void 0),(0,kn.A)(this,"y",void 0),(0,kn.A)(this,"active",!1),(0,kn.A)(this,"options",void 0),(0,kn.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Br(this.x)&&Br(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function xo(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(yo(t,c,d,ar(r)?0:o-r,o),e=0,n=a-1;e<n;e++)yo(t,c,d,s[e],s[e+1]);return yo(t,c,d,l,ar(r)?t.length:l+r),c}return yo(t,c,d),c}function yo(e,t,n,r,i){const s=ur(r,0),a=Math.min(ur(i,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)d++,c=Math.round(s+d*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*n))}(0,kn.A)(go,"defaults",{}),(0,kn.A)(go,"defaultRoutes",void 0);const bo=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,vo=(e,t)=>Math.min(t||e,e);function wo(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function jo(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function No(e){return e.drawTicks?e.tickLength:0}function ko(e,t){if(!e.display)return 0;const n=Gi(e.font,t),r=Xi(e.padding);return(or(e.text)?e.text.length:1)*n.lineHeight+r.height}function So(e,t,n){let r=ai(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class _o extends go{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=dr(e,Number.POSITIVE_INFINITY),t=dr(t,Number.NEGATIVE_INFINITY),n=dr(n,Number.POSITIVE_INFINITY),r=dr(r,Number.NEGATIVE_INFINITY),{min:dr(e,n),max:dr(t,r),minDefined:cr(e),maxDefined:cr(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:dr(n,dr(r,n)),max:dr(r,dr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fr(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=hr(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?wo(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=xo(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fr(this.options.afterUpdate,[this])}beforeSetDimensions(){fr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=fr(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){fr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=vo(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Kr(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),d+6>s&&(s=h/(n-(e.offset?.5:1)),a=this.maxHeight-No(e.grid)-t.padding-ko(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Ur(Math.min(Math.asin(Kr((c.highest.height+6)/s,-1,1)),Math.asin(Kr(a/o,-1,1))-Math.asin(Kr(u/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){fr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=ko(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=No(i)+s):(e.height=this.maxHeight,e.width=No(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Wr(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(a){const t=n.mirror?0:d*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ar(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=wo(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/vo(t,n));let l,c,d,u,h,f,m,p,g,x,y,b=0,v=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,m=i[f]=i[f]||{data:{},gc:[]},p=h.lineHeight,g=x=0,ar(u)||or(u)){if(or(u))for(c=0,d=u.length;c<d;++c)y=u[c],ar(y)||or(y)||(g=Pi(r,m.data,m.gc,g,y),x+=p)}else g=Pi(r,m.data,m.gc,g,u),x=p;s.push(g),a.push(x),b=Math.max(g,b),v=Math.max(x,v)}!function(e,t){mr(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const w=s.indexOf(b),j=a.indexOf(v),N=e=>({width:s[e]||0,height:a[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Kr(this._alignToPixels?Mi(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return es(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=es(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Wr(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=No(i),u=[],h=a.setContext(this.getContext()),f=h.display?h.width:0,m=f/2,p=function(e){return Mi(n,e,f)};let g,x,y,b,v,w,j,N,k,S,_,C;if("top"===s)g=p(this.bottom),w=this.bottom-d,N=g-m,S=p(e.top)+m,C=e.bottom;else if("bottom"===s)g=p(this.top),S=e.top,C=p(e.bottom)-m,w=g+m,N=this.top+d;else if("left"===s)g=p(this.right),v=this.right-d,j=g-m,k=p(e.left)+m,_=e.right;else if("right"===s)g=p(this.left),k=e.left,_=p(e.right)-m,v=g+m,j=this.left+d;else if("x"===t){if("center"===s)g=p((e.top+e.bottom)/2+.5);else if(lr(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=g+m,N=w+d}else if("y"===t){if("center"===s)g=p((e.left+e.right)/2);else if(lr(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}v=g-m,j=v-d,k=e.left,_=e.right}const A=ur(r.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/A));for(x=0;x<c;x+=P){const e=this.getContext(x),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,f=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=jo(this,x,o),void 0!==y&&(b=Mi(n,y,s),l?v=j=k=_=b:w=N=S=C=b,u.push({tx1:v,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:_,y2:C,width:s,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:m,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=i,u=No(n.grid),h=u+c,f=d?-c:h,m=-Wr(this.labelRotation),p=[];let g,x,y,b,v,w,j,N,k,S,_,C,A="middle";if("top"===r)w=this.bottom-f,j=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,j=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,v=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,v=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(lr(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)v=(e.left+e.right)/2-h;else if(lr(r)){const e=Object.keys(r)[0],t=r[e];v=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const P=this._getLabelSizes();for(g=0,x=a.length;g<x;++g){y=a[g],b=y.label;const e=i.setContext(this.getContext(g));N=this.getPixelForTick(g)+i.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,_=or(b)?b.length:1;const t=_/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(s?(v=N,"inner"===j&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==m?-_*S+S/2:"center"===l?-P.highest.height/2-t*S+S:-P.highest.height+S/2:"near"===l||0!==m?S/2:"center"===l?P.highest.height/2-t*S:P.highest.height-_*S,d&&(C*=-1),0===m||e.showLabelBackdrop||(v+=S/2*Math.sin(m))):(w=N,C=(1-_)*S/2),e.showLabelBackdrop){const t=Xi(e.backdropPadding),n=P.heights[g],r=P.widths[g];let i=C-t.top,s=0-t.left;switch(A){case"middle":i-=n/2;break;case"bottom":i-=n}switch(j){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===x-1?s-=r:g>0&&(s-=r/2)}u={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}p.push({label:b,font:k,textOffset:C,options:{rotation:m,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:A,translation:[v,w],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wr(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Mi(e,this.left,s)-s/2,c=Mi(e,this.right,a)+a/2,d=u=o):(d=Mi(e,this.top,s)-s/2,u=Mi(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ri(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Wi(t,i.label,0,i.textOffset,n,e)}n&&Ii(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Gi(n.font),s=Xi(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||lr(t)?(o+=s.bottom,or(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,m=0;const p=a-i,g=o-s;if(e.isHorizontal()){if(h=oi(r,s,o),lr(n)){const e=Object.keys(n)[0],r=n[e];f=d[e].getPixelForValue(r)+p-t}else f="center"===n?(c.bottom+c.top)/2+p-t:bo(e,n,t);u=o-s}else{if(lr(n)){const e=Object.keys(n)[0],r=n[e];h=d[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:bo(e,n,t);f=oi(r,a,i),m="left"===n?-Tr:Tr}return{titleX:h,titleY:f,maxWidth:u,rotation:m}}(this,o,t,a);Wi(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:u,textAlign:So(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ur(e.grid&&e.grid.z,-1),r=ur(e.border&&e.border.z,0);return this._isVisible()&&this.draw===_o.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Gi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Co{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=br(Object.create(null),[n?Ai.get(n):{},Ai.get(t),e.defaults]);Ai.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");Ai.route(s,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&Ai.describe(t,e.descriptors)}(e,s,n),this.override&&Ai.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Ai[r]&&(delete Ai[r][n],this.override&&delete Ni[n])}}class Ao{constructor(){this.controllers=new Co(ha,"datasets",!0),this.elements=new Co(go,"elements"),this.plugins=new Co(Object,"plugins"),this.scales=new Co(_o,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):mr(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=kr(e);fr(n["before"+r],[],n),t[e](n),fr(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Po=new Ao;class Eo{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===fr(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){ar(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=ur(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(Po.plugins.items);for(let s=0;s<r.length;s++)n.push(Po.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=Mo(n[t],r);null!==i&&a.push({plugin:l,options:Oo(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function Mo(e,t){return t||!1!==e?!0===e?{}:e:null}function Oo(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function To(e,t){const n=Ai.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Lo(e){if("x"===e||"y"===e||"r"===e)return e}function Do(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Ro(e){if(Lo(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||Do(i.position)||e.length>1&&Lo(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Io(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function zo(e,t){const n=Ni[e.type]||{scales:{}},r=t.scales||{},i=To(e.type,t),s=Object.create(null);return Object.keys(r).forEach(t=>{const a=r[t];if(!lr(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Ro(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Io(e,"x",n[0])||Io(e,"y",n[0])}return{}}(t,e),Ai.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=vr(Object.create(null),[{axis:o},a,c[o],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,a=n.indexAxis||To(i,t),o=(Ni[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),vr(s[i],[{axis:t},r[i],o[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];vr(t,[Ai.scales[t.type],Ai.scale])}),s}function Fo(e){const t=e.options||(e.options={});t.plugins=ur(t.plugins,{}),t.scales=zo(e,t)}function Bo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Vo=new Map,Wo=new Set;function Uo(e,t){let n=Vo.get(e);return n||(n=t(),Vo.set(e,n),Wo.add(n)),n}const Ho=(e,t,n)=>{const r=Nr(t,n);void 0!==r&&e.add(r)};class qo{constructor(e){this._config=function(e){return(e=e||{}).data=Bo(e.data),Fo(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Fo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Uo(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Uo("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Uo("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Uo("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>Ho(o,e,t))),t.forEach(e=>Ho(o,r,e)),t.forEach(e=>Ho(o,Ni[i]||{},e)),t.forEach(e=>Ho(o,Ai,e)),t.forEach(e=>Ho(o,ki,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Wo.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ni[t]||{},Ai.datasets[t]||{},{type:t},Ai,ki]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=$o(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=rs(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(_r(a)||Yo(a))||s&&or(a))return!0}return!1}(s,t)){i.$shared=!1;o=ns(s,n=_r(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=$o(this._resolverCache,e,n);return lr(t)?ns(i,t,void 0,r):i}}function $o(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:ts(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,s)}return s}const Yo=e=>lr(e)&&Object.getOwnPropertyNames(e).some(t=>_r(e[t]));const Qo=["top","bottom","left","right","chartArea"];function Jo(e,t){return"top"===e||"bottom"===e||-1===Qo.indexOf(e)&&"x"===t}function Ko(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Xo(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),fr(n&&n.onComplete,[e],t)}function Go(e){const t=e.chart,n=t.options.animation;fr(n&&n.onProgress,[e],t)}function Zo(e){return js()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const el={},tl=e=>{const t=Zo(e);return Object.values(el).filter(e=>e.canvas===t).pop()};function nl(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}class rl{static register(){Po.add(...arguments),il()}static unregister(){Po.remove(...arguments),il()}constructor(e,t){const n=this.config=new qo(t),r=Zo(e),i=tl(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!js()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Za:po}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=sr(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Eo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],el[this.id]=this,a&&o?(Ks.listen(this,"complete",Xo),Ks.listen(this,"progress",Go),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return ar(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Po}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ms(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Oi(this.canvas,this.ctx),this}stop(){return Ks.stop(this),this}resize(e,t){Ks.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Ms(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),fr(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){mr(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=Ro(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),mr(i,t=>{const i=t.options,s=i.id,a=Ro(s,i),o=ur(i.type,t.dtype);void 0!==i.position&&Jo(i.position,a)===Jo(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Po.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),mr(r,(e,t)=>{e||delete n[t]}),mr(n,e=>{Xa.configure(this,e,e.options),Xa.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ko("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||To(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Po.getController(s),{datasetElementType:r,dataElementType:a}=Ai.datasets[s];Object.assign(t,{dataElementType:Po.getElement(a),datasetElementType:r&&Po.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){mr(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||mr(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ko("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){mr(this.scales,e=>{Xa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Cr(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){nl(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let i=1;i<t;i++)if(!Cr(r,n(i)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xa.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],mr(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,_r(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ks.has(this)?this.attached&&!Ks.running(this)&&Ks.start(this):(this.draw(),Xo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Qs(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Ri(t,r),e.controller.draw(),r&&Ii(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Di(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=za.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);Sr(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ks.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Oi(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete el[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};mr(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){mr(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},mr(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!pr(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,fr(i.onHover,[e,a,this],this),o&&fr(i.onClick,[e,a,this],this));const c=!pr(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function il(){return mr(rl.instances,e=>e._plugins.invalidate())}function sl(e,t,n,r){const i=Qi(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Kr(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Kr(i.innerStart,0,a),innerEnd:Kr(i.innerEnd,0,a)}}function al(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function ol(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let f=0;const m=i-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;f=(m-(0!==e?m*e/(e+r):m))/2}const p=(m-Math.max(.001,m*u-n/Ar)/u)/2,g=l+p+f,x=i-p-f,{outerStart:y,outerEnd:b,innerStart:v,innerEnd:w}=sl(t,h,u,x-g),j=u-y,N=u-b,k=g+y/j,S=x-b/N,_=h+v,C=h+w,A=g+v/_,P=x-w/C;if(e.beginPath(),s){const t=(k+S)/2;if(e.arc(a,o,u,k,t),e.arc(a,o,u,t,S),b>0){const t=al(N,S,a,o);e.arc(t.x,t.y,b,S,x+Tr)}const n=al(C,x,a,o);if(e.lineTo(n.x,n.y),w>0){const t=al(C,P,a,o);e.arc(t.x,t.y,w,x+Tr,P+Math.PI)}const r=(x-w/h+(g+v/h))/2;if(e.arc(a,o,h,x-w/h,r,!0),e.arc(a,o,h,r,g+v/h,!0),v>0){const t=al(_,A,a,o);e.arc(t.x,t.y,v,A+Math.PI,g-Tr)}const i=al(j,g,a,o);if(e.lineTo(i.x,i.y),y>0){const t=al(j,k,a,o);e.arc(t.x,t.y,y,g-Tr,k)}}else{e.moveTo(a,o);const t=Math.cos(k)*u+a,n=Math.sin(k)*u+o;e.lineTo(t,n);const r=Math.cos(S)*u+a,i=Math.sin(S)*u+o;e.lineTo(r,i)}e.closePath()}function ll(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:f}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(s){ol(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(p=a+(o%Pr||Pr))}m&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+Tr,r-Tr),e.closePath(),e.clip()}(e,t,p),l.selfJoin&&p-a>=Ar&&0===f&&"miter"!==d&&function(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/a,Qr(r-n));if(e.beginPath(),e.arc(i,s,a-c/2,r+u/2,n-u/2),o>0){const t=Math.min(c/o,Qr(r-n));e.arc(i,s,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,a*Qr(r-n));if("round"===d)e.arc(i,s,t,n-Ar/2,r+Ar/2,!0);else if("bevel"===d){const a=2*t*t,o=-a*Math.cos(n+Ar/2)+i,l=-a*Math.sin(n+Ar/2)+s,c=a*Math.cos(r+Ar/2)+i,d=a*Math.sin(r+Ar/2)+s;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),s||(ol(e,t,n,r,p,i),e.stroke())}(0,kn.A)(rl,"defaults",Ai),(0,kn.A)(rl,"instances",el),(0,kn.A)(rl,"overrides",Ni),(0,kn.A)(rl,"registry",Po),(0,kn.A)(rl,"version","4.5.0"),(0,kn.A)(rl,"getChart",tl);class cl extends go{constructor(e){super(),(0,kn.A)(this,"circumference",void 0),(0,kn.A)(this,"endAngle",void 0),(0,kn.A)(this,"fullCircles",void 0),(0,kn.A)(this,"innerRadius",void 0),(0,kn.A)(this,"outerRadius",void 0),(0,kn.A)(this,"pixelMargin",void 0),(0,kn.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=qr(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=ur(d,o-a),f=Jr(i,a,o)&&a!==o,m=h>=Pr||f,p=Xr(s,l+u,c+u);return m&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,d=(s+a+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Pr?Math.floor(n/Pr):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(Ar,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){ol(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%Pr||Pr))}ol(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),ll(e,this,o,i,s),e.restore()}}function dl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=ur(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ur(n.borderDash,t.borderDash)),e.lineDashOffset=ur(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ur(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ur(n.borderWidth,t.borderWidth),e.strokeStyle=ur(n.borderColor,t.borderColor)}function ul(e,t,n){e.lineTo(n.x,n.y)}function hl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),d=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function fl(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=hl(i,n,r),d=function(e){return e.stepped?zi:e.tension||"monotone"===e.cubicInterpolationMode?Fi:ul}(s);let u,h,f,{move:m=!0,reverse:p}=r||{};for(u=0;u<=c;++u)h=i[(o+(p?c-u:u))%a],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,f,h,p,s.stepped),f=h);return l&&(h=i[(o+(p?c:0))%a],d(e,f,h,p,s.stepped)),!!l}function ml(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=hl(i,n,r),{move:l=!0,reverse:c}=r||{};let d,u,h,f,m,p,g=0,x=0;const y=e=>(a+(c?o-e:e))%s,b=()=>{f!==m&&(e.lineTo(g,m),e.lineTo(g,f),e.lineTo(g,p))};for(l&&(u=i[y(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=i[y(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<f?f=n:n>m&&(m=n),g=(x*g+t)/++x):(b(),e.lineTo(t,n),h=r,x=0,f=m=n),p=n}b()}function pl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?ml:fl}(0,kn.A)(cl,"id","arc"),(0,kn.A)(cl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,kn.A)(cl,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,kn.A)(cl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const gl="function"===typeof Path2D;function xl(e,t,n,r){gl&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),dl(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=pl(t);for(const o of i)dl(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class yl extends go{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;ws(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Hs(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Us(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?Ds:e.tension||"monotone"===e.cubicInterpolationMode?Rs:Ls}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=i[c],h=i[d];if(u===h){a.push(u);continue}const f=o(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return pl(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=pl(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),xl(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function bl(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}(0,kn.A)(yl,"id","line"),(0,kn.A)(yl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,kn.A)(yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,kn.A)(yl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class vl extends go{constructor(e){super(),(0,kn.A)(this,"parsed",void 0),(0,kn.A)(this,"skip",void 0),(0,kn.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return bl(this,e,"x",t)}inYRange(e,t){return bl(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Di(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ti(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function wl(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-u,d=r+u):(u=s/2,o=n-u,l=n+u,c=Math.min(r,i),d=Math.max(r,i)),{left:o,top:c,right:l,bottom:d}}function jl(e,t,n,r){return e?0:Kr(t,n,r)}function Nl(e){const t=wl(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Ji(r);return{t:jl(i.top,s.top,0,n),r:jl(i.right,s.right,0,t),b:jl(i.bottom,s.bottom,0,n),l:jl(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Ki(i),a=Math.min(t,n),o=e.borderSkipped,l=r||lr(i);return{topLeft:jl(!l||o.top||o.left,s.topLeft,0,a),topRight:jl(!l||o.top||o.right,s.topRight,0,a),bottomLeft:jl(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:jl(!l||o.bottom||o.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function kl(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&wl(e,r);return a&&(i||Xr(t,a.left,a.right))&&(s||Xr(n,a.top,a.bottom))}function Sl(e,t){e.rect(t.x,t.y,t.w,t.h)}function _l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}(0,kn.A)(vl,"id","point"),(0,kn.A)(vl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,kn.A)(vl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Cl extends go{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=Nl(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Ui:Sl;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,_l(s,t,i)),e.clip(),a(e,_l(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,_l(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return kl(this,e,t,n)}inXRange(e,t){return kl(this,e,null,t)}inYRange(e,t){return kl(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,kn.A)(Cl,"id","bar"),(0,kn.A)(Cl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,kn.A)(Cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Al=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Pl extends go{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=fr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Gi(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=Al(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,f)=>{const m=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+m+2*a>s)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:m,height:r},l[l.length-1]+=m+a}),d}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=a,u=0,h=0,f=0,m=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:p,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=El(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&h+g+2*a>c&&(d+=u+a,l.push({width:u,height:h}),f+=u+a,m++,u=h=0),o[s]={left:f,top:h,col:m,width:p,height:g},u=Math.max(u,p),h+=g+a}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=Is(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=oi(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=oi(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=oi(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=oi(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ri(e,this),this._draw(),Ii(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=Ai.color,o=Is(e.rtl,this.left,this.width),l=Gi(s.font),{padding:c}=s,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:p}=Al(s,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:oi(i,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:oi(i,this.top+x+c,this.bottom-t[0].height),line:0},zs(this.ctx,e.textDirection);const y=p+c;this.legendItems.forEach((b,v)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,j=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),N=f+u+w;let k=h.x,S=h.y;o.setWidth(this.width),g?v>0&&k+N+c>this.right&&(S=h.y+=y,h.line++,k=h.x=oi(i,this.left+c,this.right-n[h.line])):v>0&&S+y>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=oi(i,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;r.save();const i=ur(n.lineWidth,1);if(r.fillStyle=ur(n.fillStyle,a),r.lineCap=ur(n.lineCap,"butt"),r.lineDashOffset=ur(n.lineDashOffset,0),r.lineJoin=ur(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=ur(n.strokeStyle,a),r.setLineDash(ur(n.lineDash,[])),s.usePointStyle){const a={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);Li(r,a,l,t+u,s.pointStyleWidth&&f)}else{const s=t+Math.max((d-m)/2,0),a=o.leftForLtr(e,f),l=Ki(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Ui(r,{x:a,y:s,w:f,h:m,radius:l}):r.rect(a,s,f,m),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(k),S,b),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(j,k+f+u,g?k+N:this.right,e.rtl),function(e,t,n){Wi(r,n.text,e,t+p/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),S,b),g)h.x+=N+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=El(b,e)+c}else h.y+=y}),Fs(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Gi(t.font),r=Xi(t.padding);if(!t.display)return;const i=Is(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=oi(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+oi(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=oi(a,d,d+u);s.textAlign=i.textAlign(ai(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Wi(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Gi(e.font),n=Xi(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Xr(e,this.left,this.right)&&Xr(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Xr(e,r.left,r.left+r.width)&&Xr(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,a=(i=n,null!==(r=s)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);s&&!a&&fr(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!a&&fr(t.onHover,[e,n,this],this)}else n&&fr(t.onClick,[e,n,this],this);var r,i}}function El(e,t){return t*(e.text?e.text.length:0)}var Ml={id:"legend",_element:Pl,start(e,t,n){const r=e.legend=new Pl({ctx:e.ctx,options:n,chart:e});Xa.configure(e,r,n),Xa.addBox(e,r)},stop(e){Xa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Xa.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Xi(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ol extends go{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=or(n.text)?n.text.length:1;this._padding=Xi(n.padding);const i=r*Gi(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,d=0;return this.isHorizontal()?(l=oi(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=oi(a,r,t),d=-.5*Ar):(l=i-e,c=oi(a,t,r),d=.5*Ar),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Gi(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);Wi(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:ai(t.align),textBaseline:"middle",translation:[i,s]})}}var Tl={id:"title",_element:Ol,start(e,t,n){!function(e,t){const n=new Ol({ctx:e.ctx,options:t,chart:e});Xa.configure(e,n,t),Xa.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Xa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Xa.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Ll={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce((e,t)=>e+t)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=$r(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function Dl(e,t){return t&&(or(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Rl(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Il(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function zl(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=Gi(t.bodyFont),c=Gi(t.titleFont),d=Gi(t.footerFont),u=s.length,h=i.length,f=r.length,m=Xi(t.padding);let p=m.height,g=0,x=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){p+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,mr(e.title,b),n.font=l.string,mr(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?a+2+t.boxPadding:0,mr(r,e=>{mr(e.before,b),mr(e.lines,b),mr(e.after,b)}),y=0,n.font=d.string,mr(e.footer,b),n.restore(),g+=m.width,{width:g,height:p}}function Fl(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function Bl(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Fl(e,t,n,r),yAlign:r}}function Vl(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Ki(a);let m=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const p=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+i:"right"===o&&(m+=Math.max(u,f)+i),{x:Kr(m,0,r.width-t.width),y:Kr(p,0,r.height-t.height)}}function Wl(e,t,n){const r=Xi(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Ul(e){return Dl([],Rl(e))}function Hl(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ql={beforeTitle:ir,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ir,beforeBody:ir,beforeLabel:ir,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ar(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ir,afterBody:ir,beforeFooter:ir,footer:ir,afterFooter:ir};function $l(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?ql[t].call(n,r):i}class Yl extends go{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new ea(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,es(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=$l(n,"beforeTitle",this,e),i=$l(n,"title",this,e),s=$l(n,"afterTitle",this,e);let a=[];return a=Dl(a,Rl(r)),a=Dl(a,Rl(i)),a=Dl(a,Rl(s)),a}getBeforeBody(e,t){return Ul($l(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return mr(e,e=>{const t={before:[],lines:[],after:[]},i=Hl(n,e);Dl(t.before,Rl($l(i,"beforeLabel",this,e))),Dl(t.lines,$l(i,"label",this,e)),Dl(t.after,Rl($l(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return Ul($l(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=$l(n,"beforeFooter",this,e),i=$l(n,"footer",this,e),s=$l(n,"afterFooter",this,e);let a=[];return a=Dl(a,Rl(r)),a=Dl(a,Rl(i)),a=Dl(a,Rl(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(Il(this.chart,t[a]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),mr(l,t=>{const n=Hl(e.callbacks,t);r.push($l(n,"labelColor",this,t)),i.push($l(n,"labelPointStyle",this,t)),s.push($l(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=Ll[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=zl(this,n),a=Object.assign({},e,t),o=Bl(this.chart,n,a),l=Vl(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Ki(a),{x:u,y:h}=e,{width:f,height:m}=t;let p,g,x,y,b,v;return"center"===i?(b=h+m/2,"left"===r?(p=u,g=p-s,y=b+s,v=b-s):(p=u+f,g=p+s,y=b-s,v=b+s),x=p):(g="left"===r?u+Math.max(o,c)+s:"right"===r?u+f-Math.max(l,d)-s:this.caretX,"top"===i?(y=h,b=y-s,p=g-s,x=g+s):(y=h+m,b=y+s,p=g+s,x=g-s),v=y),{x1:p,x2:g,x3:x,y1:y,y2:b,y3:v}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=Is(n.rtl,this.x,this.width);for(e.x=Wl(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Gi(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=Gi(i.bodyFont),d=Wl(this,"left",i),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Ti(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Ti(e,t,n,c)}else{e.lineWidth=lr(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),a=Ki(s.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ui(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ui(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Gi(n.bodyFont);let u=d.lineHeight,h=0;const f=Is(n.rtl,this.x,this.width),m=function(n){t.fillText(n,f.x(e.x+h),e.y+u/2),e.y+=u+i},p=f.textAlign(s);let g,x,y,b,v,w,j;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=Wl(this,p,n),t.fillStyle=n.bodyColor,mr(this.beforeBody,m),h=a&&"right"!==p?"center"===s?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],x=this.labelTextColors[b],t.fillStyle=x,mr(g.before,m),y=g.lines,a&&y.length&&(this._drawColorBox(t,e,b,f,n),u=Math.max(d.lineHeight,o)),v=0,j=y.length;v<j;++v)m(y[v]),u=d.lineHeight;mr(g.after,m)}h=0,u=d.lineHeight,mr(this.afterBody,m),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=Is(n.rtl,this.x,this.width);for(e.x=Wl(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Gi(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Ki(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-u,o),t.quadraticCurveTo(a+l,o,a+l,o+u),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+h,o+c),t.quadraticCurveTo(a,o+c,a,o+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+d),t.quadraticCurveTo(a,o,a+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Ll[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=zl(this,e),a=Object.assign({},n,this._size),o=Bl(t,e,a),l=Vl(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Xi(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),zs(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Fs(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!pr(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!pr(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=Ll[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}(0,kn.A)(Yl,"positioners",Ll);var Ql={id:"tooltip",_element:Yl,positioners:Ll,afterInit(e,t,n){n&&(e.tooltip=new Yl({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,o.A)((0,o.A)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ql},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Jl(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function Kl(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Xl extends _o{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ar(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Kr(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Jl(n,e,ur(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return Kl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Gl(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=i||1,f=c-1,{min:m,max:p}=t,g=!ar(s),x=!ar(a),y=!ar(l),b=(p-m)/(d+1);let v,w,j,N,k=Fr((p-m)/f/h)*h;if(k<1e-14&&!g&&!x)return[{value:m},{value:p}];N=Math.ceil(p/k)-Math.floor(m/k),N>f&&(k=Fr(N*k/f/h)*h),ar(o)||(v=Math.pow(10,o),k=Math.ceil(k*v)/v),"ticks"===r?(w=Math.floor(m/k)*k,j=Math.ceil(p/k)*k):(w=m,j=p),g&&x&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,k/1e3)?(N=Math.round(Math.min((a-s)/k,c)),k=(a-s)/N,w=s,j=a):y?(w=g?s:w,j=x?a:j,N=l-1,k=(j-w)/N):(N=(j-w)/k,N=zr(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(Hr(k),Hr(w));v=Math.pow(10,ar(o)?S:o),w=Math.round(w*v)/v,j=Math.round(j*v)/v;let _=0;for(g&&(u&&w!==s?(n.push({value:s}),w<s&&_++,zr(Math.round((w+_*k)*v)/v,s,Zl(s,b,e))&&_++):w<s&&_++);_<N;++_){const e=Math.round((w+_*k)*v)/v;if(x&&e>a)break;n.push({value:e})}return x&&u&&j!==a?n.length&&zr(n[n.length-1].value,a,Zl(a,b,e))?n[n.length-1].value=a:n.push({value:a}):x&&j!==a||n.push({value:j}),n}function Zl(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Wr(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}(0,kn.A)(Xl,"id","category"),(0,kn.A)(Xl,"defaults",{ticks:{callback:Kl}});class ec extends _o{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ar(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Ir(r),t=Ir(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Gl({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Vr(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return vi(e,this.chart.options.locale,this.options.ticks.format)}}class tc extends ec{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cr(e)?e:0,this.max=cr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Wr(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,kn.A)(tc,"id","linear"),(0,kn.A)(tc,"defaults",{ticks:{callback:ji.formatters.numeric}});const nc=e=>Math.floor(Rr(e)),rc=(e,t)=>Math.pow(10,nc(e)+t);function ic(e){return 1===e/Math.pow(10,nc(e))}function sc(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function ac(e,t){let{min:n,max:r}=t;n=dr(e.min,n);const i=[],s=nc(n);let a=function(e,t){let n=nc(t-e);for(;sc(e,t,n)>10;)n++;for(;sc(e,t,n)<10;)n--;return Math.min(n,nc(e))}(n,r),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=s>a?Math.pow(10,s):0,d=Math.round((n-c)*o)/o,u=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,a)),f=dr(e.min,Math.round((c+u+h*Math.pow(10,a))*o)/o);for(;f<r;)i.push({value:f,major:ic(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,o=a>=0?1:o),f=Math.round((c+u+h*Math.pow(10,a))*o)/o;const m=dr(e.max,f);return i.push({value:m,major:ic(m),significand:h}),i}class oc extends _o{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=ec.prototype.parse.apply(this,[e,t]);if(0!==n)return cr(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=cr(e)?Math.max(0,e):null,this.max=cr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!cr(this._userMin)&&(this.min=e===rc(this.min,0)?rc(this.min,-1):rc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(rc(n,-1)),s(rc(r,1)))),n<=0&&i(rc(r,-1)),r<=0&&s(rc(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=ac({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Vr(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":vi(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rr(e),this._valueRange=Rr(this.max)-Rr(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function lc(e){const t=e.ticks;if(t.display&&e.display){const e=Xi(t.backdropPadding);return ur(t.font&&t.font.size,Ai.font.size)+e.height}return 0}function cc(e,t,n){return n=or(n)?n:[n],{w:Ei(e,t.string,n),h:n.length*t.lineHeight}}function dc(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function uc(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?Ar/s:0;for(let l=0;l<s;l++){const s=a.setContext(e.getPointLabelContext(l));i[l]=s.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),d=Gi(s.font),u=cc(e.ctx,d,e._pointLabels[l]);r[l]=u;const h=Qr(e.getIndexAngle(l)+o),f=Math.round(Ur(h));hc(n,t,h,dc(f,c.x,u.w,0,180),dc(f,c.y,u.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:lc(s)/2,additionalAngle:a?Ar/i:0};let c;for(let d=0;d<i;d++){l.padding=n[d],l.size=t[d];const i=fc(e,d,l);r.push(i),"auto"===o&&(i.visible=mc(i,c),i.visible&&(c=i))}return r}(e,r,i)}function hc(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function fc(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),c=Math.round(Ur(Qr(l.angle+Tr))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function mc(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Di({x:n,y:r},t)||Di({x:n,y:s},t)||Di({x:i,y:r},t)||Di({x:i,y:s},t))}function pc(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!ar(o)){const n=Ki(t.borderRadius),l=Xi(t.backdropPadding);e.fillStyle=o;const c=r-l.left,d=i-l.top,u=s-r+l.width,h=a-i+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),Ui(e,{x:c,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(c,d,u,h)}}function gc(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Pr);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}(0,kn.A)(oc,"id","logarithmic"),(0,kn.A)(oc,"defaults",{ticks:{callback:ji.formatters.logarithmic,major:{enabled:!0}}});class xc extends ec{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xi(lc(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=cr(e)&&!isNaN(e)?e:0,this.max=cr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lc(this.options))}generateTickLabels(e){ec.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=fr(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?uc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Qr(e*(Pr/(this._pointLabels.length||1))+Wr(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ar(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ar(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return es(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-Tr+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),gc(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));pc(n,s,t);const a=Gi(s.font),{x:o,y:l,textAlign:c}=t;Wi(n,e._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),gc(e,n,a,r),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}}),n.display){for(e.save(),a=s-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=Gi(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=Xi(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}Wi(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,kn.A)(xc,"id","radialLinear"),(0,kn.A)(xc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ji.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,kn.A)(xc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,kn.A)(xc,"descriptors",{angleLines:{_fallback:"grid"}});const yc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bc=Object.keys(yc);function vc(e,t){return e-t}function wc(e,t){if(ar(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),cr(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!Br(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function jc(e,t,n,r){const i=bc.length;for(let s=bc.indexOf(e);s<i-1;++s){const e=yc[bc[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return bc[s]}return bc[i-1]}function Nc(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Gr(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function kc(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class Sc extends _o{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new Ma(e.adapters.date);r.init(t),vr(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:wc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=cr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=cr(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?jc(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=bc.length-1;s>=bc.indexOf(n);s--){const n=bc[s];if(yc[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return bc[n?bc.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=bc.indexOf(e)+1,n=bc.length;t<n;++t)if(yc[bc[t]].common)return bc[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),kc(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Kr(r,0,s),i=Kr(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||jc(i.minUnit,t,n,this._getLabelCapacity(t)),a=ur(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=Br(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,a,s),u++)Nc(c,d,f);return d!==n&&"ticks"!==r.bounds&&1!==u||Nc(c,d,f),Object.keys(c).sort(vc).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return fr(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],d=l&&a[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,r||(h?d:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Wr(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,kc(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(wc(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ri(e.sort(vc))}}function _c(e,t,n){let r,i,s,a,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Zr(e,"pos",t)),({pos:r,time:s}=e[o]),({pos:i,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Zr(e,"time",t)),({time:r,pos:s}=e[o]),({time:i,pos:a}=e[l]));const c=i-r;return c?s+(a-s)*(t-r)/c:s}(0,kn.A)(Sc,"id","time"),(0,kn.A)(Sc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Cc extends Sc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_c(t,this.min),this._tableRange=_c(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],o=r[s-1],l=r[s],Math.round((c+o)/2)!==l&&i.push({time:l,pos:s/(a-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(_c(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return _c(this._table,n*this._tableRange+this._minPos,!0)}}(0,kn.A)(Cc,"id","timeseries"),(0,kn.A)(Cc,"defaults",Sc.defaults);rl.register(Xl,tc,Cl,Tl,Ql,Ml,cl);const Ac=()=>{const{user:e,isAuthenticated:t}=(0,v.A)(),n=(0,a.Zp)(),[i,s]=(0,r.useState)({totalProducts:0,totalCategories:0,totalOrders:0,totalUsers:0,lowStockProducts:0,totalRevenue:0}),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.isAdmin&&u()},[t,e]),!t||null===e||void 0===e||!e.isAdmin)return(0,w.jsx)(a.C5,{to:"/login",replace:!0});const u=async()=>{try{var e,t;d(!0);const n=localStorage.getItem("token"),r={Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},[i,a,o,c,u]=await Promise.all([fetch("/api/products",{headers:r}),fetch("/api/categories",{headers:r}),fetch("/api/orders",{headers:r}),fetch("/api/reports/inventory",{headers:r}),fetch("/api/reports/users",{headers:r})]),h=await i.json(),f=await a.json(),m=await o.json(),p=await c.json(),g=await u.json(),x=m.orders||m,y=Array.isArray(x)?x.length:0,b=Array.isArray(x)?x.reduce((e,t)=>e+(t.totalPrice||0),0):0;s({totalProducts:h.totalProducts||(null===(e=h.products)||void 0===e?void 0:e.length)||0,totalCategories:f.length||0,totalOrders:y,totalUsers:g.totalUsers||0,lowStockProducts:(null===(t=p.lowStock)||void 0===t?void 0:t.length)||0,totalRevenue:b});const v=[];(Array.isArray(x)?x:[]).slice(0,10).forEach(e=>{e.orderItems.forEach(t=>{v.push({orderId:e._id,productName:t.name,quantity:t.quantity})})}),l(v)}catch(n){console.error("Error fetching dashboard stats:",n)}finally{d(!1)}},h=e=>{let{title:t,value:n,icon:r,color:i}=e;return(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 ".concat(i),children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:t}),(0,w.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:n})]}),(0,w.jsx)("div",{className:"text-4xl",children:r})]})})};if(console.log("stats:",i),console.log("recentOrderedItems:",o),c)return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,w.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});const f=e=>"number"===typeof e?e:Number(e)||0;f(i.totalProducts),f(i.totalCategories),f(i.totalOrders),f(i.totalUsers),f(i.lowStockProducts),f(i.totalProducts),f(i.totalCategories),f(i.totalOrders),f(i.totalUsers),f(i.lowStockProducts);return(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,w.jsx)("div",{className:"bg-white shadow-sm",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,w.jsxs)("div",{className:"text-sm text-gray-600",children:["Welcome, ",null===e||void 0===e?void 0:e.username]})]})})}),(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[(0,w.jsx)(h,{title:"Total Products",value:i.totalProducts,icon:"\ud83d\udce6",color:"border-l-blue-500 text-blue-500"}),(0,w.jsx)(h,{title:"Categories",value:i.totalCategories,icon:"\ud83d\udccb",color:"border-l-green-500 text-green-500"}),(0,w.jsx)(h,{title:"Total Orders",value:i.totalOrders,icon:"\ud83d\uded2",color:"border-l-yellow-500 text-yellow-500"}),(0,w.jsx)(h,{title:"Low Stock Items",value:i.lowStockProducts,icon:"\u26a0\ufe0f",color:"border-l-red-500 text-red-500"}),(0,w.jsx)(h,{title:"Total Users",value:i.totalUsers,icon:"\ud83d\udc64",color:"border-l-purple-500 text-purple-500"})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Management"}),(0,w.jsx)("div",{className:"space-y-2",children:(0,w.jsx)("button",{onClick:()=>n("/admin/orders"),className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors",children:"Manage Orders"})})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Management"}),(0,w.jsx)("div",{className:"space-y-2",children:(0,w.jsx)("button",{onClick:()=>n("/admin/users"),className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition-colors",children:"Manage Users"})})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Management"}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("button",{onClick:()=>n("/admin/products/new"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Add New Product"}),(0,w.jsx)("button",{onClick:()=>n("/admin/products"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors",children:"Manage Products"})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Management"}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("button",{onClick:()=>n("/admin/categories/new"),className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors",children:"Add New Category"}),(0,w.jsx)("button",{onClick:()=>n("/admin/categories"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors",children:"Manage Categories"})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory Management"}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)("button",{onClick:()=>n("/admin/inventory"),className:"w-full bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700 transition-colors",children:"Manage Inventory"}),(0,w.jsx)("button",{onClick:()=>n("/admin/inventory/low-stock"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors",children:"Low Stock Alert"})]})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recently Ordered Items"}),0===o.length?(0,w.jsx)("div",{className:"text-gray-500",children:"No recent orders found."}):(0,w.jsxs)("table",{className:"min-w-full text-sm",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"text-left py-2 px-4",children:"Order ID"}),(0,w.jsx)("th",{className:"text-left py-2 px-4",children:"Product Name"}),(0,w.jsx)("th",{className:"text-left py-2 px-4",children:"Quantity"})]})}),(0,w.jsx)("tbody",{children:o.map((e,t)=>(0,w.jsxs)("tr",{className:"border-b",children:[(0,w.jsx)("td",{className:"py-2 px-4",children:String(e.orderId)}),(0,w.jsx)("td",{className:"py-2 px-4",children:String(e.productName)}),(0,w.jsx)("td",{className:"py-2 px-4",children:String(e.quantity)})]},t))})]})]})]})]})},Pc=()=>{const{user:e,isAuthenticated:t}=(0,v.A)(),[n,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(""),[h,f]=(0,r.useState)("all"),[m,p]=(0,r.useState)([]),[g,x]=(0,r.useState)(1),[y,b]=(0,r.useState)(1),[j,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.isAdmin&&(_(),C())},[g,d,h,t,e]),!t||null===e||void 0===e||!e.isAdmin)return(0,w.jsx)(a.C5,{to:"/login",replace:!0});const _=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=new URLSearchParams((0,o.A)((0,o.A)({pageNumber:g.toString()},d&&{keyword:d}),"all"!==h&&{category:h})),n=await fetch("/api/products?".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();i(e.products||[]),b(e.pages||1)}else console.error("Failed to fetch products"),i([])}catch(e){console.error("Error fetching products:",e),i([])}finally{c(!1)}},C=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/categories/admin/all",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();p(e.map(e=>({_id:e._id,name:e.name})))}}catch(e){console.error("Error fetching categories:",e)}},A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),P=e=>0===e?"Out of Stock":e<10?"Low Stock":"In Stock";return l?(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,w.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]})}):(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,w.jsx)("div",{className:"bg-white shadow-sm",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(s.N_,{to:"/admin",className:"text-blue-600 hover:text-blue-800",children:"\u2190 Dashboard"}),(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsx)("button",{onClick:()=>S(!0),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Clear All Products"}),(0,w.jsx)(s.N_,{to:"/admin/products/new",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add New Product"})]})]})})}),(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),(0,w.jsx)("input",{type:"text",value:d,onChange:e=>{u(e.target.value),x(1)},placeholder:"Search by name or description...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),(0,w.jsxs)("select",{value:h,onChange:e=>{f(e.target.value),x(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,w.jsx)("option",{value:"all",children:"All Categories"}),m.map(e=>(0,w.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,w.jsx)("div",{className:"flex items-end",children:(0,w.jsx)("button",{onClick:()=>{u(""),f("all"),x(1)},className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200 transition-colors",children:"Clear Filters"})})]})}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-50",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{return(0,w.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:(0,w.jsx)("img",{className:"h-12 w-12 rounded-md object-cover",src:e.images[0],alt:e.name})}),(0,w.jsxs)("div",{className:"ml-4",children:[(0,w.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:e.name}),(0,w.jsx)("div",{className:"text-sm text-gray-500",children:e.brand})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"font-medium",children:A(e.price)}),e.originalPrice&&e.originalPrice>e.price&&(0,w.jsx)("div",{className:"text-xs text-gray-500 line-through",children:A(e.originalPrice)})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.countInStock}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((t=e.countInStock,0===t?"bg-red-100 text-red-800":t<10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800")),children:P(e.countInStock)})}),(0,w.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,w.jsx)(s.N_,{to:"/admin/products/edit/".concat(e._id),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),(0,w.jsx)("button",{onClick:()=>N(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"}),(0,w.jsx)(s.N_,{to:"/product/".concat(e._id),className:"text-gray-600 hover:text-gray-900",target:"_blank",rel:"noopener noreferrer",children:"View"})]})]},e._id);var t})})]})}),y>1&&(0,w.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,w.jsxs)("div",{className:"flex justify-between items-center",children:[(0,w.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===g,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,w.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",g," of ",y]}),(0,w.jsx)("button",{onClick:()=>x(e=>Math.min(e+1,y)),disabled:g===y,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}),0===n.length&&(0,w.jsxs)("div",{className:"text-center py-12",children:[(0,w.jsx)("div",{className:"text-gray-500 text-lg",children:"No products found"}),(0,w.jsx)("p",{className:"text-gray-400 mt-2",children:"Try adjusting your search criteria or add some products."})]})]}),j&&(0,w.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center",children:(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Product"}),(0,w.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this product? This action cannot be undone."}),(0,w.jsxs)("div",{className:"flex space-x-3",children:[(0,w.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");(await fetch("/api/products/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok?(i(n.filter(t=>t._id!==e)),N(null)):console.error("Failed to delete product")}catch(t){console.error("Error deleting product:",t)}})(j),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors",children:"Delete"}),(0,w.jsx)("button",{onClick:()=>N(null),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),k&&(0,w.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center",children:(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:"\u26a0\ufe0f Clear All Products"}),(0,w.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",(0,w.jsx)("strong",{children:"ALL"})," products? This will permanently remove every product from the database and cannot be undone."]}),(0,w.jsxs)("div",{className:"flex space-x-3",children:[(0,w.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/admin/products/clear",{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Cleared products:",e.message),i([]),S(!1),alert("Successfully deleted ".concat(e.deletedCount," products"))}else console.error("Failed to clear products"),alert("Failed to clear products")}catch(e){console.error("Error clearing products:",e),alert("Error clearing products")}},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors",children:"Yes, Clear All"}),(0,w.jsx)("button",{onClick:()=>S(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},Ec=()=>{const{user:e,isAuthenticated:t,isAuthLoading:n}=(0,v.A)(),i=(0,a.Zp)(),{id:l}=(0,a.g)(),c=Boolean(l),[d,u]=(0,r.useState)([]),[h,f]=(0,r.useState)({name:"",price:0,originalPrice:0,description:"",images:[""],brand:"",category:"",countInStock:0,features:[""],specifications:{},tags:[""],weight:"",dimensions:"",warranty:""}),[m,p]=(0,r.useState)([]),[g,x]=(0,r.useState)([]),[y,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(""),[_,C]=(0,r.useState)(""),[A,P]=(0,r.useState)(""),[E,M]=(0,r.useState)("");if((0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.isAdmin&&(O(),c&&l&&T(l))},[c,l,t,e]),n)return(0,w.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,w.jsx)("span",{children:"Loading..."})});if(!t||null===e||void 0===e||!e.isAdmin)return(0,w.jsx)(a.C5,{to:"/login",replace:!0});const O=async()=>{try{const e=localStorage.getItem("token"),[t,n]=await Promise.all([fetch("/api/categories/admin/all",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),fetch("/api/products/brands")]);if(t.ok){const e=await t.json();p(e.map(e=>({_id:e._id,name:e.name})))}if(n.ok){const e=await n.json();x(e)}}catch(e){console.error("Error fetching dropdown data:",e)}},T=async e=>{try{b(!0);const i=localStorage.getItem("token"),s=await fetch("/api/products/".concat(e),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}});if(s.ok){var t,n,r;const e=await s.json();f({name:e.name||"",price:e.price||0,originalPrice:e.originalPrice||0,description:e.description||"",images:null!==(t=e.images)&&void 0!==t&&t.length?e.images:[""],brand:e.brand||"",category:e.category||"",countInStock:e.countInStock||0,features:null!==(n=e.features)&&void 0!==n&&n.length?e.features:[""],specifications:e.specifications||{},tags:null!==(r=e.tags)&&void 0!==r&&r.length?e.tags:[""],weight:e.weight||"",dimensions:e.dimensions||"",warranty:e.warranty||""})}}catch(i){console.error("Error fetching product:",i)}finally{b(!1)}},L=(e,t,n)=>{f(r=>(0,o.A)((0,o.A)({},r),{},{[e]:r[e].map((e,r)=>r===t?n:e)}))},D=e=>{f(t=>(0,o.A)((0,o.A)({},t),{},{[e]:[...t[e],""]}))},R=(e,t)=>{h[e].length>1&&f(n=>(0,o.A)((0,o.A)({},n),{},{[e]:n[e].filter((e,n)=>n!==t)}))};return y?(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,w.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading product..."})]})}):(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,w.jsx)("div",{className:"bg-white shadow-sm",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(s.N_,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800",children:"\u2190 Back to Products"}),(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:c?"Edit Product":"Add New Product"})]})})})}),(0,w.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:[k&&(0,w.jsx)(en,{message:k,className:"mb-4"}),_&&(0,w.jsx)("div",{className:"mb-4 text-green-600 font-semibold",children:_}),j&&(0,w.jsx)(Zt,{})]}),(0,w.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N(!0);if([h.name,h.brand,h.category,h.description,h.price,h.countInStock].some(e=>""===e||void 0===e||null===e))return alert("Please fill in all required fields."),void N(!1);const t=new FormData;t.append("name",h.name),t.append("price",String(h.price)),t.append("originalPrice",String(h.originalPrice)),t.append("description",h.description),t.append("brand",h.brand),t.append("category",h.category),t.append("countInStock",String(h.countInStock)),t.append("weight",h.weight),t.append("dimensions",h.dimensions),t.append("warranty",h.warranty),t.append("features",JSON.stringify(h.features.filter(e=>""!==e.trim()))),t.append("tags",JSON.stringify(h.tags.filter(e=>""!==e.trim()))),t.append("specifications",JSON.stringify(h.specifications)),d.length>0&&d.forEach(e=>{t.append("images[]",e)});const n=c?"/api/products/".concat(l):"/api/products",r=c?"PUT":"POST",s=localStorage.getItem("token");try{const e=await fetch(n,{method:r,headers:{Authorization:"Bearer ".concat(s)},body:t});if(e.ok)i("/admin/products");else{const t=await e.json();alert(t.message||"Failed to save product")}}catch(a){console.error("Error saving product:",a),alert("Failed to save product")}finally{N(!1)}},className:"space-y-8",children:[(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,w.jsx)("input",{type:"text",value:h.name,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand *"}),(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("input",{type:"text",list:"brands-list",value:h.brand,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{brand:e.target.value})),placeholder:"Type or select a brand",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,w.jsx)("datalist",{id:"brands-list",children:g.map(e=>(0,w.jsx)("option",{value:e},e))})]}),(0,w.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Type a new brand name or select from existing brands"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,w.jsxs)("select",{value:h.category,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,w.jsx)("option",{value:"",children:"Select Category"}),m.map(e=>(0,w.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),(0,w.jsx)("input",{type:"number",min:"0",value:h.countInStock,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{countInStock:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,w.jsxs)("div",{className:"mt-6",children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,w.jsx)("textarea",{value:h.description,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Price *"}),(0,w.jsx)("input",{type:"number",step:"0.01",min:"0",value:h.price,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{price:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price"}),(0,w.jsx)("input",{type:"number",step:"0.01",min:"0",value:h.originalPrice,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{originalPrice:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Images"}),(0,w.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files||[]);0!==t.length&&(u(e=>[...e,...t]),f(e=>(0,o.A)((0,o.A)({},e),{},{images:[...e.images,...t.map(e=>URL.createObjectURL(e))]})))},className:"mb-4"}),(0,w.jsx)("div",{className:"flex flex-wrap gap-4",children:d&&d.length>0&&d.map((e,t)=>(0,w.jsxs)("div",{className:"relative w-24 h-24 border rounded overflow-hidden",children:[(0,w.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"object-cover w-full h-full"}),(0,w.jsx)("button",{type:"button",onClick:()=>{u(e=>e.filter((e,n)=>n!==t)),f(e=>(0,o.A)((0,o.A)({},e),{},{images:e.images.filter((e,n)=>n!==t)}))},className:"absolute top-1 right-1 bg-red-500 text-white rounded px-1 text-xs",children:"\xd7"})]},t))})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Features"}),h.features.map((e,t)=>(0,w.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,w.jsx)("input",{type:"text",placeholder:"Feature",value:e,onChange:e=>L("features",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.features.length>1&&(0,w.jsx)("button",{type:"button",onClick:()=>R("features",t),className:"px-3 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200",children:"Remove"})]},t)),(0,w.jsx)("button",{type:"button",onClick:()=>D("features"),className:"mt-2 px-4 py-2 bg-blue-100 text-blue-600 rounded-md hover:bg-blue-200",children:"Add Feature"})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Specifications"}),(0,w.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,w.jsx)("input",{type:"text",placeholder:"Specification name",value:A,onChange:e=>P(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,w.jsx)("input",{type:"text",placeholder:"Specification value",value:E,onChange:e=>M(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,w.jsx)("button",{type:"button",onClick:()=>{A.trim()&&E.trim()&&(f(e=>(0,o.A)((0,o.A)({},e),{},{specifications:(0,o.A)((0,o.A)({},e.specifications),{},{[A.trim()]:E.trim()})})),P(""),M(""))},className:"px-4 py-2 bg-green-100 text-green-600 rounded-md hover:bg-green-200",children:"Add"})]}),Object.entries(h.specifications).map(e=>{let[t,n]=e;return(0,w.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[(0,w.jsxs)("div",{className:"flex-1",children:[(0,w.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",n]}),(0,w.jsx)("button",{type:"button",onClick:()=>(e=>{const t=(0,o.A)({},h.specifications);delete t[e],f(e=>(0,o.A)((0,o.A)({},e),{},{specifications:t}))})(t),className:"px-3 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-sm",children:"Remove"})]},t)})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Details"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),(0,w.jsx)("input",{type:"text",placeholder:"e.g., 1.5kg",value:h.weight,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{weight:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions"}),(0,w.jsx)("input",{type:"text",placeholder:"e.g., 10x15x20 cm",value:h.dimensions,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{dimensions:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warranty"}),(0,w.jsx)("input",{type:"text",placeholder:"e.g., 1 year",value:h.warranty,onChange:e=>f(t=>(0,o.A)((0,o.A)({},t),{},{warranty:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),h.tags.map((e,t)=>(0,w.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,w.jsx)("input",{type:"text",placeholder:"Tag",value:e,onChange:e=>L("tags",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.tags.length>1&&(0,w.jsx)("button",{type:"button",onClick:()=>R("tags",t),className:"px-3 py-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200",children:"Remove"})]},t)),(0,w.jsx)("button",{type:"button",onClick:()=>D("tags"),className:"mt-2 px-4 py-2 bg-blue-100 text-blue-600 rounded-md hover:bg-blue-200",children:"Add Tag"})]}),(0,w.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,w.jsx)(s.N_,{to:"/admin/products",className:"px-6 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,w.jsx)("button",{type:"submit",disabled:j,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":c?"Update Product":"Create Product"})]})]})})]})},Mc=()=>{const{user:e,isAuthenticated:t}=(0,v.A)(),[n,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[g,x]=(0,r.useState)({name:"",description:"",image:"",parent:"",isActive:!0,sortOrder:0,seoTitle:"",seoDescription:""});if((0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.isAdmin&&y()},[t,e]),!t||null===e||void 0===e||!e.isAdmin)return(0,w.jsx)(a.C5,{to:"/login",replace:!0});const y=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await fetch("/api/categories/admin/all",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();i(e)}else console.error("Failed to fetch categories")}catch(e){console.error("Error fetching categories:",e)}finally{c(!1)}},b=()=>{x({name:"",description:"",image:"",parent:"",isActive:!0,sortOrder:0,seoTitle:"",seoDescription:""})};return l?(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,w.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading categories..."})]})}):(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,w.jsx)("div",{className:"bg-white shadow-sm",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(s.N_,{to:"/admin",className:"text-blue-600 hover:text-blue-800",children:"\u2190 Dashboard"}),(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Management"})]}),(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");(await fetch("/api/categories/update-counts",{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok?(await y(),alert("Product counts updated successfully")):alert("Failed to update product counts")}catch(e){console.error("Error updating product counts:",e),alert("Failed to update product counts")}},className:"bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors",children:"Update Counts"}),(0,w.jsx)("button",{onClick:()=>{b(),f(null),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add Category"})]})]})})}),(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-50",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sort Order"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,w.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,w.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.image,alt:e.name})}),(0,w.jsxs)("div",{className:"ml-4",children:[(0,w.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,w.jsx)("div",{className:"text-sm text-gray-500",children:e.slug})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.parent?e.parent.name:"-"}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.productCount}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sortOrder}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,w.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,w.jsx)("button",{onClick:()=>(e=>{var t;x({name:e.name,description:e.description,image:e.image,parent:(null===(t=e.parent)||void 0===t?void 0:t._id)||"",isActive:e.isActive,sortOrder:e.sortOrder,seoTitle:e.seoTitle||"",seoDescription:e.seoDescription||""}),f(e),u(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),(0,w.jsx)("button",{onClick:()=>p(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})}),0===n.length&&(0,w.jsxs)("div",{className:"text-center py-12",children:[(0,w.jsx)("div",{className:"text-gray-500 text-lg",children:"No categories found"}),(0,w.jsx)("p",{className:"text-gray-400 mt-2",children:"Add your first category to get started."})]})]}),d&&(0,w.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center",children:(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:h?"Edit Category":"Add New Category"}),(0,w.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=h?"/api/categories/".concat(h._id):"/api/categories",n=h?"PUT":"POST",r=await fetch(t,{method:n,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify((0,o.A)((0,o.A)({},g),{},{parent:g.parent||null}))});if(r.ok)await y(),u(!1),b(),f(null);else{const e=await r.json();alert(e.message||"Failed to save category")}}catch(t){console.error("Error saving category:",t),alert("Failed to save category")}},className:"space-y-4",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,w.jsx)("input",{type:"text",value:g.name,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category"}),(0,w.jsxs)("select",{value:g.parent,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{parent:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,w.jsx)("option",{value:"",children:"None (Top Level)"}),n.filter(e=>e._id!==(null===h||void 0===h?void 0:h._id)).map(e=>(0,w.jsx)("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,w.jsx)("textarea",{value:g.description,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),(0,w.jsx)("input",{type:"url",value:g.image,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{image:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg"})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,w.jsx)("input",{type:"number",value:g.sortOrder,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{sortOrder:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{className:"flex items-center pt-6",children:[(0,w.jsx)("input",{type:"checkbox",id:"isActive",checked:g.isActive,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{isActive:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,w.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Title"}),(0,w.jsx)("input",{type:"text",value:g.seoTitle,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{seoTitle:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Description"}),(0,w.jsx)("input",{type:"text",value:g.seoDescription,onChange:e=>x(t=>(0,o.A)((0,o.A)({},t),{},{seoDescription:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,w.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,w.jsx)("button",{type:"button",onClick:()=>{u(!1),f(null),b()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,w.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:h?"Update":"Create"})]})]})]})}),m&&(0,w.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center",children:(0,w.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Category"}),(0,w.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this category? This action cannot be undone and may affect products using this category."}),(0,w.jsxs)("div",{className:"flex space-x-3",children:[(0,w.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await fetch("/api/categories/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(r.ok)i(n.filter(t=>t._id!==e)),p(null);else{const e=await r.json();alert(e.message||"Failed to delete category")}}catch(t){console.error("Error deleting category:",t),alert("Failed to delete category")}})(m),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors",children:"Delete"}),(0,w.jsx)("button",{onClick:()=>p(null),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},Oc=()=>{const{user:e,isAuthenticated:t}=(0,v.A)(),[n,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)("all"),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(10),[g,x]=(0,r.useState)(new Map),[y,b]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{t&&null!==e&&void 0!==e&&e.isAdmin&&j()},[t,e]),!t||null===e||void 0===e||!e.isAdmin)return(0,w.jsx)(a.C5,{to:"/login",replace:!0});const j=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await fetch("/api/products?pageNumber=1&limit=1000",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();i(e.products||[])}else console.error("Failed to fetch products"),i([])}catch(e){console.error("Error fetching products:",e),i([])}finally{c(!1)}},N=n.filter(e=>{if(!(e.name.toLowerCase().includes(h.toLowerCase())||e.brand.toLowerCase().includes(h.toLowerCase())||e.category.toLowerCase().includes(h.toLowerCase())))return!1;switch(d){case"low":return e.countInStock<=m&&e.countInStock>0;case"out":return 0===e.countInStock;default:return!0}}),k=e=>0===e?"Out of Stock":e<=m?"Low Stock":"In Stock";if(l)return(0,w.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),(0,w.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading inventory..."})]})});const S=(()=>{const e=n.filter(e=>e.countInStock<=m&&e.countInStock>0),t=n.filter(e=>0===e.countInStock);return{lowStock:e,outOfStock:t,total:e.length+t.length}})();return(0,w.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,w.jsx)("div",{className:"bg-white shadow-sm",children:(0,w.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,w.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,w.jsx)(s.N_,{to:"/admin",className:"text-blue-600 hover:text-blue-800",children:"\u2190 Dashboard"}),(0,w.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"})]}),(0,w.jsx)("div",{className:"flex space-x-2",children:(0,w.jsx)("button",{onClick:()=>b(!y),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:y?"Cancel Bulk":"Bulk Update"})})]})})}),(0,w.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,w.jsx)("div",{className:"text-sm text-gray-600",children:"Total Products"}),(0,w.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,w.jsx)("div",{className:"text-sm text-gray-600",children:"Low Stock Items"}),(0,w.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:S.lowStock.length})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,w.jsx)("div",{className:"text-sm text-gray-600",children:"Out of Stock"}),(0,w.jsx)("div",{className:"text-2xl font-bold text-red-600",children:S.outOfStock.length})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,w.jsx)("div",{className:"text-sm text-gray-600",children:"Needs Attention"}),(0,w.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:S.total})]})]}),(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),(0,w.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Search by name, brand, or category...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Stock Level"}),(0,w.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,w.jsx)("option",{value:"all",children:"All Products"}),(0,w.jsx)("option",{value:"low",children:"Low Stock Only"}),(0,w.jsx)("option",{value:"out",children:"Out of Stock Only"})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Threshold"}),(0,w.jsx)("input",{type:"number",min:"1",value:m,onChange:e=>p(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y&&g.size>0&&(0,w.jsx)("div",{className:"flex items-end",children:(0,w.jsxs)("button",{onClick:async()=>{if(0!==g.size)try{const e=localStorage.getItem("token"),t=Array.from(g.entries()),n=t.map(t=>{let[n,r]=t;return fetch("/api/products/".concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({countInStock:r})})}),r=(await Promise.all(n)).filter(e=>e.ok).length;r===t.length?(i(e=>e.map(e=>{const t=g.get(e._id);return void 0!==t?(0,o.A)((0,o.A)({},e),{},{countInStock:t,inStock:t>0}):e})),x(new Map),b(!1),alert("Successfully updated ".concat(r," products"))):alert("Updated ".concat(r," out of ").concat(t.length," products. Some updates failed."))}catch(e){console.error("Error applying bulk updates:",e),alert("Failed to apply bulk updates")}},className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:["Apply Updates (",g.size,")"]})})]})}),(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-50",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:y?"New Stock":"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>{return(0,w.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:(0,w.jsx)("img",{className:"h-12 w-12 rounded-md object-cover",src:e.images[0],alt:e.name})}),(0,w.jsxs)("div",{className:"ml-4",children:[(0,w.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:e.name}),(0,w.jsx)("div",{className:"text-sm text-gray-500",children:e.brand})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,w.jsx)("div",{className:"font-medium",children:e.countInStock})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((t=e.countInStock,0===t?"bg-red-100 text-red-800":t<=m?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800")),children:k(e.countInStock)})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y?(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)("input",{type:"number",min:"0",defaultValue:e.countInStock,onChange:t=>{return n=e._id,r=Number(t.target.value),void x(e=>{const t=new Map(e);return r<0||t.set(n,r),t});var n,r},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),g.has(e._id)&&(0,w.jsx)("span",{className:"text-xs text-blue-600",children:"Modified"})]}):(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)("input",{type:"number",min:"0",value:e.countInStock,onChange:t=>(async(e,t)=>{try{const n=localStorage.getItem("token");(await fetch("/api/products/".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({countInStock:t})})).ok?i(n=>n.map(n=>n._id===e?(0,o.A)((0,o.A)({},n),{},{countInStock:t,inStock:t>0}):n)):alert("Failed to update stock")}catch(n){console.error("Error updating stock:",n),alert("Failed to update stock")}})(e._id,Number(t.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,w.jsx)(s.N_,{to:"/admin/products/edit/".concat(e._id),className:"text-blue-600 hover:text-blue-900",children:"Edit"})]})})]},e._id);var t})})]})})}),0===N.length&&(0,w.jsxs)("div",{className:"text-center py-12",children:[(0,w.jsx)("div",{className:"text-gray-500 text-lg",children:"No products found"}),(0,w.jsx)("p",{className:"text-gray-400 mt-2",children:"Try adjusting your search or filter criteria."})]}),(S.lowStock.length>0||S.outOfStock.length>0)&&(0,w.jsxs)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,w.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:"\u26a0\ufe0f Inventory Alerts"}),(0,w.jsxs)("div",{className:"space-y-2 text-sm text-yellow-700",children:[S.outOfStock.length>0&&(0,w.jsxs)("p",{children:["\ud83d\udd34 ",(0,w.jsx)("strong",{children:S.outOfStock.length})," products are completely out of stock"]}),S.lowStock.length>0&&(0,w.jsxs)("p",{children:["\ud83d\udfe1 ",(0,w.jsx)("strong",{children:S.lowStock.length})," products are running low (\u2264",m," items)"]})]}),(0,w.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,w.jsx)("button",{onClick:()=>u("out"),className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm hover:bg-red-700 transition-colors",children:"View Out of Stock"}),(0,w.jsx)("button",{onClick:()=>u("low"),className:"bg-yellow-600 text-white px-4 py-2 rounded-md text-sm hover:bg-yellow-700 transition-colors",children:"View Low Stock"})]})]})]})]})};const Tc=function(){const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=setTimeout(()=>{t(!0)},100);return()=>clearTimeout(e)},[]),(0,w.jsx)(s.Kd,{children:(0,w.jsx)(v.O,{children:(0,w.jsx)(S,{children:(0,w.jsx)(E,{children:(0,w.jsx)(rn.SearchProvider,{children:(0,w.jsxs)("div",{className:"min-h-screen flex flex-col ".concat(e?"page-load":"opacity-0"),children:[(0,w.jsx)(T,{}),(0,w.jsx)("main",{className:"flex-grow",children:(0,w.jsxs)(a.BV,{children:[(0,w.jsx)(a.qh,{path:"/request-reset",element:r.createElement(n(582).A)}),(0,w.jsx)(a.qh,{path:"/reset-password/:token",element:r.createElement(n(141).A)}),(0,w.jsx)(a.qh,{path:"/request-email-verification",element:r.createElement(n(679).A)}),(0,w.jsx)(a.qh,{path:"/verify-email/:token",element:r.createElement(n(618).A)}),(0,w.jsx)(a.qh,{path:"/",element:(0,w.jsx)(J,{})}),(0,w.jsx)(a.qh,{path:"/products",element:(0,w.jsx)(X,{})}),(0,w.jsx)(a.qh,{path:"/products/:id",element:(0,w.jsx)(St,{})}),(0,w.jsx)(a.qh,{path:"/product/:id",element:(0,w.jsx)(St,{})}),(0,w.jsx)(a.qh,{path:"/cart",element:(0,w.jsx)(Mt,{})}),(0,w.jsx)(a.qh,{path:"/checkout",element:(0,w.jsx)(Gt,{})}),(0,w.jsx)(a.qh,{path:"/login",element:(0,w.jsx)(ln,{})}),(0,w.jsx)(a.qh,{path:"/signup",element:(0,w.jsx)(cn,{})}),(0,w.jsx)(a.qh,{path:"/profile",element:(0,w.jsx)(wn,{})}),(0,w.jsx)(a.qh,{path:"/orders",element:(0,w.jsx)(jn,{})}),(0,w.jsx)(a.qh,{path:"/orders/:orderId",element:(0,w.jsx)(Nn,{})}),(0,w.jsx)(a.qh,{path:"/track/:trackingNumber",element:(0,w.jsx)(nn,{})}),(0,w.jsx)(a.qh,{path:"/admin",element:(0,w.jsx)(Ac,{})}),(0,w.jsx)(a.qh,{path:"/admin/products",element:(0,w.jsx)(Pc,{})}),(0,w.jsx)(a.qh,{path:"/admin/products/new",element:(0,w.jsx)(Ec,{})}),(0,w.jsx)(a.qh,{path:"/admin/products/edit/:id",element:(0,w.jsx)(Ec,{})}),(0,w.jsx)(a.qh,{path:"/admin/categories",element:(0,w.jsx)(Mc,{})}),(0,w.jsx)(a.qh,{path:"/admin/categories/new",element:(0,w.jsx)(Mc,{})}),(0,w.jsx)(a.qh,{path:"/admin/inventory",element:(0,w.jsx)(Oc,{})}),(0,w.jsx)(a.qh,{path:"/admin/inventory/low-stock",element:(0,w.jsx)(Oc,{})}),(0,w.jsx)(a.qh,{path:"/admin/users",element:r.createElement(n(664).A)}),(0,w.jsx)(a.qh,{path:"/admin/orders",element:r.createElement(n(615).A)})]})}),(0,w.jsx)(B,{})]})})})})})})};i.createRoot(document.getElementById("root")).render((0,w.jsx)(r.StrictMode,{children:(0,w.jsx)(K.p,{children:(0,w.jsx)(Tc,{})})}))})();
//# sourceMappingURL=main.f92b7111.js.map